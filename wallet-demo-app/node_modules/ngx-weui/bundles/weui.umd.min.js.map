{"version":3,"file":"weui.umd.min.js","sources":["../../node_modules/tslib/tslib.es6.js","../../__gen_components/cell/swipe.directive.ts","../../__gen_components/cell/cell.module.ts","../../__gen_components/button/button.config.ts","../../__gen_components/utils/boolean-property.ts","../../__gen_components/button/button.component.ts","../../__gen_components/button/button.module.ts","../../__gen_components/utils/dom.ts","../../__gen_components/form/input.directive.ts","../../__gen_components/form/vcode.directive.ts","../../__gen_components/form/textarea.directive.ts","../../__gen_components/form/check.directive.ts","../../__gen_components/form/form.module.ts","../../__gen_components/slider/slider.ts","../../__gen_components/slider/slider.module.ts","../../__gen_components/uploader/file-like-object.class.ts","../../__gen_components/uploader/file-item.class.ts","../../__gen_components/uploader/uploader.config.ts","../../__gen_components/uploader/file-type.class.ts","../../__gen_components/uploader/uploader.class.ts","../../__gen_components/uploader/uploader.directive.ts","../../__gen_components/utils/browser.ts","../../__gen_components/uploader/file-thumb.directive.ts","../../__gen_components/uploader/uploader.module.ts","../../__gen_components/actionsheet/actionsheet.config.ts","../../__gen_components/actionsheet/actionsheet.component.ts","../../__gen_components/utils/base.service.ts","../../__gen_components/actionsheet/actionsheet.service.ts","../../__gen_components/actionsheet/actionsheet.module.ts","../../__gen_components/mask/mask.component.ts","../../__gen_components/mask/mask.module.ts","../../__gen_components/dialog/dialog.config.ts","../../__gen_components/dialog/dialog.component.ts","../../__gen_components/dialog/dialog.service.ts","../../__gen_components/dialog/dialog.module.ts","../../__gen_components/loadmore/loadmore.config.ts","../../__gen_components/loadmore/loadmore.component.ts","../../__gen_components/loadmore/loadmore.module.ts","../../__gen_components/progress/progress.component.ts","../../__gen_components/progress/progress.module.ts","../../__gen_components/gallery/gallery.component.ts","../../__gen_components/gallery/gallery.module.ts","../../__gen_components/picker/picker.config.ts","../../__gen_components/picker/picker.component.ts","../../__gen_components/picker/picker-group.component.ts","../../__gen_components/picker/picker-date.component.ts","../../__gen_components/picker/picker-city.component.ts","../../__gen_components/picker/picker.service.ts","../../__gen_components/picker/picker.module.ts","../../__gen_components/searchbar/searchbar.config.ts","../../__gen_components/searchbar/searchbar.component.ts","../../__gen_components/searchbar/searchbar.module.ts","../../__gen_components/tab/bar.component.ts","../../__gen_components/tab/tab.directive.ts","../../__gen_components/tab/navbar.component.ts","../../__gen_components/tab/tabbar.component.ts","../../__gen_components/tab/tab.module.ts","../../__gen_components/toast/toast.config.ts","../../__gen_components/toast/toast.component.ts","../../__gen_components/toast/toast.service.ts","../../__gen_components/toast/toast.module.ts","../../__gen_components/toptips/toptips.component.ts","../../__gen_components/toptips/toptips.service.ts","../../__gen_components/toptips/toptips.module.ts","../../__gen_components/popup/popup.config.ts","../../__gen_components/popup/popup.component.ts","../../__gen_components/popup/popup.module.ts","../../__gen_components/ptr/ptr.config.ts","../../__gen_components/ptr/ptr.component.ts","../../__gen_components/ptr/ptr.module.ts","../../__gen_components/infiniteloader/infiniteloader.config.ts","../../__gen_components/infiniteloader/infiniteloader.component.ts","../../__gen_components/infiniteloader/infiniteloader.module.ts","../../__gen_components/sidebar/sidebar.config.ts","../../__gen_components/sidebar/sidebar.service.ts","../../__gen_components/sidebar/sidebar.component.ts","../../__gen_components/sidebar/sidebar-container.component.ts","../../__gen_components/sidebar/close.directive.ts","../../__gen_components/sidebar/sidebar.module.ts","../../__gen_components/swiper/swiper.config.ts","../../__gen_components/swiper/swiper.component.ts","../../__gen_components/swiper/swiper.module.ts","../../__gen_components/chart-g2/chart-g2.directive.ts","../../__gen_components/chart-g2/chart-g2.module.ts","../../__gen_components/utils/loader.service.ts","../../__gen_components/jweixin/jweixin.service.ts","../../__gen_components/jweixin/jweixin.module.ts","../../__gen_components/accordion/accordion.config.ts","../../__gen_components/accordion/accordion.component.ts","../../__gen_components/accordion/accordion-panel.component.ts","../../__gen_components/accordion/accordion.module.ts","../../__gen_components/rating/rating.config.ts","../../__gen_components/rating/rating.component.ts","../../__gen_components/rating/rating.module.ts","../../__gen_components/stepper/stepper.component.ts","../../__gen_components/stepper/stepper.module.ts","../../__gen_components/pagination/pagination.config.ts","../../__gen_components/pagination/pagination.component.ts","../../__gen_components/pagination/pagination.module.ts","../../__gen_components/ngx-weui.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Directive, HostListener, ElementRef, HostBinding, Input, OnChanges, SimpleChanges, OnInit } from '@angular/core';\r\n\r\n/**\r\n * 单元格滑块\r\n */\r\n@Directive({\r\n    selector: '[weui-swipe]'\r\n})\r\nexport class SwipeDirective implements OnInit {\r\n\r\n    private curX: number = 0;\r\n    private opend: boolean = false;\r\n    private swipeEl: any;\r\n\r\n    /**\r\n     * 右边滑动宽度（单位：px），默认：`68`\r\n     */\r\n    @Input('weui-width') width: number = 68;\r\n\r\n    constructor(private el: ElementRef) {}\r\n\r\n    ngOnInit() {\r\n        const el = this.el.nativeElement;\r\n        this.swipeEl = el.querySelector('.weui-cell__bd');\r\n        if (!this.swipeEl)\r\n            this.width = 0;\r\n        else {\r\n            this.setPos(0);\r\n            this.swipeEl.style.transition = 'transform .3s';\r\n        }\r\n    }\r\n\r\n    private setPos(x: number) {\r\n        this.swipeEl.style.transform = `translateX(-${x}px)`;\r\n    }\r\n\r\n    @HostListener('touchstart', ['$event'])\r\n    onTouchStart($event: any) {\r\n        this.curX = ($event.touches[0] || $event.changedTouches[0]).pageX;\r\n    }\r\n\r\n    @HostListener('touchmove', ['$event'])\r\n    onTouchMove($event: any) {\r\n        const touch = $event.touches[0] || $event.changedTouches[0];\r\n        let newX = this.curX - touch.pageX;\r\n        if (this.opend) {\r\n            newX = newX > 0 ? this.width : this.width - Math.abs(newX);\r\n        } else {\r\n            newX = newX > this.width ? this.width : newX;\r\n        }\r\n\r\n        this.setPos(newX <= 0 ? 0 : newX);\r\n    }\r\n\r\n    @HostListener('touchend', ['$event'])\r\n    @HostListener('touchcancel', ['$event'])\r\n    onTouchEnd($event: any) {\r\n        const touch = $event.touches[0] || $event.changedTouches[0];\r\n        let newX = Math.abs(this.curX - touch.pageX);\r\n        if (newX === 0) return;\r\n        if (this.opend) newX = this.width - newX;\r\n        // 当移动超过一半都视为打开\r\n        if (newX > 0 && newX > (+this.width / 2)) {\r\n            this.opend = true;\r\n            this.setPos(this.width);\r\n        } else {\r\n            this.opend = false;\r\n            this.setPos(0);\r\n        }\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { SwipeDirective } from './swipe.directive';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [\r\n        SwipeDirective\r\n    ],\r\n    exports: [\r\n        SwipeDirective\r\n    ]\r\n})\r\nexport class CellModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: CellModule, providers: [] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { ButtonType } from '../utils/types';\r\n\r\n@Injectable()\r\nexport class ButtonConfig {\r\n\r\n    /**\r\n     * 操作场景：primary、default、warn\r\n     */\r\n    type: ButtonType = 'primary';\r\n\r\n    /**\r\n     * disabled状态，默认：`false`\r\n     */\r\n    disabled: boolean = false;\r\n\r\n    /**\r\n     * 是否加载状态，默认：`false`\r\n     */\r\n    loading: boolean = false;\r\n\r\n    /**\r\n     * 镂空按钮，默认：`false`\r\n     */\r\n    plain: boolean = false;\r\n\r\n    /**\r\n     * 是否小号，默认：`false`\r\n     */\r\n    mini: boolean = false;\r\n}\r\n","export function toBoolean(value: any): boolean {\r\n    return value != null && `${value}` !== 'false';\r\n}\r\n","import { Component, Directive, EventEmitter, Input, OnInit, Output, HostBinding } from '@angular/core';\r\nimport { ButtonConfig } from './button.config';\r\nimport { ButtonType } from '../utils/types';\r\nimport { toBoolean } from '../utils/boolean-property';\r\n\r\n@Component({\r\n    selector: 'weui-button, button[weui-button], a[weui-button]',\r\n    host: {\r\n        'class': 'weui-btn',\r\n        '[class.weui-btn_primary]': '!plain && type===\"primary\"',\r\n        '[class.weui-btn_default]': '!plain && type===\"default\"',\r\n        '[class.weui-btn_warn]': '!plain && type===\"warn\"',\r\n        '[class.weui-btn_plain-primary]': 'plain && type===\"primary\"',\r\n        '[class.weui-btn_plain-default]': 'plain && type===\"default\"',\r\n        '[class.weui-btn_plain-warn]': 'plain && type===\"warn\"',\r\n        '[class.weui-btn_disabled]': '!plain && disabled',\r\n        '[class.weui-btn_plain-disabled]': 'plain && disabled',\r\n        '[attr.disabled]': 'disabled ? \"disabled\" : null'\r\n    },\r\n    exportAs: 'weuiButton',\r\n    template: '<i class=\"weui-loading\" *ngIf=\"loading\"></i><ng-content></ng-content>'\r\n})\r\nexport class ButtonComponent {\r\n\r\n    /**\r\n     * 操作场景：primary、default、warn，默认：`primary`\r\n     */\r\n    @Input('weui-type') type: ButtonType = 'primary';\r\n\r\n    /**\r\n     * 是否加载状态\r\n     */\r\n    @HostBinding('class.weui-btn_loading')\r\n    @Input('weui-loading')\r\n    get loading(): boolean { return this._loading; }\r\n    set loading(value) { this._loading = toBoolean(value); }\r\n    private _loading: boolean = false;\r\n\r\n    /**\r\n     * 是否小号\r\n     */\r\n    @HostBinding('class.weui-btn_mini')\r\n    @Input('weui-mini')\r\n    get mini(): boolean { return this._mini; }\r\n    set mini(value) { this._mini = toBoolean(value); }\r\n    private _mini: boolean = false;\r\n\r\n    /**\r\n     * 镂空按钮\r\n     */\r\n    @Input('weui-plain')\r\n    get plain(): boolean { return this._plain; }\r\n    set plain(value) { this._plain = toBoolean(value); }\r\n    private _plain: boolean = false;\r\n\r\n    /**\r\n     * 禁用状态\r\n     */\r\n    @Input()\r\n    get disabled(): boolean { return this._disabled; }\r\n    set disabled(value) { this._disabled = toBoolean(value); }\r\n    private _disabled: boolean = false;\r\n\r\n    constructor(_config: ButtonConfig) {\r\n        Object.assign(this, _config);\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\n\r\nimport { ButtonConfig } from './button.config';\r\nimport { ButtonComponent } from './button.component';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ ButtonComponent ],\r\n    exports: [ ButtonComponent ]\r\n})\r\nexport class ButtonModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: ButtonModule, providers: [ ButtonConfig ] };\r\n    }\r\n}\r\n","/**\r\n * 向上查找父节点\r\n */\r\nexport function findParent(el: any, selector: string): any {\r\n    let retEl = null;\r\n    while (el) {\r\n        if (el.matches(selector)) {\r\n            retEl = el;\r\n            break;\r\n        }\r\n        el = el.parentElement;\r\n    }\r\n    return retEl;\r\n}\r\n\r\n/**\r\n * 查找并创建\r\n */\r\nexport function add(el: any, selector: string = '.weui-cell__ft', tagName: string = 'div', className: string = 'weui-cell__ft', cssText: string = '') {\r\n    let ret = el.querySelector(selector);\r\n    if (!ret) {\r\n        ret = document.createElement(tagName);\r\n        ret.className = className;\r\n        if (cssText)\r\n            ret.style.cssText = cssText;\r\n        el.appendChild(ret);\r\n    }\r\n    return ret;\r\n}\r\n\r\n/**\r\n * 移除\r\n */\r\nexport function remove(el: any, selector: string) {\r\n    const ret = el.querySelector(selector);\r\n    if (ret) {\r\n        el.removeChild(ret);\r\n    }\r\n}\r\n","import { Directive, Input, Renderer, ElementRef, OnInit, OnChanges, SimpleChanges, forwardRef } from '@angular/core';\r\nimport { Validator, AbstractControl, Validators, NG_VALIDATORS, ValidatorFn, ValidationErrors } from '@angular/forms';\r\nimport { findParent, add, remove } from './../utils/dom';\r\n\r\n/**\r\n * 文本框，指令是对文本框格式校验（邮箱、手机、身份证等）、视觉效果的增强而已\r\n */\r\n@Directive({\r\n    selector: '[weui-input]',\r\n    providers: [{\r\n        provide: NG_VALIDATORS,\r\n        useExisting: forwardRef(() => InputDirective),\r\n        multi: true\r\n    }]\r\n})\r\nexport class InputDirective implements OnInit, OnChanges, Validator {\r\n\r\n    private parentEl: any;\r\n    private ftEl: any;\r\n    private pattern: RegExp;\r\n    private _validator: ValidatorFn;\r\n    private _onChange: () => void;\r\n\r\n    /**\r\n     * 文本框类型，**不等同于** <intpu type=\"text\"> 的值\r\n     * 因为 weui-input 属性只是内置格式校验的简洁写法而已。\r\n     * 内置包括：number/digit(允许小数点)/qq/email/tel/mobile/idcard，如需要更为复杂的校验可以使用 weui-regex\r\n     */\r\n    @Input('weui-input') inputType: string;\r\n    /**\r\n     * 格式校验正则表达式，优先级高于 [weui-input]。\r\n     */\r\n    @Input('weui-regex') inputRegex: RegExp | string;\r\n\r\n    /**\r\n     * 是否必填项，**等同于** <intpu required> 的值，当值必填时会有视觉效果\r\n     */\r\n    @Input('weui-required') required: 'info' | 'warn' | 'waiting' = 'warn';\r\n\r\n    /**\r\n     * 是否自动清除内容中的空格\r\n     */\r\n    @Input('weui-cleaner') cleaner: boolean = false;\r\n\r\n    constructor(private el: ElementRef) { }\r\n\r\n    ngOnInit() {\r\n        this.parentEl = findParent(this.el.nativeElement, '.weui-cell');\r\n        if (!this.parentEl) throw new Error('父DOM结构至少必须包含一个.weui-cell');\r\n        // 检查是否有 weui-cell__ft\r\n        this.ftEl = add(this.parentEl);\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        this._createValidator();\r\n        if (this._onChange) this._onChange();\r\n    }\r\n\r\n    private _createValidator(): void {\r\n        let regex: RegExp = null;\r\n        if (this.inputRegex) {\r\n            if (typeof this.inputRegex === 'string') {\r\n                regex = new RegExp(`^${this.inputRegex}$`);\r\n            } else {\r\n                regex = this.inputRegex;\r\n            }\r\n        } else {\r\n            // 默认行为\r\n            if (this.inputType) {\r\n                switch (this.inputType) {\r\n                    case 'qq':\r\n                    case 'number':\r\n                        regex = /^[0-9]+$/;\r\n                        break;\r\n                    case 'digit':\r\n                        regex = /^[.0-9]+$/;\r\n                        break;\r\n                    case 'tel':\r\n                        regex = /^[-.0-9]+$/;\r\n                        break;\r\n                    case 'email':\r\n                        regex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n                        this.cleaner = true;\r\n                        break;\r\n                    case 'mobile':\r\n                        regex = /^1[0-9]{10}$/;\r\n                        this.cleaner = true;\r\n                        break;\r\n                    case 'idcard': // 身份证\r\n                        regex = /^[X0-9]{15,18}$/;\r\n                        this.cleaner = true;\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        this._validator = (control: AbstractControl): ValidationErrors | null => {\r\n            let value: string = control.value;\r\n            if (value == null || value.length === 0) {\r\n                if (this.required !== undefined)\r\n                    return { 'icon': this.required, 'type': 'required', 'actualValue': value };\r\n\r\n                return null;\r\n            }\r\n            if (this.cleaner && value.includes(' ')) {\r\n                value = value.replace(/ /g, '');\r\n                control.setValue(value);\r\n            }\r\n            return regex === null || regex.test(value) ? null : { 'icon': 'warn', 'type': 'regex', 'actualValue': value };\r\n        };\r\n    }\r\n\r\n    registerOnValidatorChange(fn: () => void): void { this._onChange = fn; }\r\n    validate(c: AbstractControl): ValidationErrors | null {\r\n        const ret = this._validator(c);\r\n        if (ret === null) {\r\n            this.parentEl.classList.remove('weui-cell_warn');\r\n            remove(this.ftEl, 'i');\r\n        } else {\r\n            remove(this.ftEl, 'i');\r\n            this.parentEl.classList.add('weui-cell_warn');\r\n            const icon = `weui-icon-${ret.icon}`;\r\n            add(this.ftEl, '.' + icon, 'i', icon);\r\n        }\r\n        return ret;\r\n    }\r\n}\r\n","import { Directive, Input, ElementRef, OnDestroy, OnInit } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\nimport { findParent, add, remove } from './../utils/dom';\r\n\r\n/**\r\n * 获取验证码\r\n */\r\n@Directive({\r\n    selector: '[weui-vcode]',\r\n    host: {\r\n        '(click)': '_onClick()',\r\n        '[disabled]': '_disabled'\r\n    }\r\n})\r\nexport class VCodeDirective implements OnInit, OnDestroy {\r\n\r\n    /**\r\n     * 发送事件\r\n     */\r\n    @Input('weui-vcode') onSend: () => Observable<boolean>;\r\n\r\n    /**\r\n     * 时长（单位：秒），默认：`60`\r\n     */\r\n    @Input('weui-seconds') seconds: number = 60;\r\n\r\n    /**\r\n     * 倒计时模板，使用 `${num}` 表示当前秒数\r\n     */\r\n    @Input('weui-tpl') tpl: string = '${num} 秒';\r\n\r\n    /**\r\n     * 重新发送提醒文本\r\n     */\r\n    @Input('weui-error') error: string = '重新发送';\r\n\r\n    _disabled: boolean = false;\r\n    private _cur: string;\r\n    private _t: any;\r\n\r\n    constructor(private el: ElementRef) { }\r\n\r\n    ngOnInit() {\r\n        if (!this.onSend) throw new Error('weui-vcode必须传递一个返回值为 `Observable<boolean>` 函数');\r\n        this._cur = this.el.nativeElement.innerHTML;\r\n    }\r\n\r\n    _onClick() {\r\n        this._disabled = true;\r\n        this.onSend().subscribe((res) => {\r\n            res ? this.tick() : this.err();\r\n        });\r\n    }\r\n\r\n    private err(): void {\r\n        this._disabled = false;\r\n        this.el.nativeElement.innerHTML = this.error;\r\n    }\r\n\r\n    private tick(): void {\r\n        let count = this.seconds < 1 ? 1 : this.seconds;\r\n        this.setText(count);\r\n        this._t = setInterval(() => {\r\n            if (--count <= 0) {\r\n                this._disabled = false;\r\n                this.el.nativeElement.innerHTML = this._cur;\r\n                this.destroy();\r\n            } else\r\n                this.setText(count);\r\n        }, 1000);\r\n    }\r\n\r\n    private setText(num: number): void {\r\n        this.el.nativeElement.innerHTML = this.tpl.replace(/\\${num}/, num.toString());\r\n    }\r\n\r\n    private destroy() {\r\n        if (this._t) {\r\n            clearInterval(this._t);\r\n            this._t = null;\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.destroy();\r\n    }\r\n}\r\n","import { Directive, Input, OnChanges, SimpleChanges, ElementRef, OnInit } from '@angular/core';\r\nimport { add, remove } from './../utils/dom';\r\n\r\n/**\r\n * 文本域字数统计\r\n */\r\n@Directive({\r\n    selector: '[weui-textarea]',\r\n    host: {\r\n        '(ngModelChange)': '_onChange($event)'\r\n    }\r\n})\r\nexport class TextareaDirective implements OnInit, OnChanges {\r\n\r\n    /**\r\n     * 最大长度，0表示不受限\r\n     */\r\n    @Input() maxlength: number = 0;\r\n\r\n    /**\r\n     * 中文部分应该算多少个字符，使用 `/[^\\x00-\\xff]/g` 正则表达式统计中文部分（默认：1个字符）\r\n     */\r\n    @Input('weui-cn') cn: number = 1;\r\n\r\n    private _value: string;\r\n    private _count: any;\r\n\r\n    constructor(private el: ElementRef) {}\r\n\r\n    ngOnInit() {\r\n        this.init();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if ('maxlength' in changes) {\r\n            this.init()._onChange(this._value);\r\n        }\r\n    }\r\n\r\n    private init() {\r\n        const clsName = `weui-textarea-counter`;\r\n        const pel = this.el.nativeElement.parentElement;\r\n        this.maxlength = +this.maxlength;\r\n        if (this.maxlength <= 0) {\r\n            remove(pel, '.' + clsName);\r\n            this._count = null;\r\n        } else {\r\n            this._count = add(pel, '.' + clsName, 'div', clsName);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    _onChange(value: any) {\r\n        if (!this._count) return;\r\n\r\n        value = value || '';\r\n        if (this.cn > 1) {\r\n            value = value.replace(/[^\\x00-\\xff]/g, '**');\r\n        }\r\n        this._value = value;\r\n        this._count.innerHTML = `${value.length} / ${this.maxlength}`;\r\n    }\r\n}\r\n","import { Directive, Input } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[weui-checklist]',\r\n    host: {\r\n        '(change)': '_change($event)',\r\n        '[checked]': 'checked'\r\n    }\r\n})\r\nexport class ChecklistDirective {\r\n    @Input('weui-checklist') targetArray: any[];\r\n\r\n    checked: boolean = false;\r\n    private _value: any;\r\n\r\n    @Input('weui-value')\r\n    set value(val: any) {\r\n        this._value = val;\r\n        this.checked = this.targetArray.indexOf(val) !== -1;\r\n    }\r\n\r\n    _change($event: any) {\r\n        if ($event.target.checked) {\r\n            this.targetArray.push(this._value);\r\n        } else {\r\n            this.targetArray.splice(this.targetArray.indexOf(this._value), 1);\r\n        }\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { InputDirective } from './input.directive';\r\nimport { VCodeDirective } from './vcode.directive';\r\nimport { TextareaDirective } from './textarea.directive';\r\nimport { ChecklistDirective } from './check.directive';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule, FormsModule ],\r\n    declarations: [\r\n        InputDirective,\r\n        VCodeDirective,\r\n        TextareaDirective,\r\n        ChecklistDirective\r\n    ],\r\n    exports: [\r\n        InputDirective,\r\n        VCodeDirective,\r\n        TextareaDirective,\r\n        ChecklistDirective\r\n    ]\r\n})\r\nexport class FormModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: FormModule, providers: [] };\r\n    }\r\n}\r\n","import { Directive, forwardRef, ElementRef, OnDestroy, HostListener, ContentChild, Input, EventEmitter, Output, OnChanges, SimpleChanges, OnInit } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\n\r\n/**\r\n * 滑块指令，支持[(ngModel)]\r\n */\r\n@Directive({\r\n    selector: '[weui-slider]',\r\n    providers: [{\r\n        provide: NG_VALUE_ACCESSOR,\r\n        useExisting: forwardRef(() => SliderDirective),\r\n        multi: true\r\n    }]\r\n})\r\nexport class SliderDirective implements ControlValueAccessor, OnInit, OnDestroy, OnChanges {\r\n\r\n    private _state: any = null;\r\n\r\n    private _value: number = 0;\r\n\r\n    private isInit: boolean = false;\r\n    private trackEl: any;\r\n    private handlerEl: any;\r\n    onTouchStart: any;\r\n    onTouchMove: any;\r\n\r\n    /**\r\n     * 允许的最小值，默认：`0`\r\n     */\r\n    @Input('weui-min') min: number = 0;\r\n\r\n    /**\r\n     * 允许的最大值，默认：`100`\r\n     */\r\n    @Input('weui-max') max: number = 100;\r\n\r\n    /**\r\n     * 步长，默认：`1`\r\n     */\r\n    @Input('weui-step') step: number = 1;\r\n\r\n    /**\r\n     * 是否可用\r\n     */\r\n    @Input('weui-enabled') enabled: boolean = true;\r\n    /**\r\n     * 值改变时触发\r\n     */\r\n    @Output('weui-change') change = new EventEmitter<number>();\r\n\r\n    constructor(private el: ElementRef) { }\r\n\r\n    ngOnInit() {\r\n        this.isInit = true;\r\n        this.trackEl = this.el.nativeElement.querySelector('.weui-slider__track');\r\n        this.handlerEl = this.el.nativeElement.querySelector('.weui-slider__handler');\r\n        if (this.trackEl === null || this.handlerEl === null)\r\n            throw new Error('失效DOM结构');\r\n\r\n        this.onTouchStart = this.startHandle.bind(this);\r\n        this.onTouchMove = this.moveHandle.bind(this);\r\n        this.handlerEl.addEventListener('touchstart', this.onTouchStart, false);\r\n        this.handlerEl.addEventListener('touchmove', this.onTouchMove, false);\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.handlerEl.removeEventListener('touchstart', this.onTouchStart, false);\r\n        this.handlerEl.removeEventListener('touchmove', this.onTouchMove, false);\r\n    }\r\n\r\n    private refresh() {\r\n        const el = this.el.nativeElement;\r\n        this._state = {\r\n            enabled: this.enabled,\r\n            left: el.getBoundingClientRect().left,\r\n            size: el.querySelector('.weui-slider__inner').offsetWidth,\r\n            percentage: [0, 0, 0],\r\n            x: 0\r\n        };\r\n        this.max = +this.max;\r\n        this.min = +this.min;\r\n        this.step = +this.step;\r\n\r\n        this.setValue(this._value);\r\n        this.layout();\r\n    }\r\n\r\n    private setValue(value: number) {\r\n        if (this.max > this.min) {\r\n            this._state.percentage = [100 * (value - this.min) / (this.max - this.min), 0, this.step * 100 / (this.max - this.min)];\r\n        } else {\r\n            this._state.percentage = [0, 0, 100];\r\n        }\r\n    }\r\n\r\n    private layout() {\r\n        this.trackEl.style.width = this._state.percentage[0] + '%';\r\n        this.handlerEl.style.left = this._state.percentage[0] + '%';\r\n    }\r\n\r\n    private startHandle($event: any) {\r\n        if (this._state === null) this.refresh();\r\n\r\n        this._state.x = ($event.touches[0] || $event.changedTouches[0]).pageX;\r\n    }\r\n\r\n    private moveHandle($event: any) {\r\n        if (!this._state.enabled) return false;\r\n\r\n        const pageX = ($event.touches[0] || $event.changedTouches[0]).pageX;\r\n\r\n        const xDiff = pageX - this._state.x;\r\n        if (xDiff >= 15 || xDiff <= 15) {\r\n            this._state.percentage[0] = this.getPercentage(pageX, $event);\r\n            this.layout();\r\n            this.calculateValue(this._state.percentage[0]);\r\n        }\r\n    }\r\n\r\n    private getPercentage(pageX: number, $event: any): number {\r\n        const distanceToSlide = pageX - this._state.left;\r\n        let percentage = distanceToSlide / this._state.size * 100;\r\n        percentage = Math.round(percentage / this._state.percentage[2]) * this._state.percentage[2];\r\n        return Math.max(0, Math.min(100, percentage));\r\n    }\r\n\r\n    private calculateValue(percentage: number) {\r\n        const rawValue = percentage / 100 * (this.max - this.min);\r\n        // adjustment = this.min\r\n        let value = this.min + Math.round(rawValue / this.step) * this.step;\r\n        if (value < this.min)\r\n            value = this.min;\r\n        else if (value > this.max)\r\n            value = this.max;\r\n\r\n        this._value = value;\r\n        this.onChange(this._value);\r\n        this.onTouched();\r\n        this.change.emit(this._value);\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (this.isInit)\r\n            this.refresh();\r\n    }\r\n\r\n    writeValue(value: any): void {\r\n        if (value) {\r\n            this._value = +value;\r\n            this.refresh();\r\n            this.calculateValue(this._state.percentage[0]);\r\n        }\r\n    }\r\n\r\n    private onChange: any = Function.prototype;\r\n    private onTouched: any = Function.prototype;\r\n\r\n    public registerOnChange(fn: (_: any) => {}): void { this.onChange = fn; }\r\n    public registerOnTouched(fn: () => {}): void { this.onTouched = fn; }\r\n\r\n    setDisabledState(isDisabled: boolean): void {\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { SliderDirective } from './slider';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [\r\n        SliderDirective\r\n    ],\r\n    exports: [\r\n        SliderDirective\r\n    ]\r\n})\r\nexport class SliderModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: SliderModule, providers: [] };\r\n    }\r\n}\r\n","function isElement(node: any): boolean {\r\n    return !!(node && (node.nodeName || node.prop && node.attr && node.find));\r\n}\r\n\r\n/**\r\n * @docs-private\r\n */\r\nexport class FileLikeObject {\r\n    id: string;\r\n    lastModifiedDate: any;\r\n    size: any;\r\n    type: string;\r\n    name: string;\r\n\r\n    constructor(fileOrInput: any) {\r\n        const isInput = isElement(fileOrInput);\r\n        const fakePathOrObject = isInput ? fileOrInput.value : fileOrInput;\r\n        const postfix = typeof fakePathOrObject === 'string' ? 'FakePath' : 'Object';\r\n        const method = '_createFrom' + postfix;\r\n        (this as any)[method](fakePathOrObject);\r\n    }\r\n\r\n    _createFromFakePath(path: string): void {\r\n        this.lastModifiedDate = void 0;\r\n        this.size = void 0;\r\n        this.type = 'like/' + path.slice(path.lastIndexOf('.') + 1).toLowerCase();\r\n        this.name = path.slice(path.lastIndexOf('/') + path.lastIndexOf('\\\\') + 2);\r\n    }\r\n\r\n    _createFromObject(object: { size: number, type: string, name: string }): void {\r\n        // this.lastModifiedDate = copy(object.lastModifiedDate);\r\n        this.size = object.size;\r\n        this.type = object.type;\r\n        this.name = object.name;\r\n    }\r\n}\r\n","import { FileLikeObject } from './file-like-object.class';\r\nimport { Uploader } from './uploader.class';\r\nimport { ParsedResponseHeaders } from './interface';\r\nimport { UploaderOptions } from './uploader.options';\r\n\r\ndeclare const window: any;\r\n\r\n/**\r\n * 文件对象\r\n */\r\nexport class FileItem {\r\n\r\n    /**\r\n     * 文件ID，每个对象具有唯一ID，与文件名无关\r\n     */\r\n    id: string;\r\n\r\n    /**\r\n     * 重建文件结构对象\r\n     */\r\n    file: FileLikeObject;\r\n\r\n    /**\r\n     * 原生对象\r\n     */\r\n    _file: File;\r\n\r\n    /**\r\n     * 索引\r\n     */\r\n    index: number = 0;\r\n\r\n    /**\r\n     * 上传进度\r\n     */\r\n    progress: number = 0;\r\n\r\n    /**\r\n     * 准备上传就绪\r\n     */\r\n    isReady: boolean = false;\r\n    /**\r\n     * 上传中\r\n     */\r\n    isUploading: boolean = false;\r\n    /**\r\n     * 已上传（不管错误与否都是true）\r\n     */\r\n    isUploaded: boolean = false;\r\n    /**\r\n     * 上传成功\r\n     */\r\n    isSuccess: boolean = false;\r\n    /**\r\n     * 用户取消上传\r\n     */\r\n    isCancel: boolean = false;\r\n    /**\r\n     * 上传失败\r\n     */\r\n    isError: boolean = false;\r\n\r\n    /**\r\n     * HTTP请求对象\r\n     */\r\n    _xhr: XMLHttpRequest;\r\n\r\n    /**\r\n     * 上传配置信息\r\n     */\r\n    options: UploaderOptions;\r\n\r\n    protected uploader: Uploader;\r\n\r\n    constructor(uploader: Uploader, file: File, options: UploaderOptions) {\r\n        this.uploader = uploader;\r\n        this.setOptions(options);\r\n        this.id = Math.random().toString(36).substring(7);\r\n        this.file = new FileLikeObject(file);\r\n        this._file = file;\r\n    }\r\n\r\n    setOptions(options: UploaderOptions) {\r\n        this.options = Object.assign({}, this.uploader.options, options);\r\n    }\r\n\r\n    /**\r\n     * 上传\r\n     */\r\n    upload(): void {\r\n        try {\r\n            this.uploader.uploadItem(this);\r\n        } catch (e) {\r\n            this.uploader._onCompleteItem(this, '', 0, {});\r\n            this.uploader._onErrorItem(this, '', 0, {});\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 取消上传\r\n     */\r\n    cancel(): void {\r\n        this.uploader.cancelItem(this);\r\n    }\r\n\r\n    /**\r\n     * 从队列中移除，当文件正在上传中时会先取消\r\n     */\r\n    remove(): void {\r\n        this.uploader.removeFromQueue(this);\r\n    }\r\n\r\n    _prepareToUploading(): void {\r\n        this.index = this.index || this.uploader._getNextIndex();\r\n        this.isReady = true;\r\n    }\r\n\r\n    _onBeforeUpload(): void {\r\n        this.isReady = true;\r\n        this.isUploading = true;\r\n        this.isUploaded = false;\r\n        this.isSuccess = false;\r\n        this.isCancel = false;\r\n        this.isError = false;\r\n        this.progress = 0;\r\n\r\n        if (this.options.onUploadStart) this.options.onUploadStart(this);\r\n    }\r\n\r\n    _onProgress(progress: number): any {\r\n        this.progress = progress;\r\n        if (this.options.onUploadProgress) this.options.onUploadProgress(this, progress, this.uploader.progress);\r\n    }\r\n\r\n    _onSuccess(response: string, status: number, headers: ParsedResponseHeaders) {\r\n        this.isReady = false;\r\n        this.isUploading = false;\r\n        this.isUploaded = true;\r\n        this.isSuccess = true;\r\n        this.isCancel = false;\r\n        this.isError = false;\r\n        this.progress = 100;\r\n        this.index = void 0;\r\n\r\n        if (this.options.onUploadSuccess) this.options.onUploadSuccess(this, response, status, headers);\r\n    }\r\n\r\n    _onError(response: string, status: number, headers: ParsedResponseHeaders) {\r\n        this.isReady = false;\r\n        this.isUploading = false;\r\n        this.isUploaded = true;\r\n        this.isSuccess = false;\r\n        this.isCancel = false;\r\n        this.isError = true;\r\n        this.progress = 0;\r\n        this.index = void 0;\r\n\r\n        if (this.options.onUploadError) this.options.onUploadError(this, response, status, headers);\r\n    }\r\n\r\n    _onComplete(response: string, status: number, headers: ParsedResponseHeaders): void {\r\n        if (this.uploader.options.removeAfterUpload) {\r\n            this.remove();\r\n        }\r\n\r\n        if (this.options.onUploadComplete) this.options.onUploadComplete(this, response, status, headers);\r\n    }\r\n\r\n    _onCancel(response: string, status: number, headers: ParsedResponseHeaders): any {\r\n        this.isReady = false;\r\n        this.isUploading = false;\r\n        this.isUploaded = false;\r\n        this.isSuccess = false;\r\n        this.isCancel = true;\r\n        this.isError = false;\r\n        this.progress = 0;\r\n        this.index = void 0;\r\n\r\n        if (this.options.onUploadCancel) this.options.onUploadCancel(this);\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class UploaderConfig {\r\n\r\n    /**\r\n     * 服务端网址\r\n     */\r\n    url?: string;\r\n\r\n    /**\r\n     * HTTP请求方式\r\n     */\r\n    method?: 'POST' | 'GET';\r\n\r\n    /**\r\n     * 设置文件上传域的name\r\n     */\r\n    alias?: string;\r\n\r\n    /**\r\n     * 发送凭据，默认：`true`\r\n     */\r\n    withCredentials?: boolean = true;\r\n\r\n    /**\r\n     * headers 信息\r\n     */\r\n    headers?: { [key: string]: any };\r\n\r\n    /**\r\n     * 是否自动上传，默认：`false`\r\n     * 设置为 true 后，不需要手动调用 `upload`，有文件选择即开始上传。\r\n     */\r\n    auto?: boolean = false;\r\n\r\n    /**\r\n     * 限定文件mime类型，例如：[ '' ]\r\n     */\r\n    mimes?: string[];\r\n\r\n    /**\r\n     * 限定文件类型，例如：[ 'jpg', 'png' ]\r\n     */\r\n    types?: string[];\r\n\r\n    /**\r\n     * 允许最多上传数量，-1 表示不受限，默认：`-1`\r\n     */\r\n    limit?: number = -1;\r\n\r\n    /**\r\n     * 限定文件大小（单位：字节），-1 表示不受限，默认：`-1`\r\n     */\r\n    size?: number = -1;\r\n}\r\n","/**\r\n * @docs-private\r\n */\r\nexport class FileType {\r\n    /*  MS office  */\r\n    public static mime_doc: string[] = [\r\n        'application/msword',\r\n        'application/msword',\r\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\r\n        'application/vnd.ms-word.document.macroEnabled.12',\r\n        'application/vnd.ms-word.template.macroEnabled.12'\r\n    ];\r\n    public static mime_xsl: string[] = [\r\n        'application/vnd.ms-excel',\r\n        'application/vnd.ms-excel',\r\n        'application/vnd.ms-excel',\r\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\r\n        'application/vnd.ms-excel.sheet.macroEnabled.12',\r\n        'application/vnd.ms-excel.template.macroEnabled.12',\r\n        'application/vnd.ms-excel.addin.macroEnabled.12',\r\n        'application/vnd.ms-excel.sheet.binary.macroEnabled.12'\r\n    ];\r\n    public static mime_ppt: string[] = [\r\n        'application/vnd.ms-powerpoint',\r\n        'application/vnd.ms-powerpoint',\r\n        'application/vnd.ms-powerpoint',\r\n        'application/vnd.ms-powerpoint',\r\n        'application/vnd.openxmlformats-officedocument.presentationml.presentation',\r\n        'application/vnd.openxmlformats-officedocument.presentationml.template',\r\n        'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\r\n        'application/vnd.ms-powerpoint.addin.macroEnabled.12',\r\n        'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\r\n        'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\r\n        'application/vnd.ms-powerpoint.slideshow.macroEnabled.12'\r\n    ];\r\n\r\n    /* PSD */\r\n    public static mime_psd: string[] = [\r\n        'image/photoshop',\r\n        'image/x-photoshop',\r\n        'image/psd',\r\n        'application/photoshop',\r\n        'application/psd',\r\n        'zz-application/zz-winassoc-psd'\r\n    ];\r\n\r\n    /* Compressed files */\r\n    public static mime_compress: string[] = [\r\n        'application/x-gtar',\r\n        'application/x-gcompress',\r\n        'application/compress',\r\n        'application/x-tar',\r\n        'application/x-rar-compressed',\r\n        'application/octet-stream'\r\n    ];\r\n\r\n    public static getMimeClass(file: any): string {\r\n        let mimeClass = 'application';\r\n        if (this.mime_psd.indexOf(file.type) !== -1) {\r\n            mimeClass = 'image';\r\n        } else if (file.type.match('image.*')) {\r\n            mimeClass = 'image';\r\n        } else if (file.type.match('video.*')) {\r\n            mimeClass = 'video';\r\n        } else if (file.type.match('audio.*')) {\r\n            mimeClass = 'audio';\r\n        } else if (file.type === 'application/pdf') {\r\n            mimeClass = 'pdf';\r\n        } else if (this.mime_compress.indexOf(file.type) !== -1) {\r\n            mimeClass = 'compress';\r\n        } else if (this.mime_doc.indexOf(file.type) !== -1) {\r\n            mimeClass = 'doc';\r\n        } else if (this.mime_xsl.indexOf(file.type) !== -1) {\r\n            mimeClass = 'xls';\r\n        } else if (this.mime_ppt.indexOf(file.type) !== -1) {\r\n            mimeClass = 'ppt';\r\n        }\r\n        if (mimeClass === 'application') {\r\n            mimeClass = this.fileTypeDetection(file.name);\r\n        }\r\n\r\n        return mimeClass;\r\n    }\r\n\r\n    public static fileTypeDetection(inputFilename: string): string {\r\n        const types: { [key: string]: string } = {\r\n            'jpg': 'image',\r\n            'jpeg': 'image',\r\n            'tif': 'image',\r\n            'psd': 'image',\r\n            'bmp': 'image',\r\n            'png': 'image',\r\n            'nef': 'image',\r\n            'tiff': 'image',\r\n            'cr2': 'image',\r\n            'dwg': 'image',\r\n            'cdr': 'image',\r\n            'ai': 'image',\r\n            'indd': 'image',\r\n            'pin': 'image',\r\n            'cdp': 'image',\r\n            'skp': 'image',\r\n            'stp': 'image',\r\n            '3dm': 'image',\r\n            'mp3': 'audio',\r\n            'wav': 'audio',\r\n            'wma': 'audio',\r\n            'mod': 'audio',\r\n            'm4a': 'audio',\r\n            'compress': 'compress',\r\n            'rar': 'compress',\r\n            '7z': 'compress',\r\n            'lz': 'compress',\r\n            'z01': 'compress',\r\n            'pdf': 'pdf',\r\n            'xls': 'xls',\r\n            'xlsx': 'xls',\r\n            'ods': 'xls',\r\n            'mp4': 'video',\r\n            'avi': 'video',\r\n            'wmv': 'video',\r\n            'mpg': 'video',\r\n            'mts': 'video',\r\n            'flv': 'video',\r\n            '3gp': 'video',\r\n            'vob': 'video',\r\n            'm4v': 'video',\r\n            'mpeg': 'video',\r\n            'm2ts': 'video',\r\n            'mov': 'video',\r\n            'doc': 'doc',\r\n            'docx': 'doc',\r\n            'eps': 'doc',\r\n            'txt': 'doc',\r\n            'odt': 'doc',\r\n            'rtf': 'doc',\r\n            'ppt': 'ppt',\r\n            'pptx': 'ppt',\r\n            'pps': 'ppt',\r\n            'ppsx': 'ppt',\r\n            'odp': 'ppt'\r\n        };\r\n\r\n        const chunks = inputFilename.split('.');\r\n        if (chunks.length < 2) {\r\n            return 'application';\r\n        }\r\n        const extension = chunks[chunks.length - 1].toLowerCase();\r\n        if (types[extension] === undefined) {\r\n            return 'application';\r\n        } else {\r\n            return types[extension];\r\n        }\r\n    }\r\n}\r\n","import { Optional, Inject } from '@angular/core';\r\nimport { UploaderOptions, FilterFunction } from './uploader.options';\r\nimport { FileItem } from './file-item.class';\r\nimport { UploaderConfig } from './uploader.config';\r\nimport { FileLikeObject } from './file-like-object.class';\r\nimport { FileType } from './file-type.class';\r\nimport { ParsedResponseHeaders } from './interface';\r\n\r\n/**\r\n * 内置HTML5上传组件\r\n */\r\nexport class Uploader {\r\n    private _options: UploaderOptions;\r\n    private _queue: Array<FileItem> = [];\r\n    private _progress: number = 0;\r\n    private _isUploading: boolean = false;\r\n    private _nextIndex: number = 0;\r\n    private _failFilterIndex: number;\r\n\r\n    /**\r\n     * 获取当前上传组件配置项\r\n     */\r\n    get options(): UploaderOptions {\r\n        return this._options;\r\n    }\r\n\r\n    /**\r\n     * 获取队列中所有文件对象\r\n     */\r\n    get queue(): FileItem[] {\r\n        return this._queue;\r\n    }\r\n\r\n    /**\r\n     * 获取当前总进度\r\n     */\r\n    get progress(): number {\r\n        return this._progress;\r\n    }\r\n\r\n    /**\r\n     * 是否上传中\r\n     */\r\n    get isUploading(): boolean {\r\n        return this._isUploading;\r\n    }\r\n\r\n    /**\r\n     * 获取未上传数量\r\n     */\r\n    get notUploadedCount(): number {\r\n        return this.getNotUploadedItems().length;\r\n    }\r\n\r\n    /**\r\n     * 获取已上传数量\r\n     */\r\n    get uploadedCount(): number {\r\n        return this._queue.filter((item: FileItem) => item.isUploaded).length;\r\n    }\r\n\r\n    _getNextIndex(): number {\r\n        return ++this._nextIndex;\r\n    }\r\n\r\n    /**\r\n     * Creates an instance of Uploader.\r\n     */\r\n    constructor(options?: UploaderOptions,\r\n        @Inject(UploaderConfig) @Optional() private globalConfig?: UploaderConfig) {\r\n\r\n        this.setOptions(options);\r\n    }\r\n\r\n    /**\r\n     * 重置选项\r\n     *\r\n     * @param options\r\n     * @param includeOldQueue 是否包括已存在队列中的文件\r\n     */\r\n    setOptions(options: UploaderOptions, includeOldQueue: boolean = true) {\r\n        this._options = Object.assign({\r\n            filters: [],\r\n            disableMultipart: false,\r\n            method: 'POST',\r\n            alias: 'file',\r\n            withCredentials: true,\r\n            auto: false,\r\n            limit: -1,\r\n            size: -1,\r\n            removeAfterUpload: false\r\n        }, this.globalConfig, this._options, options);\r\n\r\n        // 数量\r\n        if (this._options.limit !== -1)\r\n            this._options.filters.unshift({ name: 'queueLimit', fn: this._queueLimitFilter });\r\n\r\n        // 大小\r\n        if (this._options.size !== -1)\r\n            this._options.filters.unshift({ name: 'fileSize', fn: this._fileSizeFilter });\r\n\r\n        // 类型\r\n        if (this._options.types)\r\n            this._options.filters.unshift({ name: 'fileType', fn: this._fileTypeFilter });\r\n\r\n        // mime类型\r\n        if (this._options.mimes)\r\n            this._options.filters.unshift({ name: 'mimeType', fn: this._mimeTypeFilter });\r\n\r\n        // 对已经存在的队列重置所有配置信息\r\n        if (includeOldQueue) {\r\n            for (let i = 0; i < this._queue.length; i++) {\r\n                this._queue[i].setOptions(this._options);\r\n            }\r\n        }\r\n    }\r\n\r\n    private _queueLimitFilter(): boolean {\r\n        return this._options.limit === undefined || this._queue.length < this._options.limit;\r\n    }\r\n\r\n    private _fileSizeFilter(item: FileLikeObject): boolean {\r\n        return !(this._options.size && item.size > this._options.size);\r\n    }\r\n\r\n    private _mimeTypeFilter(item: FileLikeObject): boolean {\r\n        return !(this._options.mimes && this._options.mimes.indexOf(item.type) === -1);\r\n    }\r\n\r\n    private _fileTypeFilter(item: FileLikeObject): boolean {\r\n        return !(this._options.types && this._options.types.indexOf(FileType.getMimeClass(item)) === -1);\r\n    }\r\n\r\n    private _isValidFile(file: FileLikeObject, filters: FilterFunction[], options: UploaderOptions): boolean {\r\n        this._failFilterIndex = -1;\r\n        return !filters.length ? true : filters.every((filter: FilterFunction) => {\r\n            this._failFilterIndex++;\r\n            return filter.fn.call(this, file, options);\r\n        });\r\n    }\r\n\r\n    /** 过滤器，如果未指定采用内置 */\r\n    private _getFilters(filters: FilterFunction[] | string): FilterFunction[] {\r\n        if (!filters) return this._options.filters;\r\n        if (Array.isArray(filters)) return filters;\r\n        if (typeof filters === 'string') {\r\n            const names = filters.match(/[^\\s,]+/g);\r\n            return this._options.filters\r\n                .filter((filter: any) => names.indexOf(filter.name) !== -1);\r\n        }\r\n        return this._options.filters;\r\n    }\r\n\r\n    private _getIndexOfItem(value: any): number {\r\n        return typeof value === 'number' ? value : this._queue.indexOf(value);\r\n    }\r\n\r\n    /** 获取未上传过列表 */\r\n    private getNotUploadedItems(): FileItem[] {\r\n        return this._queue.filter((item: FileItem) => !item.isUploaded);\r\n    }\r\n\r\n    /** 获取待上传文件 */\r\n    get getReadyItems(): FileItem[] {\r\n        return this._queue\r\n            .filter((item: FileItem) => (item.isReady && !item.isUploading))\r\n            .sort((item1: any, item2: any) => item1.index - item2.index);\r\n    }\r\n\r\n    /**\r\n     * 将文件放入队列中\r\n     *\r\n     * @param files 文件列表\r\n     * @param options 强制重新指定新 `options` 内容\r\n     * @param filters 强制重新指定新 `filters` 内容\r\n     */\r\n    addToQueue(files: File[], options?: UploaderOptions, filters?: FilterFunction[] | string) {\r\n        const list: File[] = [];\r\n        for (const file of files) list.push(file);\r\n        const arrayOfFilters = this._getFilters(filters);\r\n        const count = this._queue.length;\r\n        const addedFileItems: FileItem[] = [];\r\n        if (!options) {\r\n            options = this._options;\r\n        }\r\n        list.map((some: File) => {\r\n            const temp = new FileLikeObject(some);\r\n            if (this._isValidFile(temp, arrayOfFilters, options)) {\r\n                const fileItem = new FileItem(this, some, options);\r\n                addedFileItems.push(fileItem);\r\n                this._queue.push(fileItem);\r\n                if (this._options.onFileQueued) this._options.onFileQueued(fileItem);\r\n            } else {\r\n                const filter = arrayOfFilters[this._failFilterIndex];\r\n                if (this._options.onError) this._options.onError(temp, filter, options);\r\n            }\r\n        });\r\n\r\n        if (this.queue.length !== count) {\r\n            this._progress = this._getTotalProgress();\r\n        }\r\n\r\n        if (this.options.auto) {\r\n            this.uploadAll();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 从队列中移除一个文件\r\n     *\r\n     * @param value FileItem对象或下标\r\n     */\r\n    removeFromQueue(value: FileItem | Number): void {\r\n        const index = this._getIndexOfItem(value);\r\n        const item = this._queue[index];\r\n        if (item.isUploading) {\r\n            item.cancel();\r\n        }\r\n        this._queue.splice(index, 1);\r\n        this._progress = this._getTotalProgress();\r\n        if (this._options.onFileDequeued) this._options.onFileDequeued(item);\r\n    }\r\n\r\n    /**\r\n     * 清空队列\r\n     */\r\n    clearQueue(): void {\r\n        while (this._queue.length) {\r\n            this._queue[0].remove();\r\n        }\r\n        this._progress = 0;\r\n        if (this._options.onFileDequeued) this._options.onFileDequeued();\r\n    }\r\n\r\n    /**\r\n     * 上传某个文件\r\n     */\r\n    uploadItem(value: FileItem): void {\r\n        const index = this._getIndexOfItem(value);\r\n        const item = this._queue[index];\r\n        item._prepareToUploading();\r\n        if (this._isUploading) {\r\n            return;\r\n        }\r\n        this._isUploading = true;\r\n        this._xhrTransport(item);\r\n    }\r\n\r\n    /**\r\n     * 取消某个文件\r\n     */\r\n    cancelItem(value: FileItem): void {\r\n        const index = this._getIndexOfItem(value);\r\n        const item = this._queue[index];\r\n        if (item && item.isUploading) {\r\n            if (item.options.abortTransport) {\r\n                this._onCancelItem(item, null, null, null);\r\n                this._onCompleteItem(item, null, null, null);\r\n                item.options.abortTransport(item);\r\n            } else {\r\n                if (item._xhr) item._xhr.abort();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 上传队列中所有未上传的文件\r\n     */\r\n    uploadAll(): void {\r\n        const items = this.getNotUploadedItems().filter((item: FileItem) => !item.isUploading);\r\n        if (!items.length) {\r\n            return;\r\n        }\r\n        items.map((item: FileItem) => item._prepareToUploading());\r\n\r\n        if (this._options.onStart) this._options.onStart(items[0]);\r\n        items[0].upload();\r\n    }\r\n\r\n    /**\r\n     * 取消所有上传中文件\r\n     */\r\n    cancelAll(): void {\r\n        const items = this.getNotUploadedItems();\r\n        items.map((item: FileItem) => item.cancel());\r\n\r\n        if (this._options.onCancel) this._options.onCancel();\r\n    }\r\n\r\n    _destroy(): void {\r\n        return void 0;\r\n    }\r\n\r\n    private _xhrTransport(item: FileItem): any {\r\n        item._onBeforeUpload();\r\n\r\n        // 自实现\r\n        if (item.options.uploadTransport) {\r\n            item.options.uploadTransport.apply(this, [ item ]).subscribe((response: any) => {\r\n                this._onSuccessItem(item, response, 0, null);\r\n                this._onCompleteItem(item, response, 0, null);\r\n            });\r\n            return this;\r\n        }\r\n\r\n        const xhr = item._xhr = new XMLHttpRequest();\r\n        let sendable: any;\r\n        if (typeof item._file.size !== 'number') {\r\n            throw new TypeError('The file specified is no longer valid');\r\n        }\r\n        if (!this._options.disableMultipart) {\r\n            sendable = new FormData();\r\n\r\n            sendable.append(item.options.alias, item._file, item.file.name);\r\n\r\n            if (this._options.params !== undefined) {\r\n                Object.keys(this._options.params).forEach((key: string) => {\r\n                    sendable.append(key, this._options.params[key]);\r\n                });\r\n            }\r\n        } else {\r\n            sendable = item._file;\r\n        }\r\n\r\n        xhr.upload.onprogress = (event: any) => {\r\n            const progress = Math.round(event.lengthComputable ? event.loaded * 100 / event.total : 0);\r\n            this._onProgressItem(item, progress);\r\n        };\r\n        xhr.onload = () => {\r\n            const headers = this._parseHeaders(xhr.getAllResponseHeaders());\r\n            const response = this._transformResponse(xhr.response, headers);\r\n            const gist = this._isSuccessCode(xhr.status) ? 'Success' : 'Error';\r\n            const method = '_on' + gist + 'Item';\r\n            (this as any)[method](item, response, xhr.status, headers);\r\n            this._onCompleteItem(item, response, xhr.status, headers);\r\n        };\r\n        xhr.onerror = () => {\r\n            const headers = this._parseHeaders(xhr.getAllResponseHeaders());\r\n            const response = this._transformResponse(xhr.response, headers);\r\n            this._onErrorItem(item, response, xhr.status, headers);\r\n            this._onCompleteItem(item, response, xhr.status, headers);\r\n        };\r\n        xhr.onabort = () => {\r\n            const headers = this._parseHeaders(xhr.getAllResponseHeaders());\r\n            const response = this._transformResponse(xhr.response, headers);\r\n            this._onCancelItem(item, response, xhr.status, headers);\r\n            this._onCompleteItem(item, response, xhr.status, headers);\r\n        };\r\n        xhr.open(item.options.method, item.options.url, true);\r\n        xhr.withCredentials = item.options.withCredentials;\r\n        if (item.options.headers && item.options.headers.length > 0) {\r\n            for (const header of item.options.headers) {\r\n                xhr.setRequestHeader(header.name, header.value);\r\n            }\r\n        }\r\n        xhr.send(sendable);\r\n        return this;\r\n    }\r\n\r\n    private _getTotalProgress(value: number = 0): number {\r\n        if (this._options.removeAfterUpload) {\r\n            return value;\r\n        }\r\n        const notUploaded = this.getNotUploadedItems().length;\r\n        const uploaded = notUploaded ? this._queue.length - notUploaded : this._queue.length;\r\n        const ratio = 100 / this._queue.length;\r\n        const current = value * ratio / 100;\r\n        return Math.round(uploaded * ratio + current);\r\n    }\r\n\r\n    private _parseHeaders(headers: string): ParsedResponseHeaders {\r\n        const parsed: any = {};\r\n        let key: any;\r\n        let val: any;\r\n        let i: any;\r\n        if (!headers) {\r\n            return parsed;\r\n        }\r\n        headers.split('\\n').map((line: any) => {\r\n            i = line.indexOf(':');\r\n            key = line.slice(0, i).trim().toLowerCase();\r\n            val = line.slice(i + 1).trim();\r\n            if (key) {\r\n                parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\r\n            }\r\n        });\r\n        return parsed;\r\n    }\r\n\r\n    private _transformResponse(response: string, headers: ParsedResponseHeaders): string {\r\n        return response;\r\n    }\r\n\r\n    private _isSuccessCode(status: number): boolean {\r\n        return (status >= 200 && status < 300) || status === 304;\r\n    }\r\n\r\n    private _onProgressItem(item: FileItem, progress: any): void {\r\n        const total = this._getTotalProgress(progress);\r\n        this._progress = total;\r\n        item._onProgress(progress);\r\n    }\r\n\r\n    _onErrorItem(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): void {\r\n        item._onError(response, status, headers);\r\n    }\r\n\r\n    private _onSuccessItem(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): void {\r\n        item._onSuccess(response, status, headers);\r\n    }\r\n\r\n    private _onCancelItem(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): void {\r\n        item._onCancel(response, status, headers);\r\n    }\r\n\r\n    _onCompleteItem(item: FileItem, response: string, status: number, headers: ParsedResponseHeaders): void {\r\n        item._onComplete(response, status, headers);\r\n        const nextItem = this.getReadyItems[0];\r\n        this._isUploading = false;\r\n        if (nextItem) {\r\n            nextItem.upload();\r\n            return;\r\n        }\r\n        this._progress = this._getTotalProgress();\r\n        if (this._options.onFinished) this._options.onFinished();\r\n    }\r\n}\r\n","import { Directive, Input, ElementRef, HostListener } from '@angular/core';\r\nimport { UploaderOptions } from './uploader.options';\r\nimport { Uploader } from './uploader.class';\r\n\r\n@Directive({\r\n    selector: '[weui-uploader-file]'\r\n})\r\nexport class UploaderFileDirective {\r\n    /**\r\n     * Uploader对象，必填项\r\n     */\r\n    @Input('weui-uploader-file') uploader: Uploader;\r\n\r\n    constructor(protected element: ElementRef) { }\r\n\r\n    get _options(): UploaderOptions {\r\n        return this.uploader.options;\r\n    }\r\n\r\n    get _isEmptyAfterSelection(): boolean {\r\n        return !!this.element.nativeElement.attributes.multiple;\r\n    }\r\n\r\n    @HostListener('change')\r\n    _onChange(): any {\r\n        const files = this.element.nativeElement.files;\r\n        this.uploader.addToQueue(files, this._options);\r\n        if (this._isEmptyAfterSelection) {\r\n            this.element.nativeElement.value = '';\r\n        }\r\n    }\r\n}\r\n","import { ɵgetDOM as getDOM } from '@angular/platform-browser';\r\n\r\ndeclare const window: any;\r\n\r\n/**\r\n * 检查是否安卓系统\r\n */\r\nexport function isAndroid() {\r\n    return /android (\\d+)/.test(getDOM().getUserAgent().toLowerCase());\r\n}\r\n\r\n/**\r\n * 检查是否IOS系统\r\n */\r\nexport function isIOS(): boolean {\r\n    return /iPad|iPhone|iPod/.test(getDOM().getUserAgent());\r\n}\r\n\r\n/**\r\n * 检查File是否为图像文件\r\n */\r\nexport function isImage(file: File) {\r\n    if (!(file instanceof window.File)) return false;\r\n    const type = '|' + file.type.slice(file.type.lastIndexOf('/') + 1) + '|';\r\n    return '|jpg|png|jpeg|bmp|gif|'.indexOf(type) !== -1;\r\n}\r\n\r\n/**\r\n * 生成可预览的图像地址\r\n */\r\nexport function genImageUrl(file: File) {\r\n    if (isImage(file)) return window.URL.createObjectURL(file);\r\n    return '';\r\n}\r\n","import { Directive, Input, ElementRef, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { isImage, genImageUrl } from '../utils/browser';\r\n\r\n/**\r\n * 创建缩略图\r\n */\r\n@Directive({ selector: '[weui-thumb]' })\r\nexport class FileThumbDirective implements OnChanges {\r\n    /**\r\n     * 文件对象，必填项\r\n     */\r\n    @Input('weui-thumb') file: File;\r\n\r\n    constructor(private el: ElementRef) { }\r\n\r\n    private render() {\r\n        const url = genImageUrl(this.file);\r\n        if (!url) return;\r\n\r\n        this.el.nativeElement.style.backgroundImage = `url(${url})`;\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        this.render();\r\n    }\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { UploaderFileDirective } from './uploader.directive';\r\nimport { FileThumbDirective } from './file-thumb.directive';\r\nimport { UploaderConfig } from './uploader.config';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [\r\n        UploaderFileDirective, FileThumbDirective\r\n    ],\r\n    exports: [\r\n        UploaderFileDirective, FileThumbDirective\r\n    ]\r\n})\r\nexport class UploaderModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: UploaderModule, providers: [ UploaderConfig ] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { SkinType } from '../utils/types';\r\n\r\n@Injectable()\r\nexport class ActionSheetConfig {\r\n    /**\r\n     * 样式，默认：`ios`\r\n     */\r\n    skin?: SkinType = 'ios';\r\n\r\n    /**\r\n     * 标题\r\n     */\r\n    title?: string;\r\n\r\n    /**\r\n     * 取消文本，默认：`取消`\r\n     */\r\n    cancel?: string = '取消';\r\n\r\n    /**\r\n     * 允许点击背景关闭，默认：`true`\r\n     */\r\n    backdrop?: boolean = true;\r\n}\r\n","import { Component, OnDestroy, Input, OnChanges, SimpleChanges, Output, EventEmitter } from '@angular/core';\r\nimport { animate, state, style, transition, trigger } from '@angular/animations';\r\nimport { isAndroid } from '../utils/browser';\r\nimport { ActionSheetConfig } from './actionsheet.config';\r\nimport { Observer } from 'rxjs/Observer';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\n@Component({\r\n    selector: 'weui-actionsheet',\r\n    template: `\r\n        <div class=\"weui-mask\" [@visibility]=\"_visibility\" (click)=\"hide(true)\"></div>\r\n        <div class=\"weui-actionsheet\" [ngClass]=\"{'weui-actionsheet_toggle': _shownAnt && config.skin === 'ios'}\">\r\n            <div class=\"weui-actionsheet__title\" *ngIf=\"config.skin === 'ios' && config.title\">\r\n                <p class=\"weui-actionsheet__title-text\">{{config.title}}</p>\r\n            </div>\r\n            <div class=\"weui-actionsheet__menu\">\r\n                <div class=\"weui-actionsheet__cell\" *ngFor=\"let item of menus\" (click)=\"_onSelect(item)\">{{item.text}}</div>\r\n            </div>\r\n            <div class=\"weui-actionsheet__action\" *ngIf=\"config.skin === 'ios' && config.cancel\">\r\n                <div class=\"weui-actionsheet__cell\" (click)=\"hide()\">{{config.cancel}}</div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    animations: [trigger('visibility', [\r\n        state('show', style({ opacity: 1 })),\r\n        state('hide', style({ opacity: 0 })),\r\n        transition('hide <=> show', [animate(200)])\r\n    ])],\r\n    host: {\r\n        '[hidden]': '!_shown',\r\n        '[class.weui-skin_android]': 'config.skin === \"android\"'\r\n    }\r\n})\r\nexport class ActionSheetComponent implements OnDestroy {\r\n\r\n    /**\r\n     * 配置项\r\n     */\r\n    @Input() config: ActionSheetConfig;\r\n\r\n    /**\r\n     * 菜单内容\r\n     */\r\n    @Input() menus: { text?: string, [key: string]: any }[];\r\n\r\n    /**\r\n     * 关闭回调\r\n     */\r\n    @Output() close = new EventEmitter();\r\n\r\n    _shown: boolean = false;\r\n    /**\r\n     * 动画状态码\r\n     */\r\n    _shownAnt = false;\r\n\r\n    private observer: Observer<any>;\r\n\r\n    get _visibility(): string {\r\n        return this._shownAnt ? 'show' : 'hide';\r\n    }\r\n\r\n    constructor(private DEF: ActionSheetConfig) { }\r\n\r\n    /**\r\n     * 显示，组件载入页面后并不会显示，显示调用 `show()` 并订阅结果。\r\n     */\r\n    show(): Observable<any> {\r\n        this.config = Object.assign({\r\n            backdrop: true,\r\n            skin: 'auto'\r\n        }, this.DEF, this.config);\r\n        if (this.config.skin === 'auto') {\r\n            this.config.skin = isAndroid() ? 'android' : 'ios';\r\n        }\r\n        this._shown = true;\r\n        setTimeout(() => { this._shownAnt = true; }, 10);\r\n        return Observable.create((observer: Observer<any>) => {\r\n            this.observer = observer;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 隐藏\r\n     *\r\n     * @param is_backdrop 是否从背景上点击\r\n     */\r\n    hide(is_backdrop?: boolean) {\r\n        if (is_backdrop === true && this.config.backdrop === false) return false;\r\n\r\n        this._shownAnt = false;\r\n        setTimeout(() => {\r\n            this._shown = false;\r\n            this.close.emit();\r\n        }, this.config.skin === 'android' ? 200 : 300);\r\n    }\r\n\r\n    /**\r\n     * 选择动作\r\n     */\r\n    _onSelect(menu: { text?: string, [key: string]: any }) {\r\n        this.observer.next(menu);\r\n        this.observer.complete();\r\n        this.hide();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.observer && this.observer instanceof Subscription) {\r\n            (<Subscription>this.observer).unsubscribe();\r\n        }\r\n    }\r\n\r\n}\r\n","import { ComponentRef, ComponentFactoryResolver, ApplicationRef, Injector, EmbeddedViewRef } from '@angular/core';\r\n\r\ndeclare const document: any;\r\n\r\nexport abstract class BaseService {\r\n    constructor(private resolver: ComponentFactoryResolver, private applicationRef: ApplicationRef, private injector: Injector) {}\r\n\r\n    protected list: ComponentRef<any>[] = [];\r\n\r\n    /**\r\n     * 销毁\r\n     *\r\n     * @param component 下标（从0开始或组件引用对象），或不指定时，销毁最新一个\r\n     */\r\n    destroy(component?: number | ComponentRef<any>) {\r\n        if (typeof component === 'number') component = this.list[<number>component];\r\n        if (!component) component = this.list.pop();\r\n        if (component) (<ComponentRef<any>>component).destroy();\r\n    }\r\n\r\n    /**\r\n     * 销毁所有\r\n     */\r\n    destroyAll() {\r\n        for (const component of this.list)\r\n            this.destroy(component);\r\n    }\r\n\r\n    /** 动态构建组件 */\r\n    protected build<T>(component: { new (...args: any[]): T; }): ComponentRef<T> {\r\n        const componentFactory = this.resolver.resolveComponentFactory(component);\r\n        const componentRef = componentFactory.create(this.injector);\r\n        this.list.push(componentRef);\r\n        const componentRootNode = (componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\r\n        this.applicationRef.attachView(componentRef.hostView);\r\n        componentRef.onDestroy(() => {\r\n            this.applicationRef.detachView(componentRef.hostView);\r\n        });\r\n        document.body.appendChild(componentRootNode);\r\n        return componentRef;\r\n    }\r\n}\r\n","import { Injectable, ComponentFactoryResolver, ApplicationRef, Injector, Optional, EmbeddedViewRef, ComponentRef } from '@angular/core';\r\nimport { Observer } from 'rxjs/Observer';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { ActionSheetComponent } from './actionsheet.component';\r\nimport { ActionSheetConfig } from './actionsheet.config';\r\nimport { BaseService } from '../utils/base.service';\r\n\r\n@Injectable()\r\nexport class ActionSheetService extends BaseService {\r\n    constructor(resolver: ComponentFactoryResolver, applicationRef: ApplicationRef, injector: Injector) {\r\n        super(resolver, applicationRef, injector);\r\n    }\r\n\r\n    /**\r\n     * 创建一个弹出式菜单并显示\r\n     *\r\n     * @param menus 菜单内容\r\n     * @param config 配置性（可选）\r\n     * @returns 可订阅来获取结果\r\n     */\r\n    show(menus: { text?: string, [key: string]: any }[], config: ActionSheetConfig = {}): Observable<any> {\r\n        const componentRef = this.build(ActionSheetComponent);\r\n\r\n        componentRef.instance.menus = menus;\r\n        if (config) componentRef.instance.config = config;\r\n        componentRef.instance.close.subscribe(() => {\r\n            setTimeout(() => {\r\n                this.destroy(componentRef);\r\n            }, 100);\r\n        });\r\n        return componentRef.instance.show();\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders  } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\n\r\nimport { ActionSheetComponent } from './actionsheet.component';\r\nimport { ActionSheetService } from './actionsheet.service';\r\nimport { ActionSheetConfig } from './actionsheet.config';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ ActionSheetComponent ],\r\n    exports: [ ActionSheetComponent ],\r\n    providers: [ ActionSheetService ],\r\n    entryComponents: [ ActionSheetComponent ]\r\n})\r\nexport class ActionSheetModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: ActionSheetModule, providers: [ ActionSheetConfig ] };\r\n    }\r\n}\r\n","import { Component, Input, EventEmitter, Output, OnDestroy } from '@angular/core';\r\nimport { Observer } from 'rxjs/Observer';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs/Subscription';\r\n\r\n@Component({\r\n    selector: 'weui-mask',\r\n    template: `\r\n    <div class=\"weui-mask\" [ngClass]=\"{'weui-mask__visible': _shown }\" (click)=\"hide(true)\">\r\n        <div class=\"weui-mask__content\" [ngClass]=\"placement !== 'none' ? 'weui-mask__' + placement : ''\">\r\n            <div [ngStyle]=\"{'background-color':bg}\">\r\n                <div *ngIf=\"loading\"><i class=\"weui-loading weui-icon_toast\"></i></div>\r\n                <ng-content></ng-content>\r\n            </div>\r\n        </div>\r\n    </div>`\r\n})\r\nexport class MaskComponent implements OnDestroy {\r\n    /**\r\n     * 点击是否允许关闭（默认：`false`）\r\n     */\r\n    @Input() backdrop: boolean = false;\r\n\r\n    /**\r\n     * 内容方向（默认：`vertical`）\r\n     * + `top`: 顶部居中\r\n     * + `bottom`: 底部居中\r\n     * + `vertical-left`: 垂直居左\r\n     * + `vertical`: 垂直居中\r\n     * + `vertical-right`: 垂直居右\r\n     * + `none`: 无\r\n     */\r\n    @Input() placement: 'top' | 'bottom' | 'vertical' | 'vertical-left' | 'vertical-right' | 'none' = 'vertical';\r\n\r\n    /**\r\n     * 内容背景色\r\n     */\r\n    @Input() bg = '';\r\n\r\n    /**\r\n     * 内容为Loading效果（默认：`false`）\r\n     */\r\n    @Input() loading = false;\r\n\r\n    /**\r\n     * 关闭回调\r\n     */\r\n    @Output() close = new EventEmitter();\r\n\r\n    private observer: Observer<void>;\r\n    _shown: boolean = false;\r\n\r\n    /**\r\n     * 显示，并返回一个Observable\r\n     */\r\n    show(): Observable<void> {\r\n        setTimeout(() => {\r\n            this._shown = true;\r\n        });\r\n        return Observable.create((observer: Observer<void>) => {\r\n            this.observer = observer;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 隐藏\r\n     *\r\n     * @param is_backdrop 是否手动点击关闭（默认：false）\r\n     */\r\n    hide(is_backdrop: boolean = false) {\r\n        if (is_backdrop === true && this.backdrop === false) return false;\r\n\r\n        this._shown = false;\r\n        this.close.emit();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.observer && this.observer instanceof Subscription) {\r\n            (<Subscription>this.observer).unsubscribe();\r\n        }\r\n    }\r\n\r\n}\r\n","import { NgModule, ModuleWithProviders  } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { MaskComponent } from './mask.component';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ MaskComponent ],\r\n    exports: [ MaskComponent ],\r\n    entryComponents: [ MaskComponent ]\r\n})\r\nexport class MaskModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: MaskModule, providers: [  ] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { SkinType, ButtonType, InputType, InputData } from '../utils/types';\r\n\r\n@Injectable()\r\nexport class DialogConfig {\r\n\r\n    /**\r\n     * 对话框类型，默认：`default`\r\n     * default：默认文本或HTML格式\r\n     * prompt：可输入对话框\r\n     */\r\n    type?: 'default' | 'prompt' = 'default';\r\n\r\n    /**\r\n     * 样式，默认：`auto`\r\n     */\r\n    skin?: SkinType = 'auto';\r\n\r\n    /**\r\n     * 标题\r\n     */\r\n    title?: string;\r\n\r\n    /**\r\n     * 内容（支持HTML）\r\n     */\r\n    content?: string;\r\n\r\n    /**\r\n     * Input `type` 字段\r\n     */\r\n    input?: InputType;\r\n    /**\r\n     * Input `placeholder` 字段\r\n     */\r\n    inputPlaceholder?: string;\r\n    /**\r\n     * Input 初始化值\r\n     */\r\n    inputValue?: any;\r\n    /**\r\n     * Input `required` 字段，必填项校验失败时【确定】按钮为 `disabled` 状态，默认：`true`\r\n     */\r\n    inputRequired?: boolean;\r\n    /**\r\n     * Input 正则判断校验。\r\n     * 如无指定，会根据 `input` 类型分别对：`email`、`url` 默认提供正则表达式\r\n     */\r\n    inputRegex?: RegExp;\r\n    /**\r\n     * 输入参数无效时提醒文本\r\n     */\r\n    inputError?: string;\r\n\r\n    /**\r\n     * 数据数组，如果input值为 `select` `radio` `checkbox` 时为必填项\r\n     */\r\n    inputOptions?: InputData[];\r\n\r\n    /**\r\n     * HTML元素属性对象，例如 `min` `max` 等，对象键表示属性名，对象值表示属性值\r\n     */\r\n    inputAttributes?: any;\r\n\r\n    /**\r\n     * 取消，返回false，默认：`取消`\r\n     */\r\n    cancel?: string = '取消';\r\n\r\n    /**\r\n     * 取消按钮类型，默认：`default`\r\n     */\r\n    cancelType?: ButtonType = 'default';\r\n\r\n    /**\r\n     * 确认，返回true，默认：`确认`\r\n     */\r\n    confirm?: string = '确认';\r\n\r\n    /**\r\n     * 确认按钮类型，默认：`primary`\r\n     */\r\n    confirmType?: ButtonType = 'primary';\r\n\r\n    /**\r\n     * 自定义按钮组，当此属性存在时 `cancel` & `confirm` 参数将失效\r\n     */\r\n    btns?: { text: string, type: ButtonType, value: boolean | any, [key: string]: any }[];\r\n\r\n    /**\r\n     * 允许点击背景关闭，默认：`false`\r\n     */\r\n    backdrop?: boolean = false;\r\n}\r\n","import { Component, OnDestroy, Input, Output, EventEmitter, ViewChild } from '@angular/core';\r\nimport { Observer } from 'rxjs/Observer';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { isAndroid } from '../utils/browser';\r\nimport { DialogConfig } from './dialog.config';\r\n\r\n/**\r\n * 对话框，依赖于 `weui-textarea`、`weui-slider`\r\n *\r\n * 关于 `input==='prompt'` 若干细节：\r\n *  + 对话框内放表单在weui的表现并不是很如意，因此，在对话框增加 `.weui-dialog__prompt` 样式类名，请自行针对性进行一些样式的覆盖，`ngx-dialog` 不提供任何样式的修正。\r\n *  + 对于录入型表单其校验机制全都是依赖于正则，默认情况下内置 `email`、`url` 两种表单类型的正则。\r\n */\r\n@Component({\r\n    selector: 'weui-dialog',\r\n    template: `\r\n        <div class=\"weui-mask\" [ngClass]=\"{'weui-mask__in': _shown}\" (click)=\"hide(true)\"></div>\r\n        <div class=\"weui-dialog\" [ngClass]=\"{'weui-dialog__in': _shown, 'weui-skin_android': config.skin === 'android', 'weui-dialog__prompt': config.type === 'prompt'}\" #container>\r\n            <div class=\"weui-dialog__hd\" *ngIf=\"config.title\"><strong class=\"weui-dialog__title\">{{config.title}}</strong></div>\r\n            <div class=\"weui-dialog__bd\" *ngIf=\"config.content\" [innerHTML]=\"config.content\"></div>\r\n            <div class=\"weui-cells\" *ngIf=\"config.type === 'prompt' && _shown\">\r\n                <ng-container [ngSwitch]=\"config.input\">\r\n                    <div *ngSwitchCase=\"'textarea'\" class=\"weui-cell\" [ngClass]=\"{'weui-cell_warn': _prompError}\">\r\n                        <div class=\"weui-cell__bd\">\r\n                            <textarea class=\"weui-textarea\" placeholder=\"{{config.inputPlaceholder}}\"\r\n                                [(ngModel)]=\"_promptData\" name=\"_promptData\" (ngModelChange)=\"_chanage()\"\r\n                                weui-textarea weui-cn=\"{{config.inputAttributes.cn}}\" [maxlength]=\"config.inputAttributes.maxlength\"></textarea>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngSwitchCase=\"'select'\" class=\"weui-cell weui-cell_select\">\r\n                        <div class=\"weui-cell__bd\">\r\n                            <select class=\"weui-select\" [(ngModel)]=\"_promptData\" name=\"_promptData\" (ngModelChange)=\"_chanage()\">\r\n                                <option *ngFor=\"let i of config.inputOptions\" [ngValue]=\"i\">{{i.text}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div *ngSwitchCase=\"'radio'\" class=\"weui-cells_radio\">\r\n                        <label class=\"weui-cell weui-check__label\" *ngFor=\"let i of config.inputOptions\">\r\n                            <div class=\"weui-cell__bd\">\r\n                                <p>{{i.text}}</p>\r\n                            </div>\r\n                            <div class=\"weui-cell__ft\">\r\n                                <input type=\"radio\" (click)=\"_promptData=i\" [checked]=\"i==_promptData\" (change)=\"_chanage()\" class=\"weui-check\">\r\n                                <span class=\"weui-icon-checked\"></span>\r\n                            </div>\r\n                        </label>\r\n                    </div>\r\n                    <div *ngSwitchCase=\"'checkbox'\" class=\"weui-cells_checkbox\">\r\n                        <label class=\"weui-cell weui-check__label\" *ngFor=\"let i of config.inputOptions\">\r\n                            <div class=\"weui-cell__hd\">\r\n                                <input type=\"checkbox\" class=\"weui-check\" (change)=\"_chanage()\"\r\n                                    [weui-checklist]=\"_promptData\" [weui-value]=\"i\" name=\"_promptData\">\r\n                                <i class=\"weui-icon-checked\"></i>\r\n                            </div>\r\n                            <div class=\"weui-cell__bd\">\r\n                                <p>{{i.text}}</p>\r\n                            </div>\r\n                        </label>\r\n                    </div>\r\n                    <div *ngSwitchCase=\"'range'\" class=\"weui-slider-box\" [(ngModel)]=\"_promptData\" name=\"_promptData\"\r\n                        weui-slider weui-min=\"{{config.inputAttributes.min}}\" weui-max=\"{{config.inputAttributes.max}}\" weui-step=\"{{config.inputAttributes.step}}\">\r\n                        <div class=\"weui-slider\">\r\n                            <div class=\"weui-slider__inner\">\r\n                                <div class=\"weui-slider__track\"></div>\r\n                                <div class=\"weui-slider__handler\"></div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"weui-slider-box__value\">{{_promptData}}</div>\r\n                    </div>\r\n                    <div *ngSwitchDefault class=\"weui-cell\" [ngClass]=\"{'weui-cell_warn': _prompError}\">\r\n                        <div class=\"weui-cell__bd\">\r\n                            <input type=\"{{config.input}}\" class=\"weui-input\"\r\n                                placeholder=\"{{config.inputPlaceholder}}\" [(ngModel)]=\"_promptData\" name=\"_promptData\"\r\n                                [maxlength]=\"config.inputAttributes.maxlength\"\r\n                                (ngModelChange)=\"_chanage()\" (keyup)=\"_keyup($event)\">\r\n                        </div>\r\n                        <div class=\"weui-cell__ft\"><i class=\"weui-icon-warn\" *ngIf=\"_prompError\"></i></div>\r\n                    </div>\r\n                </ng-container>\r\n            </div>\r\n            <div class=\"weui-dialog__error\" *ngIf=\"_prompError\">{{config.inputError}}</div>\r\n            <div class=\"weui-dialog__ft\">\r\n                <a href=\"#\" *ngFor=\"let item of config.btns\"\r\n                    class=\"weui-dialog__btn weui-dialog__btn_{{item.type}}\"\r\n                    (click)=\"_onSelect(item)\">{{item.text}}</a>\r\n            </div>\r\n        </div>\r\n    `\r\n})\r\nexport class DialogComponent implements OnDestroy {\r\n\r\n    private _config: DialogConfig;\r\n    /**\r\n     * 对话框配置项\r\n     */\r\n    @Input()\r\n    set config(value: DialogConfig) {\r\n        const config = Object.assign({\r\n            backdrop: false\r\n        }, this.DEF, value);\r\n\r\n        if (config.skin === 'auto') {\r\n            config.skin = isAndroid() ? 'android' : 'ios';\r\n        }\r\n        // 重组btns\r\n        if (!config.btns) {\r\n            config.btns = [];\r\n            if (config.cancel) {\r\n                config.btns.push({ text: config.cancel, type: config.cancelType, value: false });\r\n            }\r\n            if (config.confirm) {\r\n                config.btns.push({ text: config.confirm, type: config.confirmType, value: true });\r\n            }\r\n        }\r\n\r\n        // prompt\r\n        if (config.type === 'prompt') {\r\n            // 一些默认校验正则表达式\r\n            if (!config.inputRegex) {\r\n                switch (config.input) {\r\n                    case 'email':\r\n                        config.inputRegex = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n                        if (!config.inputError) config.inputError = '邮箱格式不正确';\r\n                        break;\r\n                    case 'url':\r\n                        config.inputRegex = /^(https?:\\/\\/)?([\\da-z\\.-]+)\\.([a-z\\.]{2,6})([\\/\\w \\.-]*)*\\/?$/;\r\n                        if (!config.inputError) config.inputError = '网址格式不正确';\r\n                        break;\r\n                }\r\n            }\r\n\r\n            config.inputOptions = Object.assign([], config.inputOptions);\r\n            config.inputAttributes = Object.assign({\r\n                maxlength: null,\r\n                min: 0,\r\n                max: 100,\r\n                step: 1\r\n            }, config.inputAttributes);\r\n            // 默认值\r\n            let defaultValue = config.inputValue;\r\n            if (config.input === 'checkbox' && !Array.isArray(config.inputValue)) {\r\n                defaultValue = typeof defaultValue !== 'undefined' ? [ defaultValue ] : [];\r\n            }\r\n            config.inputValue = defaultValue || '';\r\n\r\n            this._promptData = config.inputValue;\r\n            if (this._promptData) {\r\n                this._config = config;\r\n                this.promptCheck();\r\n            }\r\n\r\n            setTimeout(() => {\r\n                this.setFocus();\r\n            }, 100);\r\n        }\r\n        this._config = config;\r\n    }\r\n\r\n    get config(): DialogConfig {\r\n        return this._config;\r\n    }\r\n\r\n    /**\r\n     * 打开动画结束后回调（唯一参数：对话框实例对象）\r\n     */\r\n    @Output() open = new EventEmitter<DialogComponent>();\r\n\r\n    /**\r\n     * 关闭动画开始时回调（唯一参数：对话框实例对象）\r\n     */\r\n    @Output() close = new EventEmitter<DialogComponent>();\r\n\r\n    private observer: Observer<any>;\r\n\r\n    _shown: boolean = false;\r\n\r\n    constructor(private DEF: DialogConfig) { }\r\n\r\n    @ViewChild('container') container: any;\r\n    _prompError: boolean = false;\r\n    _promptData: any;\r\n\r\n    private promptCheck(): boolean {\r\n        if (this.config.inputRequired === true) {\r\n            if (this.config.input === 'checkbox' && this._promptData.length === 0) {\r\n                this._prompError = true;\r\n                return false;\r\n            }\r\n            if (!this._promptData) {\r\n                this._prompError = true;\r\n                return false;\r\n            }\r\n        }\r\n\r\n        if (this.config.inputRegex && !this.config.inputRegex.test(this._promptData.toString())) {\r\n            this._prompError = true;\r\n            return false;\r\n        }\r\n\r\n        this._prompError = false;\r\n        return true;\r\n    }\r\n\r\n    private setFocus() {\r\n        const containerEl = this.container.nativeElement;\r\n        let firstFormEl: any = null;\r\n        if (this.config.type === 'prompt') {\r\n            firstFormEl = containerEl.querySelector('input, textarea, select');\r\n        } else {\r\n            firstFormEl = containerEl.querySelector('.weui-dialog__btn_primary');\r\n        }\r\n        if (firstFormEl) firstFormEl.focus();\r\n    }\r\n\r\n    _chanage() {\r\n        this.promptCheck();\r\n    }\r\n\r\n    _keyup(event: KeyboardEvent) {\r\n        if (event.keyCode === 13) {\r\n            this._onSelect();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 显示，组件载入页面后并不会显示，显示调用 `show()` 并订阅结果。\r\n     *\r\n     * @returns 当 `type==='prompt'` 时会多一 `result` 属性表示结果值\r\n     */\r\n    show(): Observable<any> {\r\n        this._shown = true;\r\n        this._prompError = false;\r\n        // 模拟动画结束后回调\r\n        setTimeout(() => {\r\n            this.open.emit(this);\r\n        }, 300);\r\n        return Observable.create((observer: Observer<any>) => {\r\n            this.observer = observer;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 隐藏\r\n     *\r\n     * @param is_backdrop 是否从背景上点击\r\n     */\r\n    hide(is_backdrop: boolean = false) {\r\n        if (is_backdrop === true && this.config.backdrop === false) return false;\r\n\r\n        this._shown = false;\r\n        this.close.emit(this);\r\n    }\r\n\r\n    _onSelect(menu?: any) {\r\n        // 未指定时查找 `value===true` 的按钮\r\n        if (!menu && this.config.btns.length > 0) {\r\n            menu = this.config.btns.find(w => w.value === true);\r\n        }\r\n        const ret = menu;\r\n        if (menu.value === true && this._config.type === 'prompt') {\r\n            if (!this.promptCheck()) return false;\r\n            ret.result = this._promptData;\r\n        }\r\n        this.observer.next(ret);\r\n        this.observer.complete();\r\n        this.hide();\r\n        return false;\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.observer && this.observer instanceof Subscription) {\r\n            (<Subscription>this.observer).unsubscribe();\r\n        }\r\n    }\r\n\r\n}\r\n","import { Injectable, ComponentFactoryResolver, ApplicationRef, Injector, Optional, EmbeddedViewRef, ComponentRef } from '@angular/core';\r\nimport { Observer } from 'rxjs/Observer';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { BaseService } from '../utils/base.service';\r\nimport { DialogComponent } from './dialog.component';\r\nimport { DialogConfig } from './dialog.config';\r\n\r\n@Injectable()\r\nexport class DialogService extends BaseService {\r\n    constructor(resolver: ComponentFactoryResolver, applicationRef: ApplicationRef, injector: Injector) {\r\n        super(resolver, applicationRef, injector);\r\n    }\r\n\r\n    /**\r\n     * 创建一个对话框并显示\r\n     *\r\n     * @param data 对话框配置项\r\n     * @returns 可订阅来获取结果\r\n     */\r\n    show(data: DialogConfig): Observable<any> {\r\n        const componentRef = this.build(DialogComponent);\r\n\r\n        componentRef.instance.config = data;\r\n        componentRef.instance.close.subscribe(() => {\r\n            setTimeout(() => {\r\n                this.destroy(componentRef);\r\n            }, 300);\r\n        });\r\n        return componentRef.instance.show();\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders  } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { FormModule } from './../form/form.module';\r\nimport { SliderModule } from './../slider/slider.module';\r\nimport { MaskModule } from './../mask/mask.module';\r\nimport { DialogComponent } from './dialog.component';\r\nimport { DialogService } from './dialog.service';\r\nimport { DialogConfig } from './dialog.config';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule, FormsModule, MaskModule, FormModule, SliderModule ],\r\n    declarations: [ DialogComponent ],\r\n    exports: [ DialogComponent ],\r\n    providers: [ DialogService ],\r\n    entryComponents: [ DialogComponent ]\r\n})\r\nexport class DialogModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: DialogModule, providers: [ DialogConfig ] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class LoadmoreConfig {\r\n    /**\r\n     * 类型，默认：`loading`\r\n     */\r\n    type?: 'loading' | 'line' | 'dot' = 'loading';\r\n\r\n    /**\r\n     * 当type=='loading'时显示的文本，默认：`正在加载`\r\n     */\r\n    loadingText?: string = '正在加载';\r\n\r\n    /**\r\n     * 当type=='line'时显示的文本，默认：`暂无数据`\r\n     */\r\n    lineText?: string = '暂无数据';\r\n}\r\n","import { Component, HostListener, ElementRef, HostBinding, Input, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { LoadmoreConfig } from './loadmore.config';\r\n\r\n@Component({\r\n    selector: 'weui-loadmore',\r\n    template: `\r\n        <div class=\"weui-loadmore\" [ngClass]=\"{\r\n            'weui-loadmore_line': type!=='loading',\r\n            'weui-loadmore_dot': type==='dot'\r\n        }\">\r\n            <i class=\"weui-loading\" *ngIf=\"type==='loading'\"></i>\r\n            <span class=\"weui-loadmore__tips\">{{type==='dot'?'':type==='line'?lineText:loadingText}}</span>\r\n        </div>\r\n    `\r\n})\r\nexport class LoadmoreComponent {\r\n\r\n    /**\r\n     * 类型，默认：`loading`\r\n     */\r\n    @Input() type: 'loading' | 'line' | 'dot' = 'loading';\r\n\r\n    /**\r\n     * 当 `type==='loading'` 时显示的文本，默认：`正在加载`\r\n     */\r\n    @Input() loadingText: string = '正在加载';\r\n\r\n    /**\r\n     * 当 `type==='line'` 时显示的文本，默认：`暂无数据`\r\n     */\r\n    @Input() lineText: string = '暂无数据';\r\n\r\n    constructor(DEF: LoadmoreConfig) {\r\n        Object.assign(this, DEF);\r\n    }\r\n\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { LoadmoreComponent } from './loadmore.component';\r\nimport { LoadmoreConfig } from './loadmore.config';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ LoadmoreComponent ],\r\n    exports: [ LoadmoreComponent ],\r\n    entryComponents: [ LoadmoreComponent ]\r\n})\r\nexport class LoadmoreModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: LoadmoreModule, providers: [ LoadmoreConfig ] };\r\n    }\r\n}\r\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'weui-progress',\r\n    template: `\r\n        <div class=\"weui-progress\">\r\n            <div class=\"weui-progress__bar\">\r\n                <div class=\"weui-progress__inner-bar\" [style.width]=\"_value + '%'\"></div>\r\n            </div>\r\n            <a href=\"#\" class=\"weui-progress__opr\" *ngIf=\"canCancel\" (click)=\"_onCancel()\">\r\n                <i class=\"weui-icon-cancel\"></i>\r\n            </a>\r\n        </div>\r\n    `\r\n})\r\nexport class ProgressComponent {\r\n\r\n    _value: number = 0;\r\n    /**\r\n     * 默认进度值，取值范围：0-100（单位：%）\r\n     */\r\n    @Input() set value(d: number) {\r\n        this._value = Math.max(0, Math.min(100, d));\r\n    }\r\n\r\n    /**\r\n     * 是否允许取消，默认：`true`\r\n     */\r\n    @Input() canCancel: boolean = true;\r\n\r\n    /**\r\n     * 取消回调\r\n     */\r\n    @Output() cancel = new EventEmitter();\r\n\r\n    _onCancel() {\r\n        if (this.canCancel) this.cancel.emit();\r\n        return false;\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { ProgressComponent } from './progress.component';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ ProgressComponent ],\r\n    exports: [ ProgressComponent ],\r\n    entryComponents: [ ProgressComponent ]\r\n})\r\nexport class ProgressModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: ProgressModule, providers: [  ] };\r\n    }\r\n}\r\n","import { Component, HostListener, ElementRef, HostBinding, Input, OnChanges, SimpleChanges, EventEmitter, Output } from '@angular/core';\r\nimport { animate, state, style, transition, trigger } from '@angular/animations';\r\nimport { isImage, genImageUrl } from '../utils/browser';\r\n\r\n/**\r\n * 数据对象\r\n */\r\nexport interface GalleryItem {\r\n    /**\r\n     * 远程网址\r\n     */\r\n    url?: string;\r\n    /**\r\n     * JavaScript File 对象\r\n     */\r\n    file?: File;\r\n    /**\r\n     * 文件标题\r\n     */\r\n    title?: string;\r\n    /**\r\n     * 是否允许删除，默认：`true`\r\n     */\r\n    canDelete?: boolean;\r\n}\r\n\r\n@Component({\r\n    selector: 'weui-gallery',\r\n    template: `\r\n        <div *ngIf=\"_imgs\" class=\"weui-galleries\">\r\n            <ng-template ngFor let-item [ngForOf]=\"_imgs\">\r\n                <div class=\"weui-gallery\"\r\n                    [ngStyle]=\"{'display': _showd ? 'block' : 'none'}\"\r\n                    [@visibility]=\"_visibility\"\r\n                    (@visibility.start)=\"_antStart($event)\"\r\n                    (@visibility.done)=\"_antDone($event)\"\r\n                    (click)=\"_onHide()\">\r\n                    <span class=\"weui-gallery__img\"\r\n                        [ngStyle]=\"{ 'background-image': 'url(' + item?.url + ')'}\"></span>\r\n                    <div class=\"weui-gallery__opr\" *ngIf=\"canDelete\">\r\n                        <a href=\"#\" class=\"weui-gallery__del\" (click)=\"_onDel(item)\">\r\n                            <i class=\"weui-icon-delete weui-icon_gallery-delete\"></i>\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </ng-template>\r\n        </div>\r\n    `,\r\n    animations: [trigger('visibility', [\r\n        state('show', style({ opacity: 1 })),\r\n        state('hide', style({ opacity: 0 })),\r\n        transition('hide <=> show', [animate(200)])\r\n    ])]\r\n})\r\nexport class GalleryComponent implements OnChanges {\r\n\r\n    _imgs: any[];\r\n\r\n    /**\r\n     * 图片数据\r\n     *\r\n     * - 虽然支持传递数组，但并不支持在打开后切换图片。\r\n     */\r\n    @Input() imgs: string | File | string[] | GalleryItem[];\r\n\r\n    /**\r\n     * 是否允许删除，默认：`true`\r\n     */\r\n    @Input() canDelete: boolean = true;\r\n\r\n    /**\r\n     * 删除回调\r\n     */\r\n    @Output() delete = new EventEmitter<any>();\r\n\r\n    /**\r\n     * 隐藏回调\r\n     */\r\n    @Output() hide = new EventEmitter<any>();\r\n\r\n    /**\r\n     * 标记是否显示，支持双向绑定\r\n     */\r\n    @Input() show: boolean = false;\r\n    @Output() showChange = new EventEmitter<boolean>();\r\n    _showd: boolean = false;\r\n    get _visibility(): string {\r\n        return this.show ? 'show' : 'hide';\r\n    }\r\n\r\n    _antStart() { if (this.show) this._showd = this.show; }\r\n\r\n    _antDone() { this._showd = this.show; }\r\n\r\n    _onDel(item: any) {\r\n        if (this.canDelete) {\r\n            this.delete.emit(item);\r\n            this._onHide();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    _onHide() {\r\n        this.show = false;\r\n        this.showChange.emit(this.show);\r\n        this.hide.emit();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if ('imgs' in changes) this.parseImgs();\r\n    }\r\n\r\n    private parseImgs() {\r\n        let imgs = this.imgs;\r\n        if (Array.isArray(imgs)) {\r\n            if (imgs.length > 0) {\r\n                if (typeof imgs[0] === 'string') {\r\n                    imgs = (<string[]>imgs).map((url: string) => {\r\n                        return { url: url };\r\n                    });\r\n                } else {\r\n                    imgs = (<GalleryItem[]>imgs).map((item: GalleryItem) => {\r\n                        if (item.file)\r\n                            item.url = genImageUrl(item.file);\r\n                        return item;\r\n                    });\r\n                }\r\n            }\r\n        } else {\r\n            if (typeof imgs === 'string')\r\n                imgs = [{ url: imgs }];\r\n            else {\r\n                const imgUrl = genImageUrl(imgs);\r\n                if (imgUrl) imgs = [{ url: imgUrl }];\r\n            }\r\n        }\r\n\r\n        // todo: 永远只返回一个\r\n        // 针对未来可能直接上下个\r\n        this._imgs = Object.assign([], imgs && (<any[]>imgs).length > 0 ? imgs.slice(0, 1) : []);\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\n\r\nimport { GalleryComponent } from './gallery.component';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ GalleryComponent ],\r\n    exports: [ GalleryComponent ],\r\n    entryComponents: [ GalleryComponent ]\r\n})\r\nexport class GalleryModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: GalleryModule, providers: [  ] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class PickerConfig {\r\n    /**\r\n     * 取消按钮文本，默认：`取消`\r\n     */\r\n    cancel?: string = '取消';\r\n\r\n    /**\r\n     * 确定按钮文本，默认：`确定`\r\n     */\r\n    confirm?: string = '确定';\r\n\r\n    /**\r\n     * 允许点击背景关闭，默认：`true`\r\n     */\r\n    backdrop?: boolean = true;\r\n}\r\n","import { Component, forwardRef, OnDestroy, OnChanges, SimpleChanges, Input, EventEmitter, Output, ElementRef, OnInit } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { PickerData } from './data';\r\nimport { PickerOptions } from './options';\r\nimport { PickerConfig } from './picker.config';\r\n\r\n@Component({\r\n    selector: 'weui-picker',\r\n    template: `\r\n        <input type=\"text\" class=\"weui-input\" value=\"{{_text}}\" placeholder=\"{{placeholder}}\"\r\n            readonly=\"readonly\" (focus)=\"_onFocus($event)\"\r\n            (click)=\"_onShow()\" [disabled]=\"disabled\" *ngIf=\"options.type==='form'\">\r\n        <div [hidden]=\"!_showP\">\r\n            <div class=\"weui-mask\" (click)=\"_onHide(false)\"\r\n                [ngClass]=\"{'weui-animate-fade-in': _shown, 'weui-animate-fade-out': !_shown}\"></div>\r\n            <div class=\"weui-picker\"\r\n                [ngClass]=\"{'weui-animate-slide-up': _shown, 'weui-animate-slide-down': !_shown}\">\r\n                <div class=\"weui-picker__hd\">\r\n                    <a href=\"#\" class=\"weui-picker__action\" (click)=\"_onCancel()\">{{options.cancel}}</a>\r\n                    <a href=\"#\" class=\"weui-picker__action\" (click)=\"_onConfirm()\">{{options.confirm}}</a>\r\n                </div>\r\n                <div class=\"weui-picker__bd\">\r\n                    <weui-picker-group tappable\r\n                        *ngFor=\"let items of _groups; let i = index;\"\r\n                        [items]=\"items\"\r\n                        [defaultIndex]=\"_selected[i]\"\r\n                        groupIndex=\"{{i}}\" (change)=\"_onGroupChange($event, i)\"></weui-picker-group>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    `,\r\n    providers: [{\r\n        provide: NG_VALUE_ACCESSOR,\r\n        useExisting: forwardRef(() => PickerComponent),\r\n        multi: true\r\n    }]\r\n})\r\nexport class PickerComponent implements ControlValueAccessor, OnInit, OnDestroy, OnChanges {\r\n\r\n    /** 配置项 */\r\n    @Input() options: PickerOptions;\r\n\r\n    _value: any;\r\n    _selected: any[];\r\n    _groups: PickerData[][];\r\n\r\n    /**\r\n     * 当前默认位置，数组的长度必须等同于 groups 长度\r\n     */\r\n    @Input() set defaultSelect(d: number[]) {\r\n        if (d) this._selected = d;\r\n    }\r\n\r\n    /**\r\n     * 多列数据，以数组的长度来决定几列数据\r\n     * 支持string[]单列数组，单纯只是为了方便\r\n     */\r\n    @Input() set groups(d: PickerData[][] | String[]) {\r\n        if (!d) throw new Error('无效数据源');\r\n        if (d.length > 0) {\r\n            if (typeof d[0] === 'string') {\r\n                d = [\r\n                    (<string[]>d).map<PickerData>((v: string) => {\r\n                        return { label: v, value: v};\r\n                    })\r\n                ];\r\n            }\r\n        }\r\n        this._groups = <PickerData[][]>d;\r\n        this._selected = this._selected ? this._selected : Array(d.length).fill(0);\r\n    }\r\n\r\n    _text: string = '';\r\n\r\n    /** 当 `options.type==='form'` 时，占位符文本 */\r\n    @Input() placeholder: string;\r\n    @Input() disabled: boolean = false;\r\n    /**\r\n     * 确认后回调当前选择数据（包括已选面板所有数据）\r\n     *\r\n     * `{ value: '10000', items: [ {}, {}, {} ] }`\r\n     */\r\n    @Output() change = new EventEmitter<any>();\r\n    /** 列变更时回调 */\r\n    @Output() groupChange = new EventEmitter<any>();\r\n    /** 取消后回调 */\r\n    @Output() cancel = new EventEmitter();\r\n    /** 显示时回调 */\r\n    @Output() show = new EventEmitter();\r\n    /** 隐藏后回调 */\r\n    @Output() hide = new EventEmitter();\r\n\r\n    constructor(private el: ElementRef, private DEF: PickerConfig) { }\r\n\r\n    ngOnInit() {\r\n        if (!this.options) this.parseOptions();\r\n    }\r\n\r\n    _showP: boolean = false;\r\n    _shown: boolean = false;\r\n    _onHide(fh: boolean) {\r\n        if (!fh && !this.options.backdrop) return false;\r\n        this._shown = false;\r\n        setTimeout(() => {\r\n            this._showP = false;\r\n            this.hide.emit();\r\n        }, 300);\r\n        return this;\r\n    }\r\n\r\n    _onShow() {\r\n        if (this.disabled) return false;\r\n        this._showP = true;\r\n        this._shown = true;\r\n        this.show.emit();\r\n        return this;\r\n    }\r\n\r\n    private parseOptions() {\r\n        this.options = Object.assign(<PickerOptions>{\r\n            type: 'form',\r\n            cancel: '取消',\r\n            confirm: '确定',\r\n            backdrop: true,\r\n            gruopCount: null,\r\n            separator: ' '\r\n        }, this.DEF, this.options);\r\n    }\r\n\r\n    private getSelecteItem() {\r\n        const res: any[] = [];\r\n        this._groups.forEach((items: PickerData[], idx: number) => {\r\n            const item = items[this._selected[idx]];\r\n            if (item) res.push(item);\r\n        });\r\n        return res;\r\n    }\r\n\r\n    _setText(res: any[] = null) {\r\n        if (res === null) res = this.getSelecteItem();\r\n        if (res.length > 0)\r\n            this._text = res.map((i: any) => i.label || i.value).join(this.options.separator);\r\n\r\n        return this;\r\n    }\r\n\r\n    // 根据_value解析成相应值位置\r\n    _setDefault() {\r\n        this._selected = [];\r\n        this._groups.forEach((items: PickerData[]) => {\r\n            let idx = items.findIndex((i: PickerData) => i.value === this._value );\r\n            if (idx <= -1) idx = 0;\r\n            this._selected.push(idx);\r\n        });\r\n        return this;\r\n    }\r\n\r\n    _onGroupChange(data: any, groupIndex: number) {\r\n        this._selected[groupIndex] = data.index;\r\n        this.groupChange.emit({ item: data.item, index: data.index, groupIndex });\r\n    }\r\n\r\n    _onCancel() {\r\n        this.cancel.emit();\r\n        this._onHide(true);\r\n        return false;\r\n    }\r\n\r\n    _onConfirm() {\r\n        const res = this.getSelecteItem();\r\n        this._setText(res);\r\n\r\n        const lastItem = res[res.length - 1] || {};\r\n        const val = lastItem.value || lastItem.label;\r\n        this.onChange(val);\r\n        this.onTouched();\r\n\r\n        this.change.emit({ value: val, items: res });\r\n\r\n        this._onHide(true);\r\n        return false;\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if ('options' in changes) {\r\n            this.parseOptions();\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n    }\r\n\r\n    writeValue(value: any): void {\r\n        if (!value) this._text = '';\r\n        if (value && value !== this._value) {\r\n            this._value = value;\r\n            // todo：当ngModel传递一个未列表中的值的情况 & 多列时数据对应问题\r\n            this._setDefault()._setText();\r\n        }\r\n    }\r\n\r\n    private onChange: any = Function.prototype;\r\n    private onTouched: any = Function.prototype;\r\n\r\n    public registerOnChange(fn: (_: any) => {}): void { this.onChange = fn; }\r\n    public registerOnTouched(fn: () => {}): void { this.onTouched = fn; }\r\n\r\n    setDisabledState(isDisabled: boolean): void {\r\n    }\r\n\r\n    _onFocus($event: FocusEvent) {\r\n        arguments[0].target.blur();\r\n    }\r\n}\r\n","import { Component, Input, EventEmitter, Output, OnDestroy, HostListener, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { PickerData } from './data';\r\n\r\ndeclare const window: any;\r\nconst getWindowHeight = (): number => {\r\n    return window.innerHeight;\r\n};\r\n\r\n/**\r\n * 多列选择器组\r\n */\r\n@Component({\r\n    selector: 'weui-picker-group',\r\n    template: `\r\n        <ng-content></ng-content>\r\n        <div class=\"weui-picker__mask\"></div>\r\n        <div class=\"weui-picker__indicator\"></div>\r\n        <div class=\"weui-picker__content\" [ngStyle]=\"{\r\n            'transform': 'translate(0,' + _distance + 'px)',\r\n            'transition': _animating ? 'transform .3s' : 'none'\r\n        }\">\r\n            <div class=\"weui-picker__item\" *ngFor=\"let item of items\"\r\n                [ngClass]=\"{'weui-picker__item_disabled': item.disabled}\">{{item.label || item.value}}</div>\r\n        </div>\r\n    `,\r\n    host: {\r\n        '[class.weui-picker__group]': 'true'\r\n    }\r\n})\r\nexport class PickerGroupComponent implements OnDestroy, OnChanges {\r\n\r\n    /** 数据列表 */\r\n    @Input() items: PickerData[];\r\n\r\n    /** 当前默认位置 */\r\n    @Input() defaultIndex: number = -1;\r\n\r\n    /** 多列中的位置 */\r\n    @Input() groupIndex: number;\r\n\r\n    /** 变更回调 */\r\n    @Output() change = new EventEmitter<any>();\r\n\r\n    private defaults: any = {\r\n        offset: 3,           // 列表初始化时的偏移量（列表初始化时，选项是聚焦在中间的，通过offset强制往上挪3项，以达到初始选项是为顶部的那项）\r\n        rowHeight: 34,       // 列表每一行的高度\r\n        bodyHeight: 7 * 34,  // picker的高度，用于辅助点击滚动的计算\r\n        inertiaTime: 150,    // 惯性滑动的保持时间，此值直接影响“灵敏度” (单位：ms)\r\n        slideDuration: 300   // 惯性滑动的动画时间，表现为最终可视化的效果\r\n    };\r\n\r\n    private startTime: number; // 开始触摸的时间\r\n    private startY: number;    // 保存开始按下的位置 (touchstart)\r\n    private endY: number;      // 保存结束时的位置 (touchend)\r\n    private speed: number;     // 手滑动的速度 (用途：速度乘以惯性滑动的时间, 例如 300ms, 计算出应该滑动的距离)\r\n    _animating: boolean = false;\r\n    _distance = 0;\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if ('defaultIndex' in changes) {\r\n            if (this.defaultIndex < 0 || (this.items && this.defaultIndex >= this.items.length))\r\n                this.defaultIndex = 0;\r\n            this._distance = (this.defaults.offset - this.defaultIndex) * this.defaults.rowHeight;\r\n        }\r\n    }\r\n\r\n    @HostListener('touchstart', ['$event'])\r\n    onTouchStart(e: TouchEvent): void {\r\n        if (this.items.length <= 1) return;\r\n\r\n        this.startY = e.changedTouches[0].pageY;\r\n        this.startTime = +new Date();\r\n    }\r\n\r\n    @HostListener('touchmove', ['$event'])\r\n    onTouchMove(e: TouchEvent): void {\r\n        if (this.items.length <= 1) return;\r\n\r\n        const endTime = +new Date();\r\n        this.endY = e.changedTouches[0].pageY;\r\n\r\n        // 计算滑动的速度: 距离 / 时间\r\n        const _distance: number = this.endY - this.startY;\r\n        this.speed = _distance / (endTime - this.startTime);\r\n\r\n        // 重新设置开始时间、开始位置\r\n        this.startTime = endTime;\r\n        this.startY = this.endY;\r\n        this._animating = false;          // ms\r\n        this._distance += _distance; // 内容移动的距离\r\n\r\n        e.preventDefault();\r\n    }\r\n\r\n    @HostListener('touchend', ['$event'])\r\n    onTouchEnd(event: TouchEvent): void {\r\n        if (!this.startY) return;\r\n        this.endY = event.changedTouches[0].pageY;\r\n\r\n        /**\r\n         * 思路:\r\n         * 根据最后一次touchmove事件的速度(speed)，判断是否执行惯性滑动；\r\n         * 如果speed大于1、小于5，则根据速度乘以惯性滑动的时间(如150ms)，计算出应该滑动的距离；\r\n         * 如果speed大于5，则按照屏幕的高度(减去列表高度的一半)，作为该滑动的距离。\r\n         */\r\n        const _speed = Math.abs(this.speed);\r\n        if (_speed >= 5) {\r\n            const windowY = getWindowHeight() - (this.defaults.bodyHeight / 2);\r\n            this.stop(windowY - this.endY);\r\n        } else if (_speed >= 1) {\r\n            const diff = this.speed * this.defaults.inertiaTime; // 滑行 150ms,这里直接影响“灵敏度”\r\n            this.stop(diff);\r\n        } else {\r\n            this.stop(0);\r\n        }\r\n        this.startY = null;\r\n    }\r\n\r\n    private stop(diff: number): void {\r\n        let dist = this._distance + diff;\r\n\r\n        // 移动到最接近的那一行\r\n        dist = Math.round(dist / this.defaults.rowHeight) * this.defaults.rowHeight;\r\n        const max = this._getMax(this.defaults.offset, this.defaults.rowHeight);\r\n        const min = this._getMin(this.defaults.offset, this.defaults.rowHeight, this.items.length);\r\n\r\n        // 不要超过最大值或者最小值\r\n        dist = Math.max(Math.min(dist, max), min);\r\n\r\n        // 如果是 disabled 的就跳过\r\n        let index = this.defaults.offset - dist / this.defaults.rowHeight;\r\n        while (!!this.items[index] && this.items[index].disabled) {\r\n            diff > 0 ? ++index : --index;\r\n        }\r\n        dist = (this.defaults.offset - index) * this.defaults.rowHeight;\r\n\r\n        this._animating = true;\r\n        this._distance = dist; // px\r\n\r\n        // 触发选择事件\r\n        this.onChange(this.items[index], index);\r\n    }\r\n\r\n    private onChange(item: PickerData, index: number = 0): void {\r\n        this.change.emit({ item, index });\r\n    }\r\n\r\n    private _getMax(offset: number, rowHeight: number): number {\r\n        return offset * rowHeight;\r\n    }\r\n\r\n    private _getMin(offset: number, rowHeight: number, length: number): number {\r\n        return -(rowHeight * (length - offset - 1));\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n    }\r\n}\r\n","import { Component, Input, Output, forwardRef, EventEmitter, OnDestroy, ViewChild, LOCALE_ID, OnChanges, SimpleChanges, ElementRef, OnInit } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { DatePipe } from '@angular/common';\nimport { PickerOptions } from './options';\nimport { PickerComponent } from './picker.component';\n\nexport const FORMAT: any = {\n    format: null,\n    yu: '年',\n    Mu: '月',\n    du: '日',\n    hu: '时',\n    mu: '分'\n};\n\nexport type DatePickerType = 'date-ym' | 'date' | 'datetime' | 'time';\n\nexport type FORMAT_TYPE = string | { format: string, yu?: string, Mu?: string, du?: string, hu?: string, mu?: string };\n\n/**\n * 日期时间选择器\n */\n@Component({\n    selector: 'weui-date-picker',\n    template: `\n    <weui-picker [placeholder]=\"placeholder\"\n        [groups]=\"_groups\" [defaultSelect]=\"_selected\" [disabled]=\"disabled\" [options]=\"options\"\n        (show)=\"_onShow()\"\n        (hide)=\"_onHide()\"\n        (change)=\"_onCityChange($event)\"\n        (groupChange)=\"_onCityGroupChange($event)\"\n        (cancel)=\"_onCityCancelChange()\"></weui-picker>\n    `,\n    providers: [\n        DatePipe, {\n            provide: NG_VALUE_ACCESSOR,\n            useExisting: forwardRef(() => DatePickerComponent),\n            multi: true\n        }\n    ]\n})\nexport class DatePickerComponent implements OnInit, ControlValueAccessor, OnDestroy, OnChanges {\n\n    @ViewChild(PickerComponent) _pickerInstance: PickerComponent;\n\n    _value: Date;\n    _groups: any[] = [];\n    _selected: number[] = [];\n\n    /**\n     * 最小时间范围\n     * - 当前只限定年月日，暂不包括时间范围\n     */\n    @Input() min: Date;\n\n    /**\n     * 最大时间范围\n     * - 当前只限定年月日，暂不包括时间范围\n     */\n    @Input() max: Date;\n\n    /**\n     * 类型\n     * + `date-ym` 年月\n     * + `date` 日期\n     * + `datetime` 日期&时间（不包括秒）\n     * + `time` 时间（不包括秒）\n     */\n    @Input() type: DatePickerType = 'date';\n\n    private _format: any = Object.assign({}, FORMAT);\n    /**\n     * 日期格式化代码，实际是采用 DatePipe，所有代码内容和它一样\n     */\n    @Input() set format(v: FORMAT_TYPE) {\n        if (typeof v === 'string') {\n            this._format = Object.assign(FORMAT, {\n                format: v\n            });\n        } else {\n            this._format = Object.assign(FORMAT, v);\n        }\n    }\n\n    /** 配置项 */\n    @Input() options: PickerOptions;\n    /** 当options.type=='form'时，占位符文本 */\n    @Input() placeholder: string;\n    @Input() disabled: boolean;\n    /** 确认后回调 */\n    @Output() change = new EventEmitter<any>();\n    /** 列变更时回调 */\n    @Output() groupChange = new EventEmitter<any>();\n    /** 取消后回调 */\n    @Output() cancel = new EventEmitter<any>();\n    /** 显示时回调 */\n    @Output() show = new EventEmitter<any>();\n    /** 隐藏后回调 */\n    @Output() hide = new EventEmitter<any>();\n\n    constructor(private el: ElementRef, private datePipe: DatePipe) { }\n\n    // todo: 太粗暴，需要优化代码\n    private genGroups() {\n        if (!this._value) this._value = new Date();\n        this._groups = [];\n        this._selected = [];\n        if (~this.type.indexOf('date'))\n            this.genDateGroups();\n        if (~this.type.indexOf('time'))\n            this.genDateTimeGroups();\n    }\n\n    private genDateGroups() {\n        const year = this._value.getFullYear(),\n            month = this._value.getMonth() + 1,\n            day = this._value.getDate();\n\n        // year\n        let _selected = 0,\n            startYear = year - 10,\n            endYear = year + 10;\n        if (this.min) startYear = this.min.getFullYear();\n        if (this.max) endYear = this.max.getFullYear();\n        this._groups.push(Array(endYear - startYear + 1).fill(0).map((v: number, idx: number) => {\n            const _v = startYear + idx;\n            if (_v === year) _selected = idx;\n            return { label: _v + this._format.yu, value: _v };\n        }));\n        this._selected.push(_selected);\n\n        // month\n        const cy = this._groups[0][_selected].value;\n        let startMonth = 1, endMonth = 12;\n        if (cy === startYear) startMonth = this.min.getMonth() + 1;\n        if (cy === endYear) endMonth = this.max.getMonth() + 1;\n        _selected = 0;\n        this._groups.push(Array(endMonth - startMonth + 1).fill(0).map((v: number, idx: number) => {\n            const _v = startMonth + idx;\n            if (_v === month) _selected = idx;\n            return { label: _v + this._format.Mu, value: _v };\n        }));\n        this._selected.push(_selected);\n\n        // day\n        if (this.type !== 'date-ym') {\n            const cm = this._groups[1][_selected].value;\n            let startDay = 1, endDay = new Date(year, month, 0).getDate();\n            if (cy === startYear && cm === startMonth) startDay = this.min.getDate();\n            if (cy === endYear && cm === endMonth) endDay = this.max.getDate();\n            _selected = 0;\n            this._groups.push(Array(endDay - startDay + 1).fill(0).map((v: number, idx: number) => {\n                const _v = startDay + idx;\n                if (_v === day) _selected = idx;\n                return { label: _v + this._format.du, value: _v };\n            }));\n            this._selected.push(_selected);\n        }\n    }\n\n    private genDateTimeGroups() {\n        const hours = this._value.getHours(),\n              minutes = this._value.getMinutes();\n        // hours\n        let _selected = 0;\n        this._groups.push(Array(24).fill(0).map((v: number, idx: number) => {\n            const _v = idx;\n            if (_v === hours) _selected = idx;\n            return { label: _v + this._format.hu, value: _v };\n        }));\n        this._selected.push(_selected);\n\n        // minutes\n        _selected = 0;\n        this._groups.push(Array(60).fill(0).map((v: number, idx: number) => {\n            const _v = idx;\n            if (_v === minutes) _selected = idx;\n            return { label: _v + this._format.mu, value: _v };\n        }));\n        this._selected.push(_selected);\n    }\n\n    // 根据selected\n    private genValueBySelected() {\n        if (this.type === 'time') {\n            const now = new Date();\n            this._value = new Date(now.getFullYear(), now.getMonth() + 1, now.getDate(), this._groups[0][this._selected[0]].value, this._groups[1][this._selected[1]].value, 0);\n            return this;\n        }\n        const obj = {\n            y: this._groups[0][this._selected[0]].value,\n            M: this._groups[1][this._selected[1]].value - 1,\n            d: this.type !== 'date-ym' ? this._groups[2][this._selected[2]].value : 1,\n            h: 0,\n            m: 0,\n            s: 0\n        };\n        if (~this.type.indexOf('time')) {\n            obj.h = this._groups[3][this._selected[3]].value;\n            obj.m = this._groups[4][this._selected[4]].value;\n        }\n        this._value = new Date(obj.y, obj.M, obj.d, obj.h, obj.m, obj.s);\n        return this;\n    }\n\n    ngOnDestroy(): void {\n        this._groups = null;\n    }\n\n    private getFormatDate(date: Date) {\n        let f: string = '';\n        if (this._format && this._format.format)\n            f = this._format.format;\n        else {\n            switch (this.type) {\n                case 'date-ym':\n                    f = 'yyyy-MM';\n                    break;\n                case 'date':\n                    f = 'yyyy-MM-dd';\n                    break;\n                case 'datetime':\n                    f = 'yyyy-MM-dd HH:mm:ss';\n                    break;\n                case 'time':\n                    f = 'HH:mm';\n                    break;\n            }\n        }\n        return this.datePipe.transform(date, f);\n    }\n\n    _onCityChange(data: any) {\n        this.genValueBySelected();\n        const retVal = new Date(this._value.getTime());\n        this.onChange(retVal);\n        this.onTouched();\n\n        data.value = retVal;\n\n        data.formatValue = this.getFormatDate(retVal);\n        this._pickerInstance._text = data.formatValue;\n\n        this.change.emit(data);\n    }\n\n    _onCityGroupChange(res: any) {\n        this._selected[res.groupIndex] = res.index;\n        if (res.groupIndex !== (this._groups.length - 1)) {\n            this.genValueBySelected().genGroups();\n        }\n\n        this.groupChange.emit(res);\n    }\n\n    _onCityCancelChange() {\n        this.cancel.emit();\n    }\n\n    private initFlag = false;\n    ngOnInit(): void {\n        this.initFlag = true;\n        this.genGroups();\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if (this.initFlag) this.genGroups();\n    }\n\n    /** 服务于Service，并无实际意义 */\n    _triggerShow() {\n        this._pickerInstance._onShow();\n    }\n\n    _onShow() {\n        this.show.emit();\n    }\n\n    _onHide() {\n        this.hide.emit();\n    }\n\n    writeValue(value: Date): void {\n        if (value) this.genGroups();\n        this._value = value;\n        this._pickerInstance._text = value instanceof Date ? this.getFormatDate(value) : '';\n    }\n\n    private onChange: any = Function.prototype;\n    private onTouched: any = Function.prototype;\n\n    public registerOnChange(fn: (_: any) => {}): void { this.onChange = fn; }\n    public registerOnTouched(fn: () => {}): void { this.onTouched = fn; }\n\n    setDisabledState(isDisabled: boolean): void {\n    }\n\n}\n","import { Component, Input, Output, forwardRef, EventEmitter, OnDestroy, ViewChild } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { PickerOptions } from './options';\r\nimport { PickerComponent } from './picker.component';\r\n\r\n/**\r\n * 城市选择器（并不包含城市数据，可以参考示例中的数据格式）\r\n */\r\n@Component({\r\n    selector: 'weui-city-picker',\r\n    template: `\r\n    <weui-picker [placeholder]=\"placeholder\"\r\n        [groups]=\"_groups\" [defaultSelect]=\"_selected\" [disabled]=\"disabled\" [options]=\"options\"\r\n        (show)=\"_onShow()\"\r\n        (hide)=\"_onHide()\"\r\n        (change)=\"_onCityChange($event)\"\r\n        (groupChange)=\"_onCityGroupChange($event)\"\r\n        (cancel)=\"_onCityCancelChange()\"></weui-picker>\r\n    `,\r\n    providers: [{\r\n        provide: NG_VALUE_ACCESSOR,\r\n        useExisting: forwardRef(() => CityPickerComponent),\r\n        multi: true\r\n    }]\r\n})\r\nexport class CityPickerComponent implements ControlValueAccessor, OnDestroy {\r\n\r\n    @ViewChild(PickerComponent) _pickerInstance: PickerComponent;\r\n\r\n    _value: string;\r\n    _groups: any[] = [];\r\n    _selected: number[] = [];\r\n    private _tmpData: any;\r\n\r\n    @Input() dataMap: { label: string, value: string, items: string } = { label: 'name', value: 'code', items: 'sub' };\r\n    /** 城市数据，可以参考示例中的数据格式 */\r\n    @Input() set data(d: any) {\r\n        this._tmpData = d;\r\n        this.parseData(this._tmpData, this.dataMap.items, this._selected);\r\n    }\r\n    /** 配置项 */\r\n    @Input() options: PickerOptions;\r\n    /** 当options.type=='form'时，占位符文本 */\r\n    @Input() placeholder: string;\r\n    @Input() disabled: boolean;\r\n    /**\r\n     * 确认后回调当前选择数据（包括已选面板所有数据）\r\n     *\r\n     * `{ value: '10000', items: [ {}, {}, {} ] }`\r\n     */\r\n    @Output() change = new EventEmitter<any>();\r\n    /** 列变更时回调 */\r\n    @Output() groupChange = new EventEmitter<any>();\r\n    /** 取消后回调 */\r\n    @Output() cancel = new EventEmitter<any>();\r\n    /** 显示时回调 */\r\n    @Output() show = new EventEmitter<any>();\r\n    /** 隐藏后回调 */\r\n    @Output() hide = new EventEmitter<any>();\r\n\r\n    ngOnDestroy(): void {\r\n        this._tmpData = null;\r\n        this._groups = null;\r\n    }\r\n\r\n    private parseData(data: any, subKey: any, selected: any[] = [], group: any[] = [], newselected: any[] = []): any {\r\n        let _selected = 0;\r\n\r\n        if (Array.isArray(selected) && selected.length > 0) {\r\n            const _selectedClone = selected.slice(0);\r\n            _selected = _selectedClone.shift();\r\n            selected = _selectedClone;\r\n        }\r\n\r\n        if (typeof data[_selected] === 'undefined') {\r\n            _selected = 0;\r\n        }\r\n\r\n        newselected.push(_selected);\r\n\r\n        const item = data[_selected];\r\n\r\n        const _group = JSON.parse(JSON.stringify(data));\r\n        _group.forEach((g: any) => {\r\n            delete g[subKey];\r\n            g.label = g[this.dataMap.label];\r\n            g.value = g[this.dataMap.value];\r\n        });\r\n        group.push(_group);\r\n\r\n        if (typeof item[subKey] !== 'undefined' && Array.isArray(item[subKey])) {\r\n            return this.parseData(item[subKey], subKey, selected, group, newselected);\r\n        } else {\r\n            this._groups = group;\r\n            this._selected = newselected;\r\n            return { groups: group, newselected };\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 将值转换成位置\r\n     */\r\n    private valueToSelect(data: any, subKey: any, dept: number = 1, newSelected: any[] = []): any {\r\n        const code = (this._value.substr(0, dept * 2) + '0000').substr(0, 6);\r\n        let _selected = data.findIndex((w: any) => w[this.dataMap.value] === code);\r\n        if (_selected <= -1) {\r\n            _selected = 0;\r\n        }\r\n        newSelected.push(_selected);\r\n\r\n        const item = data[_selected];\r\n        if (typeof item[subKey] !== 'undefined' && Array.isArray(item[subKey])) {\r\n            return this.valueToSelect(item[subKey], subKey, ++dept, newSelected);\r\n        } else {\r\n            this._selected = newSelected;\r\n            setTimeout(() => {\r\n                this._pickerInstance._setText();\r\n            }, 100);\r\n            return newSelected;\r\n        }\r\n    }\r\n\r\n    _onCityChange(data: any) {\r\n        this.onChange(data.value);\r\n        this.onTouched();\r\n\r\n        this.change.emit(data);\r\n    }\r\n\r\n    _onCityGroupChange(res: any) {\r\n        this._selected[res.groupIndex] = res.index;\r\n        if (res.groupIndex !== 2)\r\n            this.parseData(this._tmpData, this.dataMap.items, this._selected);\r\n\r\n        this.groupChange.emit(res);\r\n    }\r\n\r\n    _onCityCancelChange() {\r\n        this.cancel.emit();\r\n    }\r\n\r\n    /** 服务于Service，并无实际意义 */\r\n    _triggerShow() {\r\n        this._pickerInstance._onShow();\r\n    }\r\n\r\n    _onShow() {\r\n        this.show.emit();\r\n    }\r\n\r\n    _onHide() {\r\n        this.hide.emit();\r\n    }\r\n\r\n    writeValue(value: any): void {\r\n        if (!value) {\r\n            this._pickerInstance._text = '';\r\n            return;\r\n        }\r\n        this._value = value;\r\n        if (this._value && this._value.length === 6) {\r\n            this.valueToSelect(this._tmpData, this.dataMap.items, 1);\r\n            this.parseData(this._tmpData, this.dataMap.items, this._selected);\r\n        }\r\n    }\r\n\r\n    private onChange: any = Function.prototype;\r\n    private onTouched: any = Function.prototype;\r\n\r\n    public registerOnChange(fn: (_: any) => {}): void { this.onChange = fn; }\r\n    public registerOnTouched(fn: () => {}): void { this.onTouched = fn; }\r\n\r\n    setDisabledState(isDisabled: boolean): void {\r\n    }\r\n\r\n}\r\n","import { Injectable, ComponentFactoryResolver, ApplicationRef, Injector, Optional, EmbeddedViewRef, ComponentRef } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Observer } from 'rxjs/Observer';\r\nimport { FORMAT_TYPE, DatePickerComponent, DatePickerType } from './picker-date.component';\r\nimport { BaseService } from '../utils/base.service';\r\nimport { PickerData } from './data';\r\nimport { PickerOptions } from './options';\r\nimport { PickerComponent } from './picker.component';\r\nimport { CityPickerComponent } from './picker-city.component';\r\n\r\n/**\r\n * 多列选择器Service，可直接通过Class构造选择器\r\n */\r\n@Injectable()\r\nexport class PickerService extends BaseService {\r\n    constructor(resolver: ComponentFactoryResolver, applicationRef: ApplicationRef, injector: Injector) {\r\n        super(resolver, applicationRef, injector);\r\n    }\r\n\r\n    /**\r\n     * 构建一个多列选择器并显示\r\n     *\r\n     * @param data 数据源\r\n     * @param value 默认值（限单列时会根据值自动解析，而对多列使用defaultSelect自行解析）\r\n     * @param defaultSelect 当前默认位置，数组的长度必须等同于 groups 长度\r\n     * @param options 配置项\r\n     * @returns 务必订阅结果才会显示。\r\n     */\r\n    show(data: PickerData[][] | String[], value?: any, defaultSelect?: number[], options?: PickerOptions): Observable<any> {\r\n        const componentRef = this.build(PickerComponent);\r\n        // 通过Service打开的强制设置为 `default` 以免出现 `input`\r\n        options = Object.assign({ }, options, { type: 'default' });\r\n        componentRef.instance.options = options;\r\n        if (defaultSelect) componentRef.instance.defaultSelect = defaultSelect;\r\n        componentRef.instance.groups = data;\r\n        if (value) {\r\n            setTimeout(() => {\r\n                componentRef.instance.writeValue(value);\r\n            }, 100);\r\n        }\r\n        componentRef.instance.hide.subscribe(() => {\r\n            setTimeout(() => {\r\n                this.destroy(componentRef);\r\n            }, 100);\r\n        });\r\n        componentRef.instance._onShow();\r\n        return componentRef.instance.change;\r\n    }\r\n\r\n    /**\r\n     * 构建一个城市选择器并显示\r\n     *\r\n     * @param data 城市数据，可以参考示例中的数据格式\r\n     * @param [value] 默认值，即城市编号\r\n     * @param [dataMap]\r\n     * @param options 配置项\r\n     * @returns 务必订阅结果才会显示。\r\n     */\r\n    showCity(data: any, value?: string, dataMap?: any, options?: PickerOptions): Observable<any> {\r\n        const componentRef = this.build(CityPickerComponent);\r\n        if (dataMap) componentRef.instance.dataMap = dataMap;\r\n        // 通过Service打开的强制设置为 `default` 以免出现 `input`\r\n        options = Object.assign({ }, options, { type: 'default' });\r\n        componentRef.instance.options = options;\r\n        componentRef.instance.data = data;\r\n        if (value) {\r\n            setTimeout(() => {\r\n                componentRef.instance.writeValue(value);\r\n            }, 100);\r\n        }\r\n        componentRef.instance.hide.subscribe(() => {\r\n            setTimeout(() => {\r\n                this.destroy(componentRef);\r\n            }, 100);\r\n        });\r\n        setTimeout(() => {\r\n            componentRef.instance._triggerShow();\r\n        }, 200);\r\n        return componentRef.instance.change;\r\n    }\r\n\r\n    /**\r\n     * 构建一个日期时间选择器并显示\r\n     *\r\n     * @param [type] 类型，date-ym年月，date日期，datetime日期&时间（不包括秒），time时间（不包括秒）\r\n     * @param [format] 日期格式化代码，实际是采用 DatePipe，所有代码内容和它一样\r\n     * @param [value] 默认显示日期\r\n     * @param [min] 最小时间范围\r\n     * @param [max] 最大时间范围\r\n     * @param [options] 配置项\r\n     * @returns 务必订阅结果才会显示。\r\n     */\r\n    showDateTime(type?: DatePickerType, format?: FORMAT_TYPE,\r\n        value?: Date, min?: Date, max?: Date, options?: PickerOptions): Observable<any> {\r\n        const componentRef = this.build(DatePickerComponent);\r\n        // 通过Service打开的强制设置为 `default` 以免出现 `input`\r\n        options = Object.assign({ }, options, { type: 'default' });\r\n        componentRef.instance.options = options;\r\n        if (type) componentRef.instance.type = type;\r\n        if (format) componentRef.instance.format = format;\r\n        if (min) componentRef.instance.min = min;\r\n        if (max) componentRef.instance.max = max;\r\n        if (value) {\r\n            setTimeout(() => {\r\n                componentRef.instance.writeValue(value);\r\n            }, 100);\r\n        }\r\n        componentRef.instance.hide.subscribe(() => {\r\n            setTimeout(() => {\r\n                this.destroy(componentRef);\r\n            }, 100);\r\n        });\r\n        setTimeout(() => {\r\n            componentRef.instance.ngOnChanges(null);\r\n            componentRef.instance._triggerShow();\r\n        }, 200);\r\n        return componentRef.instance.change;\r\n    }\r\n\r\n}\r\n","import { NgModule, ModuleWithProviders  } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PickerComponent } from './picker.component';\r\nimport { PickerGroupComponent } from './picker-group.component';\r\nimport { DatePickerComponent } from './picker-date.component';\r\nimport { CityPickerComponent } from './picker-city.component';\r\nimport { PickerService } from './picker.service';\r\nimport { PickerConfig } from './picker.config';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ PickerComponent, PickerGroupComponent, DatePickerComponent, CityPickerComponent ],\r\n    exports: [ PickerComponent, PickerGroupComponent, DatePickerComponent, CityPickerComponent ],\r\n    providers: [ PickerService ],\r\n    entryComponents: [ PickerComponent, PickerGroupComponent, DatePickerComponent, CityPickerComponent ]\r\n})\r\nexport class PickerModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: PickerModule, providers: [ PickerConfig ] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class SearchBarConfig {\r\n    /**\r\n     * 占位符，默认：`搜索`\r\n     */\r\n    placeholder?: string = '搜索';\r\n\r\n    /**\r\n     * 取消按键文字，默认：`取消`\r\n     */\r\n    cancelText?: string = '取消';\r\n\r\n    /**\r\n     * 去抖时长（单位：ms），默认：`300`\r\n     */\r\n    debounceTime?: number = 300;\r\n}\r\n","import { Component, HostListener, ElementRef, HostBinding, Input, OnChanges, SimpleChanges, Output, EventEmitter, ViewChild, OnDestroy, OnInit } from '@angular/core';\r\nimport { SearchBarConfig } from './searchbar.config';\r\nimport { Subject } from 'rxjs/Subject';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\n\r\n@Component({\r\n    selector: 'weui-searchbar',\r\n    template: `\r\n        <div class=\"weui-search-bar\" [ngClass]=\"{'weui-search-bar_focusing': _focus}\">\r\n            <form class=\"weui-search-bar__form\" (ngSubmit)=\"_onSubmit($event)\">\r\n                <div class=\"weui-search-bar__box\">\r\n                    <i class=\"weui-icon-search\"></i>\r\n                    <input #term type=\"search\" autocomplete=\"off\" name=\"q\" class=\"weui-search-bar__input\"\r\n                        [placeholder]=\"placeholder\" [(ngModel)]=\"_q\" (ngModelChange)=\"_onSearch()\"\r\n                        (focus)=\"_focus=true\" (blur)=\"_onBlur()\" />\r\n                    <a href=\"javascript:\" class=\"weui-icon-clear\" (click)=\"_onClear()\"></a>\r\n                </div>\r\n                <label class=\"weui-search-bar__label\" (click)=\"_doFocus()\">\r\n                    <i class=\"weui-icon-search\"></i>\r\n                    <span>{{placeholder}}</span>\r\n                </label>\r\n            </form>\r\n            <a href=\"javascript:\" class=\"weui-search-bar__cancel-btn\" (click)=\"_onCancel()\">{{cancelText}}</a>\r\n        </div>\r\n    `\r\n})\r\nexport class SearchBarComponent implements OnInit, OnDestroy {\r\n    _q: string = '';\r\n    @Input() set value(_value: string) {\r\n        this._q = _value;\r\n    }\r\n    /**\r\n     * 占位符，默认：`搜索`\r\n     */\r\n    @Input() placeholder: string;\r\n\r\n    /**\r\n     * 取消按键文字，默认：`取消`\r\n     */\r\n    @Input() cancelText: string;\r\n    /**\r\n     * 去抖时长（单位：ms），默认：`300`\r\n     */\r\n    @Input() debounceTime: number;\r\n    /** 搜索回调 */\r\n    @Output() search = new EventEmitter<string>();\r\n    /** 取消回调 */\r\n    @Output() cancel = new EventEmitter();\r\n    /** 清空回调 */\r\n    @Output() clear = new EventEmitter();\r\n    /** 提交回调（指的是键盘回车后） */\r\n    @Output() submit = new EventEmitter<string>();\r\n\r\n    _focus: boolean = false;\r\n    @ViewChild('term') _term: ElementRef;\r\n\r\n    private _sub: Subscription;\r\n    private _subject = new Subject<string>();\r\n\r\n    constructor(DEF: SearchBarConfig) {\r\n        Object.assign(this, DEF);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this._sub = this._subject\r\n            .pipe(\r\n                debounceTime(this.debounceTime),\r\n                distinctUntilChanged()\r\n            )\r\n            .subscribe((q: string) => {\r\n                this.search.emit(q);\r\n            });\r\n    }\r\n\r\n    _doFocus() {\r\n        this._term.nativeElement.focus();\r\n    }\r\n\r\n    _onBlur() {\r\n        if (this._q === '') this._focus = false;\r\n    }\r\n\r\n    _onSearch() {\r\n        this._subject.next(this._q);\r\n    }\r\n\r\n    _onCancel() {\r\n        this._q = '';\r\n        this._onBlur();\r\n        this._subject.next('');\r\n        this.cancel.emit();\r\n    }\r\n\r\n    _onClear() {\r\n        this._q = '';\r\n        this._doFocus();\r\n        this._subject.next('');\r\n        this.clear.emit();\r\n    }\r\n\r\n    _onSubmit(e: any) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        this._subject.next(this._q);\r\n        this.submit.emit(this._q);\r\n        return false;\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this._sub) this._sub.unsubscribe();\r\n    }\r\n\r\n}\r\n","import { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { SearchBarComponent } from './searchbar.component';\r\nimport { SearchBarConfig } from './searchbar.config';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule, FormsModule ],\r\n    declarations: [ SearchBarComponent ],\r\n    exports: [ SearchBarComponent ],\r\n    entryComponents: [ SearchBarComponent ]\r\n})\r\nexport class SearchBarModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: SearchBarModule, providers: [ SearchBarConfig ] };\r\n    }\r\n}\r\n","import { Component, Injectable, OnDestroy } from '@angular/core';\r\nimport { TabDirective } from './tab.directive';\r\n\r\n/**\r\n * @docs-private\r\n */\r\n@Component({\r\n    selector: 'weui-bar-component',\r\n    template: ``\r\n})\r\nexport class BarComponent implements OnDestroy {\r\n    tabs: TabDirective[] = [];\r\n    protected isDestroyed: boolean;\r\n\r\n    add(tab: TabDirective) {\r\n        this.tabs.push(tab);\r\n        tab.active = this.tabs.length === 1 && tab.active !== false;\r\n    }\r\n\r\n    remove(tab: TabDirective): void {\r\n        const index = this.tabs.indexOf(tab);\r\n        if (index === -1 || this.isDestroyed) {\r\n            return;\r\n        }\r\n        // Select a new tab if the tab to be removed is selected and not destroyed\r\n        if (tab.active && this.hasAvailableTabs(index)) {\r\n            const newActiveIndex = this.getClosestTabIndex(index);\r\n            this.tabs[newActiveIndex].active = true;\r\n        }\r\n\r\n        tab.removed.emit(tab);\r\n        this.tabs.splice(index, 1);\r\n    }\r\n\r\n    protected getClosestTabIndex(index: number): number {\r\n        const tabsLength = this.tabs.length;\r\n        if (!tabsLength) {\r\n            return -1;\r\n        }\r\n\r\n        for (let step = 1; step <= tabsLength; step += 1) {\r\n            const prevIndex = index - step;\r\n            const nextIndex = index + step;\r\n            if (this.tabs[prevIndex] && !this.tabs[prevIndex].disabled) {\r\n                return prevIndex;\r\n            }\r\n            if (this.tabs[nextIndex] && !this.tabs[nextIndex].disabled) {\r\n                return nextIndex;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    protected hasAvailableTabs(index: number): boolean {\r\n        const tabsLength = this.tabs.length;\r\n        if (!tabsLength) {\r\n            return false;\r\n        }\r\n\r\n        for (let i = 0; i < tabsLength; i += 1) {\r\n            if (!this.tabs[i].disabled && i !== index) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.isDestroyed = true;\r\n    }\r\n}\r\n","import { Directive, Input, HostBinding, Output, EventEmitter, OnDestroy } from '@angular/core';\r\nimport { BarComponent } from './bar.component';\r\n\r\n@Directive({ selector: 'weui-tab, [weui-tab]' })\r\nexport class TabDirective implements OnDestroy {\r\n    /** 选项卡名称 */\r\n    @Input() heading: string;\r\n    /** 是否禁用 */\r\n    @Input() disabled: boolean;\r\n    /** icon图标，支持HTML */\r\n    @Input() icon: string;\r\n    /** 徽章内容，支持数字或圆点 */\r\n    @Input() badge: number | 'dot';\r\n\r\n    /** 当tab激活时触发 */\r\n    @Output() select: EventEmitter<TabDirective> = new EventEmitter();\r\n    /** 当tab无效时触发 */\r\n    @Output() deselect: EventEmitter<TabDirective> = new EventEmitter();\r\n    /** 当tab移除时触发 */\r\n    @Output() removed: EventEmitter<TabDirective> = new EventEmitter();\r\n\r\n    /**\r\n     * 激活\r\n     */\r\n    @HostBinding('class.active')\r\n    @Input()\r\n    get active(): boolean {\r\n        return this._active;\r\n    }\r\n    set active(active: boolean) {\r\n        if (this.disabled && active || !active) {\r\n            if (!active) {\r\n                this._active = active;\r\n            }\r\n\r\n            this.deselect.emit(this);\r\n            return;\r\n        }\r\n\r\n        this._active = active;\r\n        this.select.emit(this);\r\n        this._tabComp.tabs.forEach((tab: TabDirective) => {\r\n            if (tab !== this) {\r\n                tab.active = false;\r\n            }\r\n        });\r\n    }\r\n\r\n    protected _active: boolean;\r\n    protected _tabComp: BarComponent;\r\n\r\n    constructor(tab: BarComponent) {\r\n        this._tabComp = tab;\r\n        this._tabComp.add(this);\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this._tabComp.remove(this);\r\n    }\r\n\r\n}\r\n","import { Component, forwardRef } from '@angular/core';\r\nimport { BarComponent } from './bar.component';\r\n\r\n/**\r\n * 顶部选项卡\r\n */\r\n@Component({\r\n    selector: 'weui-navbar',\r\n    template: `\r\n    <div class=\"weui-navbar\">\r\n        <div class=\"weui-navbar__item\"\r\n            [ngClass]=\"{'weui-bar__item_on': item.active}\"\r\n            [class.disabled]=\"item.disabled\"\r\n            *ngFor=\"let item of tabs\" (click)=\"item.active=true\">{{item.heading}}</div>\r\n    </div>\r\n    <div class=\"weui-tab__panel\"><ng-content></ng-content></div>\r\n    `,\r\n    providers: [{provide: BarComponent, useExisting: forwardRef(() => NavbarComponent) }],\r\n    host: {\r\n        '[class.weui-tab]': 'true'\r\n    }\r\n})\r\nexport class NavbarComponent extends BarComponent {\r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\n","import { Component, forwardRef } from '@angular/core';\r\nimport { BarComponent } from './bar.component';\r\n\r\n/**\r\n * 底部选项卡\r\n */\r\n@Component({\r\n    selector: 'weui-tabbar',\r\n    template: `\r\n    <div class=\"weui-tab__panel\"><ng-content></ng-content></div>\r\n    <div class=\"weui-tabbar\">\r\n        <div class=\"weui-tabbar__item\" [ngClass]=\"{'weui-bar__item_on': item.active}\"\r\n            *ngFor=\"let item of tabs\" (click)=\"item.active=true\">\r\n            <div style=\"display: inline-block;position: relative;\">\r\n                <div class=\"weui-tabbar__icon\" [innerHTML]=\"item.icon\"></div>\r\n                <span class=\"weui-badge\" style=\"position: absolute;top: -2px;right: -13px;\" *ngIf=\"item.badge && item.badge !== 'dot'\">{{item.badge}}</span>\r\n                <span class=\"weui-badge weui-badge_dot\" style=\"position: absolute;top: 0;right: -6px;\" *ngIf=\"item.badge && item.badge === 'dot'\"></span>\r\n            </div>\r\n            <p class=\"weui-tabbar__label\">{{item.heading}}</p>\r\n        </div>\r\n    </div>\r\n    `,\r\n    providers: [{provide: BarComponent, useExisting: forwardRef(() => TabbarComponent) }],\r\n    host: {\r\n        '[class.weui-tab]': 'true'\r\n    }\r\n})\r\nexport class TabbarComponent extends BarComponent {\r\n    constructor() {\r\n        super();\r\n    }\r\n}\r\n","import { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { TabDirective } from './tab.directive';\r\nimport { NavbarComponent } from './navbar.component';\r\nimport { TabbarComponent } from './tabbar.component';\r\nimport { BarComponent } from './bar.component';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule, FormsModule ],\r\n    declarations: [ TabDirective, NavbarComponent, TabbarComponent, BarComponent ],\r\n    exports: [ TabDirective, NavbarComponent, TabbarComponent ]\r\n})\r\nexport class TabModule  {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: TabModule, providers: [  ] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n// tslint:disable-next-line:interface-over-type-literal\r\nexport type ToastConfigType = { text: string, icon: string, time: number };\r\n\r\n@Injectable()\r\nexport class ToastConfig {\r\n\r\n    /**\r\n     * 成功配置项\r\n     */\r\n    success?: ToastConfigType = { text: '已完成', icon: 'weui-icon-success-no-circle', time: 2000 };\r\n\r\n    /**\r\n     * 加载中配置项\r\n     */\r\n    loading?: ToastConfigType = { text: '加载中…', icon: 'weui-loading', time: 2000 };\r\n\r\n}\r\n","import { Component, HostBinding, Input, Output, EventEmitter, OnDestroy } from '@angular/core';\r\nimport { ToastConfig } from './toast.config';\r\n\r\n@Component({\r\n    selector: 'weui-toast',\r\n    template: `\r\n        <div class=\"weui-mask_transparent\"></div>\r\n        <div class=\"weui-toast\">\r\n            <i class=\"{{icon}} weui-icon_toast\"></i>\r\n            <p class=\"weui-toast__content\">{{text}}</p>\r\n        </div>\r\n    `,\r\n    host: {\r\n        '[hidden]': '!_showd'\r\n    }\r\n})\r\nexport class ToastComponent implements OnDestroy {\r\n\r\n    /**\r\n     * 类型\r\n     */\r\n    @Input() set type(_t: 'success' | 'loading') {\r\n        Object.assign(this, this.DEF[_t]);\r\n    }\r\n    /**\r\n     * 文本\r\n     */\r\n    @Input() text: string;\r\n    /**\r\n     * icon图标Class名\r\n     */\r\n    @Input() icon: string;\r\n    /**\r\n     * 显示时长后自动关闭（单位：ms），0 表示永久，默认：`2000`\r\n     */\r\n    @Input() time: number = 2000;\r\n    /**\r\n     * 隐藏后回调\r\n     */\r\n    @Output() hide = new EventEmitter();\r\n\r\n    constructor(private DEF: ToastConfig) {\r\n        this.type = 'success';\r\n    }\r\n\r\n    _showd: boolean = false;\r\n    private timer: any;\r\n    /**\r\n     * @docs-private\r\n     */\r\n    onShow() {\r\n        this._showd = true;\r\n        if (this.time > 0) {\r\n            this.timer = setTimeout(() => {\r\n                this.onHide();\r\n            }, this.time);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * @docs-private\r\n     */\r\n    onHide() {\r\n        this._showd = false;\r\n        this.hide.emit();\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.timer) {\r\n            clearTimeout(this.timer);\r\n            this.timer = null;\r\n        }\r\n    }\r\n}\r\n","import { Injectable, ComponentFactoryResolver, ApplicationRef, Injector, Optional, EmbeddedViewRef } from '@angular/core';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Observer } from 'rxjs/Observer';\r\nimport { BaseService } from '../utils/base.service';\r\nimport { ToastComponent } from './toast.component';\r\n\r\n@Injectable()\r\nexport class ToastService extends BaseService {\r\n    constructor(resolver: ComponentFactoryResolver, applicationRef: ApplicationRef, injector: Injector) {\r\n        super(resolver, applicationRef, injector);\r\n    }\r\n\r\n    /**\r\n     * 构建toast并显示\r\n     *\r\n     * @param [text] 文本（可选）\r\n     * @param [time] 显示时长后自动关闭（单位：ms），0 表示永久（可选）\r\n     * @param [icon] icon图标Class名（可选）\r\n     * @param [type] 类型（可选）\r\n     */\r\n    show(text?: string, time?: number, icon?: string, type?: 'success' | 'loading'): ToastComponent {\r\n        const componentRef = this.build(ToastComponent);\r\n\r\n        if (type) componentRef.instance.type = type;\r\n        if (text) componentRef.instance.text = text;\r\n        if (icon) componentRef.instance.icon = icon;\r\n        if (time) componentRef.instance.time = time;\r\n        componentRef.instance.hide.subscribe(() => {\r\n            setTimeout(() => {\r\n                componentRef.destroy();\r\n            }, 300);\r\n        });\r\n        return componentRef.instance.onShow();\r\n    }\r\n\r\n    /**\r\n     * 关闭最新toast\r\n     */\r\n    hide() {\r\n        this.destroy();\r\n    }\r\n\r\n    /**\r\n     * 构建成功toast并显示\r\n     *\r\n     * @param [text] 文本（可选）\r\n     * @param [time] 显示时长后自动关闭（单位：ms）（可选）\r\n     * @param [icon] icon图标Class名（可选）\r\n     */\r\n    success(text?: string, time?: number, icon?: string): ToastComponent {\r\n        return this.show(text, time, icon, 'success');\r\n    }\r\n\r\n    /**\r\n     * 构建加载中toast并显示\r\n     *\r\n     * @param [text] 文本（可选）\r\n     * @param [time] 显示时长后自动关闭（单位：ms）（可选）\r\n     * @param [icon] icon图标Class名（可选）\r\n     */\r\n    loading(text?: string, time?: number, icon?: string): ToastComponent {\r\n        return this.show(text, time, icon, 'loading');\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders  } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ToastComponent } from './toast.component';\r\nimport { ToastService } from './toast.service';\r\nimport { ToastConfig } from './toast.config';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ ToastComponent ],\r\n    exports: [ ToastComponent ],\r\n    providers: [ ToastService ],\r\n    entryComponents: [ ToastComponent ]\r\n})\r\nexport class ToastModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: ToastModule, providers: [ ToastConfig ] };\r\n    }\r\n}\r\n","import { Component, Input, EventEmitter, Output, OnInit, OnDestroy } from '@angular/core';\r\n\r\nexport type ToptipsType = 'default' | 'warn' | 'info' | 'primary' | 'success';\r\n\r\n@Component({\r\n    selector: 'weui-toptips',\r\n    template: `\r\n    <div class=\"weui-toptips\" style=\"display:block\" [ngClass]=\"_classMap\">{{text}}<ng-content></ng-content></div>`,\r\n    host: {\r\n        '[hidden]': '!_showd'\r\n    }\r\n})\r\nexport class ToptipsComponent implements OnInit, OnDestroy {\r\n\r\n    /**\r\n     * 文本\r\n     */\r\n    @Input() text: string;\r\n    /**\r\n     * 显示时长后自动关闭（单位：ms），默认：`2000`\r\n     */\r\n    @Input() time: number = 2000;\r\n    /**\r\n     * 隐藏后回调\r\n     */\r\n    @Output() hide = new EventEmitter();\r\n\r\n    _type: ToptipsType;\r\n    /**\r\n     * 类型\r\n     */\r\n    @Input() set type(_type: ToptipsType) {\r\n        this._type = _type;\r\n        this.setClassMap();\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.setClassMap();\r\n    }\r\n\r\n    _classMap: any = {};\r\n    private setClassMap(): void {\r\n        this._classMap = {\r\n            [`weui-toptips_${this._type}`]: true\r\n        };\r\n    }\r\n\r\n    _showd: boolean = false;\r\n    private timer: any;\r\n\r\n    onShow() {\r\n        this.destroy();\r\n\r\n        this._showd = true;\r\n        this.timer = setTimeout(() => {\r\n            this.onHide();\r\n        }, this.time);\r\n        return this;\r\n    }\r\n\r\n    onHide() {\r\n        this._showd = false;\r\n        this.hide.emit();\r\n    }\r\n\r\n    private destroy() {\r\n        if (this.timer) {\r\n            clearTimeout(this.timer);\r\n            this.timer = null;\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.destroy();\r\n    }\r\n}\r\n","import { Injectable, ComponentFactoryResolver, ApplicationRef, Injector, Optional, EmbeddedViewRef, ComponentRef } from '@angular/core';\r\nimport { ToptipsType, ToptipsComponent } from './toptips.component';\r\nimport { BaseService } from '../utils/base.service';\r\n\r\n@Injectable()\r\nexport class ToptipsService extends BaseService {\r\n    constructor(resolver: ComponentFactoryResolver, applicationRef: ApplicationRef, injector: Injector) {\r\n        super(resolver, applicationRef, injector);\r\n    }\r\n\r\n    /**\r\n     * 构建一个Toptips并显示\r\n     *\r\n     * @param text 文本\r\n     * @param type 类型\r\n     * @param 显示时长后自动关闭（单位：ms）\r\n     */\r\n    show(text: string, type: ToptipsType, time: number = 2000): ToptipsComponent {\r\n        const componentRef = this.build(ToptipsComponent);\r\n\r\n        if (type) componentRef.instance.type = type;\r\n        if (text) componentRef.instance.text = text;\r\n        componentRef.instance.time = time;\r\n        componentRef.instance.hide.subscribe(() => {\r\n            setTimeout(() => {\r\n                this.destroy(componentRef);\r\n            }, 100);\r\n        });\r\n        return componentRef.instance.onShow();\r\n    }\r\n\r\n    /**\r\n     * 构建一个Warn Toptips并显示\r\n     *\r\n     * @param text 文本\r\n     * @param time 显示时长后自动关闭（单位：ms）\r\n     */\r\n    warn(text: string, time: number = 2000): ToptipsComponent {\r\n        return this.show(text, 'warn', time);\r\n    }\r\n\r\n    /**\r\n     * 构建一个Info Toptips并显示\r\n     *\r\n     * @param text 文本\r\n     * @param time 显示时长后自动关闭（单位：ms）\r\n     */\r\n    info(text: string, time: number = 2000): ToptipsComponent {\r\n        return this.show(text, 'info', time);\r\n    }\r\n\r\n    /**\r\n     * 构建一个Primary Toptips并显示\r\n     *\r\n     * @param text 文本\r\n     * @param time 显示时长后自动关闭（单位：ms）\r\n     */\r\n    primary(text: string, time: number = 2000): ToptipsComponent {\r\n        return this.show(text, 'primary', time);\r\n    }\r\n\r\n    /**\r\n     * 构建一个Success Toptips并显示\r\n     *\r\n     * @param text 文本\r\n     * @param time 显示时长后自动关闭（单位：ms）\r\n     */\r\n    success(text: string, time: number = 2000): ToptipsComponent {\r\n        return this.show(text, 'primary', time);\r\n    }\r\n\r\n    /**\r\n     * 构建一个Default Toptips并显示\r\n     *\r\n     * @param text 文本\r\n     * @param time 显示时长后自动关闭（单位：ms）\r\n     */\r\n    default(text: string, time: number = 2000): ToptipsComponent {\r\n        return this.show(text, 'default', time);\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders  } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ToptipsComponent } from './toptips.component';\r\nimport { ToptipsService } from './toptips.service';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ ToptipsComponent ],\r\n    exports: [ ToptipsComponent ],\r\n    providers: [ ToptipsService ],\r\n    entryComponents: [ ToptipsComponent ]\r\n})\r\nexport class ToptipsModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: ToptipsModule, providers: [  ] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class PopupConfig {\r\n    /**\r\n     * 是否全屏，默认：`false`\r\n     */\r\n    is_full?: boolean = false;\r\n\r\n    /**\r\n     * 取消按钮文本，默认：`取消`\r\n     */\r\n    cancel?: string = '取消';\r\n\r\n    /**\r\n     * 确定按钮文本，默认：`确定`\r\n     */\r\n    confirm?: string = '确定';\r\n\r\n    /**\r\n     * 允许点击背景关闭，默认：`true`\r\n     */\r\n    backdrop?: boolean = true;\r\n}\r\n","import { Component, OnDestroy, Output, Input, EventEmitter, OnChanges, SimpleChanges, OnInit } from '@angular/core';\r\nimport { animate, state, style, transition, trigger } from '@angular/animations';\r\nimport { Observer } from 'rxjs/Observer';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { PopupConfig } from './popup.config';\r\n\r\n@Component({\r\n    selector: 'weui-popup',\r\n    template: `\r\n        <div class=\"weui-mask\" [@visibility]=\"_visibility\" (click)=\"hide(true)\"></div>\r\n        <div class=\"weui-popup\" [ngClass]=\"{'weui-popup_toggle': _shownAnt}\">\r\n            <div class=\"weui-popup__hd\" *ngIf=\"!config.is_full\">\r\n                <a href=\"#\" class=\"weui-popup__action\" (click)=\"_onCancel()\">{{config.cancel}}</a>\r\n                <a href=\"#\" class=\"weui-popup__action\" (click)=\"_onConfirm()\">{{config.confirm}}</a>\r\n            </div>\r\n            <div [ngClass]=\"{'weui-popup_full': config.is_full }\">\r\n                <ng-content></ng-content>\r\n            </div>\r\n        </div>\r\n    `,\r\n    animations: [trigger('visibility', [\r\n        state('show', style({ opacity: 1 })),\r\n        state('hide', style({ opacity: 0 })),\r\n        transition('hide <=> show', [animate(200)])\r\n    ])],\r\n    host: {\r\n        '[hidden]': '!shown'\r\n    }\r\n})\r\nexport class PopupComponent implements OnInit, OnDestroy, OnChanges {\r\n    /**\r\n     * 配置项\r\n     */\r\n    @Input() config: PopupConfig;\r\n    /** 取消回调 */\r\n    @Output() cancel = new EventEmitter();\r\n    /** 确认回调 */\r\n    @Output() confirm = new EventEmitter();\r\n\r\n    private shown: boolean = false;\r\n    _shownAnt = false;\r\n\r\n    private observer: Observer<boolean>;\r\n\r\n    get _visibility(): string {\r\n        return this._shownAnt ? 'show' : 'hide';\r\n    }\r\n\r\n    constructor(private DEF: PopupConfig) {}\r\n\r\n    private parseConfig() {\r\n        this.config = Object.assign({ }, this.DEF, this.config);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.parseConfig();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if ('config' in changes)\r\n            this.parseConfig();\r\n    }\r\n\r\n    /**\r\n     * 显示，并支持订阅结果，如果点击取消值为false，反之 true\r\n     */\r\n    show(): Observable<boolean> {\r\n        this.shown = true;\r\n        setTimeout(() => { this._shownAnt = true; }, 10);\r\n        return Observable.create((observer: Observer<boolean>) => {\r\n            this.observer = observer;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 隐藏\r\n     *\r\n     * @param [is_backdrop] 是否从背景上点击(可选)\r\n     */\r\n    hide(is_backdrop?: boolean) {\r\n        if (is_backdrop === true && this.config.backdrop === false) return false;\r\n\r\n        this._shownAnt = false;\r\n        setTimeout(() => {\r\n            this.shown = false;\r\n        }, 300);\r\n    }\r\n\r\n    /** 关闭，等同 `hide()` 效果 */\r\n    close() {\r\n        this.hide(false);\r\n    }\r\n\r\n    _onCancel() {\r\n        this.cancel.emit();\r\n        this.hide(false);\r\n        if (this.observer) {\r\n            this.observer.next(false);\r\n            this.observer.complete();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    _onConfirm() {\r\n        this.confirm.emit();\r\n        this.hide(false);\r\n        if (this.observer) {\r\n            this.observer.next(true);\r\n            this.observer.complete();\r\n        }\r\n        return false;\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this.observer && this.observer instanceof Subscription) {\r\n            (<Subscription>this.observer).unsubscribe();\r\n        }\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders  } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PopupComponent } from './popup.component';\r\nimport { PopupConfig } from './popup.config';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ PopupComponent ],\r\n    exports: [ PopupComponent ],\r\n    entryComponents: [ PopupComponent ]\r\n})\r\nexport class PopupModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: PopupModule, providers: [ PopupConfig ] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class PTRConfig {\r\n    /**\r\n     * 是否使用默认icon样式，默认：`false`\r\n     */\r\n    customIcon?: boolean = false;\r\n    /**\r\n     * 下拉icon，支持HTML\r\n     */\r\n    pullIcon?: string = '<i class=\"weui-icon-download\"></i>';\r\n\r\n    /**\r\n     * 加载中icon，支持HTML\r\n     */\r\n    loadingIcon?: string = '<i class=\"weui-loading\"></i>';\r\n\r\n    /**\r\n     * 加载成功icon，支持HTML\r\n     */\r\n    successIcon?: string = '<i class=\"weui-icon-success\"></i>';\r\n\r\n    /**\r\n     * 下拉刷新容器高度（单位：px），默认：`100`\r\n     */\r\n    height?: number = 100;\r\n\r\n    /**\r\n     * 下拉范围有效（单位：%），默认：`80`\r\n     */\r\n    treshold?: number = 80;\r\n}\r\n","import { Component, Input, OnChanges, SimpleChanges, EventEmitter, Output, HostListener, ElementRef, OnInit } from '@angular/core';\r\nimport { PTRConfig } from './ptr.config';\r\n\r\n@Component({\r\n    selector: 'weui-ptr',\r\n    template: `\r\n        <div class=\"weui-ptr__loader\"\r\n            [ngStyle]=\"{\r\n                'height.px': config.height,\r\n                'margin-top.px': -config.height + (_pullPercent / (100 / config.height)),\r\n                'transition': _animating ? 'all .5s' : 'none'\r\n            }\">\r\n            <div style=\"flex: 1 1 0%; padding: 5px;\" *ngIf=\"!config.customIcon\">\r\n                <span [innerHTML]=\"_pullPercent !== 100 ? config.pullIcon : loading ? config.loadingIcon : config.successIcon\" class=\"weui-ptr__icon\" style=\"display:inline-block\"\r\n                    [ngStyle]=\"{\r\n                        'transform': 'rotate(' + -(_pullPercent !== 100 ? _pullPercent * 1.8 : 0) + 'deg)',\r\n                        'color': _pullPercent !== 100 ? '#5f5f5f' : '#1AAD19'\r\n                    }\"></span>\r\n                <p *ngIf=\"_lastLabel\" class=\"weui-ptr__label\">{{_lastLabel}}</p>\r\n            </div>\r\n            <ng-content select=\"[loader]\"></ng-content>\r\n        </div>\r\n        <div class=\"weui-ptr__content\"><ng-content></ng-content></div>\r\n    `,\r\n    host: {\r\n        '[class.weui-ptr]': 'true'\r\n    }\r\n})\r\nexport class PTRComponent implements OnInit, OnChanges {\r\n\r\n    private ogY: number = 0;\r\n    private loading: boolean = false;\r\n    private touching: boolean = false;\r\n    private touchId: any;\r\n    _animating: boolean = false;\r\n    private initScrollTop: number = 0;\r\n    _pullPercent: number = 0;\r\n    private loaderEl: HTMLElement;\r\n    private iconEl: HTMLElement;\r\n    private contentEl: HTMLElement;\r\n\r\n    _lastLabel: string;\r\n    /** 配置项 */\r\n    @Input() config: PTRConfig;\r\n    /** 是否禁止 */\r\n    @Input() disabled: boolean = false;\r\n    /** 下拉滚动时回调，返回一个0-100%的参数 */\r\n    @Output() scroll = new EventEmitter<number>();\r\n    /** 刷新回调 */\r\n    @Output() refresh = new EventEmitter<PTRComponent>();\r\n\r\n    constructor(private el: ElementRef, private DEF: PTRConfig) { }\r\n\r\n    /**\r\n     * 设置最后更新标签\r\n     *\r\n     * @param label 标签内容（支持HTML）\r\n     */\r\n    setLastUpdatedLabel(label: string) {\r\n        this._lastLabel = label;\r\n    }\r\n\r\n    /**\r\n     * 设置刷新成功\r\n     *\r\n     * @param [lastUpdatedLabel] label 标签内容（支持HTML）\r\n     */\r\n    setFinished(lastUpdatedLabel?: string) {\r\n        this._pullPercent = 0;\r\n        this.loading = false;\r\n        this._animating = true;\r\n\r\n        if (!this.touching) {\r\n            setTimeout(() => {\r\n                this._animating = false;\r\n                if (lastUpdatedLabel) this.setLastUpdatedLabel(lastUpdatedLabel);\r\n            }, 350);\r\n        }\r\n    }\r\n\r\n    @HostListener('touchstart', ['$event'])\r\n    onTouchStart($event: any) {\r\n        if (this.disabled || this.touching || this.loading) return;\r\n        this.touching = true;\r\n        this.touchId = $event.targetTouches[0].identifier;\r\n        this.ogY = this._pullPercent === 0 ? $event.targetTouches[0].pageY : $event.targetTouches[0].pageY - this._pullPercent;\r\n        this.initScrollTop = this.contentEl.scrollTop;\r\n        this._animating = false;\r\n    }\r\n\r\n    @HostListener('touchmove', ['$event'])\r\n    onTouchMove($event: any) {\r\n        if (this.disabled || !this.touching || this.loading) return;\r\n        if ($event.targetTouches[0].identifier !== this.touchId) return;\r\n\r\n        const pageY = $event.targetTouches[0].pageY;\r\n        const diffY = pageY - this.ogY;\r\n        // if it's scroll\r\n        if (diffY < 0) return;\r\n        // if it's not at top\r\n        if (this.contentEl.scrollTop > 0) return;\r\n\r\n        $event.preventDefault();\r\n\r\n        // let diffY = Math.abs(this.ogY - pageY);\r\n        this._pullPercent = (diffY - this.initScrollTop) > 100 ? 100 : (diffY - this.initScrollTop);\r\n        this.scroll.emit(this._pullPercent);\r\n    }\r\n\r\n    @HostListener('touchend', ['$event'])\r\n    @HostListener('touchcancel', ['$event'])\r\n    onTouchEnd($event: any) {\r\n        if (this.disabled || !this.touching || this.loading) return;\r\n\r\n        let _pullPercent = this._pullPercent;\r\n        let loading = false;\r\n        if (_pullPercent >= this.config.treshold) {\r\n            loading = true;\r\n        } else {\r\n            _pullPercent = 0;\r\n        }\r\n\r\n        this.touching = false;\r\n        this.ogY = 0;\r\n        this.touchId = undefined;\r\n        this.initScrollTop = 0;\r\n        this._animating = loading;\r\n        this._pullPercent = _pullPercent;\r\n        this.loading = loading;\r\n        if (loading) this.refresh.emit(this);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.parseConfig();\r\n        this.contentEl = this.el.nativeElement.querySelector('.weui-ptr__content');\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if ('config' in changes) this.parseConfig();\r\n    }\r\n\r\n    private parseConfig() {\r\n        this.config = Object.assign({}, this.DEF, this.config);\r\n        const el = this.el.nativeElement;\r\n        this.loaderEl = el.querySelector('.weui-ptr__loader');\r\n        this.iconEl = el.querySelector('.weui-ptr__icon');\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders  } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { PTRComponent } from './ptr.component';\r\nimport { PTRConfig } from './ptr.config';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ PTRComponent ],\r\n    exports: [ PTRComponent ],\r\n    entryComponents: [ PTRComponent ]\r\n})\r\nexport class PTRModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: PTRModule, providers: [ PTRConfig ] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class InfiniteLoaderConfig {\r\n    /**\r\n     * 容器高度，默认：`100vh`\r\n     */\r\n    height?: string = '100vh';\r\n\r\n    /**\r\n     * 滚动至x%时触发加载，默认：75%\r\n     */\r\n    percent?: number = 75;\r\n\r\n    /**\r\n     * 加载中文本（支持HTML），默认：weui-loadmore 组件\r\n     */\r\n    loading?: string = '<div class=\"weui-loadmore\"><i class=\"weui-loading\"></i><span class=\"weui-loadmore__tips\">加载中…</span></div>';\r\n\r\n    /**\r\n     * 完成所有数据加载文本（支持HTML），默认：weui-loadmore 组件\r\n     */\r\n    finished?: string = '<div class=\"weui-loadmore weui-loadmore_line\"><span class=\"weui-loadmore__tips\">已加载完毕</span></div>';\r\n\r\n    /**滚动节流时长（单位：ms），默认：`100` */\r\n    throttle?: number = 100;\r\n}\r\n","import { Component, Input, OnChanges, SimpleChanges, EventEmitter, Output, HostListener, ElementRef, OnDestroy, NgZone, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport { Subscription } from 'rxjs/Subscription';\nimport { FromEventObservable } from 'rxjs/observable/FromEventObservable';\n\nimport { InfiniteLoaderConfig } from './infiniteloader.config';\n\n@Component({\n    selector: 'weui-infiniteloader',\n    template: `\n        <div class=\"weui-infiniteloader__content\">\n            <ng-content></ng-content>\n            <div *ngIf=\"_loading || _finished\">\n                <div *ngIf=\"_loading\" [innerHTML]=\"config.loading\"></div>\n                <div *ngIf=\"_finished\" [innerHTML]=\"config.finished\"></div>\n            </div>\n        </div>\n    `,\n    host: {\n        '[class.weui-infiniteloader]': 'true',\n        '[style.height]': 'config.height'\n    }\n})\nexport class InfiniteLoaderComponent implements OnChanges, OnInit, OnDestroy {\n    private didScroll = false;\n    private scrollEvent: any = null;\n    private scrollTime: any = null;\n    private disposeScroller: Subscription;\n\n    _loading: boolean = false;\n    _finished: boolean = false;\n\n    /**\n     * 配置项\n     */\n    @Input() config: InfiniteLoaderConfig;\n\n    /**\n     * 加载更多回调\n     */\n    @Output() loadmore = new EventEmitter<InfiniteLoaderComponent>();\n\n    constructor(private el: ElementRef,\n        private zone: NgZone,\n        private DEF: InfiniteLoaderConfig) { }\n\n    /** 设置本次加载完成 */\n    resolveLoading() {\n        this._loading = false;\n        this._finished = false;\n    }\n\n    /** 设置结束 */\n    setFinished() {\n        this._loading = false;\n        this._finished = true;\n    }\n\n    /** 设置重新开始 */\n    restart() {\n        this._finished = false;\n    }\n\n    _onScroll() {\n        if (this._loading || this._finished) return;\n        const target = this.scrollEvent.target;\n        const scrollPercent = Math.floor(((target.scrollTop + target.clientHeight) / target.scrollHeight) * 100);\n\n        if (scrollPercent > this.config.percent) {\n            this._loading = true;\n            this.loadmore.emit(this);\n        }\n    }\n\n    ngOnInit() {\n        this.parseConfig();\n\n        this.scrollTime = setInterval(() => {\n            if (this.didScroll) {\n                this.didScroll = false;\n                this._onScroll();\n            }\n        }, this.config.throttle);\n\n        this.disposeScroller = FromEventObservable.create(this.el.nativeElement.querySelector('.weui-infiniteloader__content'), 'scroll')\n                            .subscribe(($event: any) => {\n                                this.scrollEvent = $event;\n                                this.didScroll = true;\n                            });\n    }\n\n    ngOnChanges(changes: SimpleChanges): void {\n        if ('config' in changes) this.parseConfig();\n    }\n\n    ngOnDestroy(): void {\n        if (this.scrollTime) clearTimeout(this.scrollTime);\n        if (this.disposeScroller) this.disposeScroller.unsubscribe();\n    }\n\n    private parseConfig() {\n        this.config = Object.assign({}, this.DEF, this.config);\n    }\n}\n","import { NgModule, ModuleWithProviders  } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { InfiniteLoaderComponent } from './infiniteloader.component';\r\nimport { InfiniteLoaderConfig } from './infiniteloader.config';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ InfiniteLoaderComponent ],\r\n    exports: [ InfiniteLoaderComponent ],\r\n    entryComponents: [ InfiniteLoaderComponent ]\r\n})\r\nexport class InfiniteLoaderModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: InfiniteLoaderModule, providers: [ InfiniteLoaderConfig ] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\nexport type PositionType = 'left' | 'right' | 'top' | 'bottom';\r\n\r\nexport type ModeType = 'over' | 'slide';\r\n\r\n@Injectable()\r\nexport class SidebarConfig {\r\n    /**\r\n     * 位置方向，默认：`left`\r\n     */\r\n    position: PositionType = 'left';\r\n\r\n    /**\r\n     * 类型，默认：`slide`\r\n     * - over: 不覆盖\r\n     * - slide：侧边移动\r\n     */\r\n    mode: ModeType = 'slide';\r\n\r\n    /**\r\n     * 允许点击背景关闭，默认：`true`\r\n     */\r\n    backdrop: boolean = true;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { Subject } from 'rxjs/Subject';\r\n\r\n/**\r\n * @docs-private\r\n */\r\n@Injectable()\r\nexport class SidebarService {\r\n    private _openObserver: Subject<void> = new Subject<void>();\r\n    private _closeObserver: Subject<void> = new Subject<void>();\r\n\r\n    open(): void {\r\n        this._openObserver.next();\r\n    }\r\n\r\n    close(): void {\r\n        this._closeObserver.next();\r\n    }\r\n\r\n    onOpen(fn: () => void): Subscription {\r\n        return this._openObserver.subscribe(fn);\r\n    }\r\n\r\n    onClose(fn: () => void): Subscription {\r\n        return this._closeObserver.subscribe(fn);\r\n    }\r\n}\r\n","import { Component, Input, EventEmitter, Output, ElementRef, ViewChild, SimpleChanges, OnChanges, OnDestroy, ChangeDetectionStrategy } from '@angular/core';\r\nimport { Observer } from 'rxjs/Observer';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { Subscription } from 'rxjs/Subscription';\r\nimport { findParent } from '../utils/dom';\r\nimport { SidebarConfig, PositionType, ModeType } from './sidebar.config';\r\nimport { SidebarService } from './sidebar.service';\r\nimport { isIOS } from '../utils/browser';\r\n\r\n/**\r\n * 侧边栏\r\n */\r\n@Component({\r\n    selector: 'weui-sidebar',\r\n    template: `\r\n    <aside #sidebar\r\n      role=\"complementary\"\r\n      [attr.aria-hidden]=\"!status\"\r\n      [attr.aria-label]=\"ariaLabel\"\r\n      class=\"weui-sidebar weui-sidebar__{{status ? 'opened' : 'closed'}} weui-sidebar__{{position}} weui-sidebar__{{mode}}\"\r\n      [class.weui-sidebar__inert]=\"!status\"\r\n      [ngClass]=\"sidebarClass\"\r\n      [ngStyle]=\"_getStyle()\">\r\n      <ng-content></ng-content>\r\n    </aside>\r\n    `,\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class SidebarComponent implements OnChanges, OnDestroy {\r\n    /**\r\n     * 状态，true表示打开，false表示关闭\r\n     */\r\n    @Input() status: boolean = false;\r\n    @Output() statusChange: EventEmitter<boolean> = new EventEmitter<boolean>();\r\n    /**\r\n     * 位置方向，默认：`left`\r\n     */\r\n    @Input() position: PositionType = 'left';\r\n\r\n    /**\r\n     * 类型，默认：`slide`\r\n     * - over: 不覆盖\r\n     * - slide：侧边移动\r\n     */\r\n    @Input() mode: ModeType = 'slide';\r\n\r\n    /**\r\n     * 允许点击背景关闭，默认：`true`\r\n     */\r\n    @Input() backdrop: boolean = true;\r\n    /**\r\n     * 自定义CLSS\r\n     */\r\n    @Input() sidebarClass: string;\r\n    /**\r\n     * 辅助设备标识\r\n     */\r\n    @Input() ariaLabel: string;\r\n\r\n    /** 打开前回调 */\r\n    @Output() openStart: EventEmitter<null> = new EventEmitter<null>();\r\n    /** 打开后回调 */\r\n    @Output() opened: EventEmitter<null> = new EventEmitter<null>();\r\n    /** 关闭前回调 */\r\n    @Output() closeStart: EventEmitter<null> = new EventEmitter<null>();\r\n    /** 关闭后回调 */\r\n    @Output() closed: EventEmitter<null> = new EventEmitter<null>();\r\n    /** 模式变更通知 */\r\n    @Output() modeChange: EventEmitter<string> = new EventEmitter<string>();\r\n    /** 位置变更通知 */\r\n    @Output() positionChange: EventEmitter<string> = new EventEmitter<string>();\r\n\r\n    @Output() _rerender: EventEmitter<null> = new EventEmitter<null>();\r\n\r\n    @ViewChild('sidebar') _elSidebar: ElementRef;\r\n\r\n    private _openSub: Subscription;\r\n    private _closeSub: Subscription;\r\n    private _clickEvent: string = 'click';\r\n    private _onClickOutsideAttached: boolean = false;\r\n    private _anting = false;\r\n\r\n    constructor(private _sidebarService: SidebarService, config: SidebarConfig) {\r\n        Object.assign(this, config);\r\n\r\n        if (isIOS() && 'ontouchstart' in window) {\r\n            this._clickEvent = 'touchstart';\r\n        }\r\n\r\n        this.open = this.open.bind(this);\r\n        this.close = this.close.bind(this);\r\n\r\n        this._onClickOutside = this._onClickOutside.bind(this);\r\n\r\n        this._openSub = this._sidebarService.onOpen(this.open);\r\n        this._closeSub = this._sidebarService.onClose(this.close);\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if ('status' in changes && !this._anting) {\r\n            if (changes['status'].currentValue) {\r\n                this.open();\r\n            } else {\r\n                this.close();\r\n            }\r\n            if (changes['status'].firstChange) this._anting = false;\r\n        }\r\n        if ('mode' in changes) {\r\n            this.modeChange.emit(changes['mode'].currentValue);\r\n        }\r\n        if ('position' in changes) {\r\n            this.positionChange.emit(changes['position'].currentValue);\r\n        }\r\n        if ('backdrop' in changes) {\r\n            this._initCloseListeners();\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this._destroyCloseListeners();\r\n\r\n        if (this._openSub) {\r\n            this._openSub.unsubscribe();\r\n        }\r\n        if (this._closeSub) {\r\n            this._closeSub.unsubscribe();\r\n        }\r\n    }\r\n\r\n    /** 打开侧边栏 */\r\n    open() {\r\n        this._anting = true;\r\n        this.status = true;\r\n        this.statusChange.emit(true);\r\n\r\n        this.openStart.emit();\r\n\r\n        this.closeAnt();\r\n    }\r\n\r\n    /** 关闭侧边栏 */\r\n    close() {\r\n        this._anting = true;\r\n        this.status = false;\r\n        this.statusChange.emit(false);\r\n\r\n        this.closeStart.emit();\r\n\r\n        this.closeAnt();\r\n    }\r\n\r\n    /** 手动触发容器的重新渲染 */\r\n    _triggerRerender() {\r\n        this._rerender.emit();\r\n    }\r\n\r\n    _getStyle(): CSSStyleDeclaration {\r\n        let transformStyle: string = 'none';\r\n        const marginStyle = {};\r\n        const isSlideMode: boolean = this.mode === 'slide';\r\n\r\n        if (!this.status || isSlideMode) {\r\n            transformStyle = `translate${(this.position === 'left' || this.position === 'right') ? 'X' : 'Y'}`;\r\n            const isLeftOrTop: boolean = this.position === 'left' || this.position === 'top';\r\n            const translateAmt: string = `${isLeftOrTop ? '-' : ''}100%`;\r\n            transformStyle += `(${translateAmt})`;\r\n        }\r\n\r\n        return Object.assign(marginStyle, {\r\n            webkitTransform: transformStyle,\r\n            transform: transformStyle\r\n        }) as CSSStyleDeclaration;\r\n    }\r\n\r\n    private closeAnt() {\r\n        setTimeout(() => {\r\n            this._anting = false;\r\n            if (this.status) {\r\n                this._initCloseListeners();\r\n                this.opened.emit();\r\n            } else {\r\n                this._destroyCloseListeners();\r\n                this.closed.emit();\r\n            }\r\n        }, 300);\r\n    }\r\n\r\n    private _initCloseListeners(): void {\r\n        if (this.status && this.backdrop) {\r\n            setTimeout(() => {\r\n                if (this.backdrop && !this._onClickOutsideAttached) {\r\n                    document.addEventListener(this._clickEvent, this._onClickOutside);\r\n                    this._onClickOutsideAttached = true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    private _destroyCloseListeners() {\r\n        if (this._onClickOutsideAttached) {\r\n            document.removeEventListener(this._clickEvent, this._onClickOutside);\r\n            this._onClickOutsideAttached = false;\r\n        }\r\n    }\r\n\r\n    private _onClickOutside(e: MouseEvent) {\r\n        if (this._onClickOutsideAttached && this._elSidebar && !this._elSidebar.nativeElement.contains(e.target)) {\r\n            this.close();\r\n        }\r\n    }\r\n\r\n    /** 获取侧边栏容器高度 */\r\n    get _height(): number {\r\n        return this._elSidebar.nativeElement ? this._elSidebar.nativeElement.offsetHeight : 0;\r\n    }\r\n\r\n    /** 获取侧边栏容器宽度 */\r\n    get _width(): number {\r\n        return this._elSidebar.nativeElement ? this._elSidebar.nativeElement.offsetWidth : 0;\r\n    }\r\n}\r\n","import { Component, AfterContentInit, OnChanges, OnDestroy, SimpleChanges, ChangeDetectionStrategy, QueryList, ContentChildren, Input, Output, EventEmitter, ChangeDetectorRef, ElementRef, Inject, OnInit } from '@angular/core';\r\nimport { SidebarComponent } from './sidebar.component';\r\n\r\n/**\r\n * 侧边栏容器\r\n */\r\n@Component({\r\n    selector: 'weui-sidebar-container',\r\n    template: `\r\n        <ng-content select=\"weui-sidebar\"></ng-content>\r\n        <div *ngIf=\"_showBackdrop\" aria-hidden=\"true\" class=\"weui-mask\" (click)=\"_onBackdropClicked($event)\"></div>\r\n        <div class=\"weui-sidebar__content\" [ngStyle]=\"_getStyles()\">\r\n            <ng-content></ng-content>\r\n        </div>\r\n    `,\r\n    changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class SidebarContainerComponent implements AfterContentInit, OnChanges, OnInit, OnDestroy {\r\n    @ContentChildren(SidebarComponent)\r\n    _sidebars: QueryList<SidebarComponent>;\r\n\r\n    @Input() _showBackdrop: boolean = false;\r\n    @Output() _showBackdropChange = new EventEmitter<boolean>();\r\n\r\n    private orgOverflowX = '';\r\n\r\n    constructor(\r\n        private _ref: ChangeDetectorRef,\r\n        private _el: ElementRef) { }\r\n\r\n    ngAfterContentInit(): void {\r\n        this._onToggle();\r\n        this._subscribe();\r\n\r\n        this._sidebars.changes.subscribe(() => {\r\n            this._unsubscribe();\r\n            this._subscribe();\r\n        });\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if ('_showBackdrop' in changes) {\r\n            this._showBackdropChange.emit(changes['_showBackdrop'].currentValue);\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        const $body = document.querySelector('body');\r\n        this.orgOverflowX = $body.style.overflowX;\r\n        $body.style.overflowX = 'hidden';\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this._unsubscribe();\r\n        document.querySelector('body').style.overflowX = this.orgOverflowX;\r\n    }\r\n\r\n    _getStyles(): CSSStyleDeclaration {\r\n        if (this._sidebars) {\r\n            this._sidebars.forEach((sidebar: SidebarComponent) => {\r\n                if (!sidebar) { return; }\r\n\r\n                if (sidebar.mode === 'slide') {\r\n                    let transformStyle = null;\r\n\r\n                    if (sidebar.status) {\r\n                        const isLeftOrTop: boolean = sidebar.position === 'left' || sidebar.position === 'top';\r\n                        const isLeftOrRight: boolean = sidebar.position === 'left' || sidebar.position === 'right';\r\n\r\n                        const transformDir: string = isLeftOrRight ? 'X' : 'Y';\r\n                        const transformAmt: string = `${isLeftOrTop ? '' : '-'}${isLeftOrRight ? sidebar._width : sidebar._height}`;\r\n\r\n                        transformStyle = `translate${transformDir}(${transformAmt}px)`;\r\n                    }\r\n\r\n                    this._el.nativeElement.style.transform = transformStyle;\r\n                }\r\n            });\r\n        }\r\n\r\n        return {\r\n            margin: `0px 0px 0px 0px`\r\n        } as CSSStyleDeclaration;\r\n    }\r\n\r\n    _onBackdropClicked($event: any) {\r\n        $event.preventDefault();\r\n        $event.stopPropagation();\r\n        this._sidebars.forEach((sidebar: SidebarComponent) => {\r\n            if (sidebar.status && sidebar.backdrop) {\r\n                sidebar.close();\r\n            }\r\n        });\r\n        return false;\r\n    }\r\n\r\n    private _subscribe() {\r\n        if (this._sidebars) {\r\n            this._sidebars.forEach((sidebar: SidebarComponent) => {\r\n                if (!sidebar) { return; }\r\n\r\n                sidebar.openStart.subscribe(() => this._onToggle());\r\n                sidebar.opened.subscribe(() => this._markForCheck());\r\n\r\n                sidebar.closeStart.subscribe(() => this._onToggle());\r\n                sidebar.closed.subscribe(() => this._markForCheck());\r\n\r\n                sidebar.modeChange.subscribe(() => this._markForCheck());\r\n                sidebar.positionChange.subscribe(() => this._markForCheck());\r\n\r\n                sidebar._rerender.subscribe(() => this._markForCheck());\r\n            });\r\n        }\r\n    }\r\n\r\n    private _unsubscribe() {\r\n        if (this._sidebars) {\r\n            this._sidebars.forEach((sidebar: SidebarComponent) => {\r\n                if (!sidebar) { return; }\r\n\r\n                sidebar.openStart.unsubscribe();\r\n                sidebar.opened.unsubscribe();\r\n\r\n                sidebar.closeStart.unsubscribe();\r\n                sidebar.closed.unsubscribe();\r\n\r\n                sidebar.modeChange.unsubscribe();\r\n                sidebar.positionChange.unsubscribe();\r\n\r\n                sidebar._rerender.unsubscribe();\r\n            });\r\n        }\r\n    }\r\n\r\n    /** 状态变更时重新计算样式 */\r\n    private _markForCheck() {\r\n        this._ref.markForCheck();\r\n    }\r\n\r\n    private _onToggle() {\r\n        if (this._sidebars) {\r\n            let hasOpen = false;\r\n\r\n            const _sidebars = this._sidebars.toArray();\r\n            for (let i = 0; i < _sidebars.length; i++) {\r\n                const sidebar: SidebarComponent = _sidebars[i];\r\n\r\n                if (sidebar.status) {\r\n                    hasOpen = true;\r\n                    break;\r\n                }\r\n            }\r\n\r\n            this._showBackdrop = hasOpen;\r\n            this._showBackdropChange.emit(hasOpen);\r\n        }\r\n\r\n        this._markForCheck();\r\n    }\r\n}\r\n","import { Directive, HostListener } from '@angular/core';\r\nimport { SidebarService } from './sidebar.service';\r\n\r\n/**\r\n * 关闭侧边栏指令\r\n */\r\n@Directive({ selector: '[closeSidebar]' })\r\nexport class CloseSidebarDirective {\r\n\r\n    constructor(private _sidebarService: SidebarService) { }\r\n\r\n    @HostListener('click')\r\n    _onClick(): void {\r\n        this._sidebarService.close();\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { SidebarContainerComponent } from './sidebar-container.component';\r\nimport { SidebarComponent } from './sidebar.component';\r\nimport { CloseSidebarDirective } from './close.directive';\r\nimport { SidebarService } from './sidebar.service';\r\nimport { SidebarConfig } from './sidebar.config';\r\n\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ SidebarContainerComponent, SidebarComponent, CloseSidebarDirective ],\r\n    exports: [ SidebarContainerComponent, SidebarComponent, CloseSidebarDirective ],\r\n    providers: [ SidebarService ]\r\n})\r\nexport class SidebarModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: SidebarModule, providers: [ SidebarConfig ] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class SwiperConfig {\r\n\r\n    /**\r\n     * 等同于swiper[参数项](http://idangero.us/swiper/api/)\r\n     */\r\n    options: any = {\r\n        loop: true,\r\n        pagination: '.swiper-pagination'\r\n    };\r\n}\r\n","import { SwiperConfig } from './swiper.config';\r\nimport { Component, Input, OnChanges, SimpleChanges, OnDestroy, EventEmitter, Output, ElementRef, NgZone, OnInit, AfterViewInit } from '@angular/core';\r\n\r\ndeclare const Swiper: any;\r\n\r\n@Component({\r\n    selector: 'weui-swiper',\r\n    template: `<ng-content></ng-content>`\r\n})\r\nexport class SwiperComponent implements AfterViewInit, OnChanges, OnInit, OnDestroy {\r\n\r\n    /**\r\n     * 等同于swiper[参数项](http://idangero.us/swiper/api/)\r\n     */\r\n    @Input() options: any;\r\n\r\n    constructor(private el: ElementRef, private zone: NgZone, private DEF: SwiperConfig) { }\r\n\r\n    /**\r\n     * Swiper 实例对象，可以通过 `@ViewChild` 访问到它\r\n     */\r\n    swiper: any;\r\n\r\n    private initOptions() {\r\n        this.options = Object.assign({}, this.DEF.options, this.options);\r\n    }\r\n\r\n    private containerEl: HTMLElement;\r\n    private init() {\r\n        this.destroy();\r\n\r\n        this.zone.runOutsideAngular(() => {\r\n            this.swiper = new Swiper(this.containerEl, this.options);\r\n        });\r\n    }\r\n\r\n    private destroy() {\r\n        if (this.containerEl) {\r\n            [ 'horizontal', 'vertical' ].forEach(v => {\r\n                this.containerEl.classList.remove('swiper-container-' + v);\r\n            });\r\n        }\r\n        if (this.swiper) {\r\n            this.zone.runOutsideAngular(() => {\r\n                this.swiper.destroy(true, false);\r\n                this.swiper = null;\r\n            });\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        if (!this.options) this.initOptions();\r\n        this.containerEl = this.el.nativeElement.querySelector('.swiper-container');\r\n        if (!this.containerEl) throw new Error('组件内容的HTML跟swiper所需要的DOM结构必须完全一样。');\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.init();\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if ('options' in changes) {\r\n            this.initOptions();\r\n            if (!changes['options'].firstChange) {\r\n                this.init();\r\n            }\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        this.destroy();\r\n    }\r\n}\r\n","import { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { SwiperComponent } from './swiper.component';\r\nimport { SwiperConfig } from './swiper.config';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule, FormsModule ],\r\n    declarations: [ SwiperComponent ],\r\n    exports: [ SwiperComponent ],\r\n    providers: [ SwiperConfig ]\r\n})\r\nexport class SwiperModule  {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: SwiperModule, providers: [ SwiperConfig ] };\r\n    }\r\n}\r\n","import { Directive, OnInit, OnDestroy, ElementRef, Input, OnChanges, SimpleChanges, NgZone } from '@angular/core';\r\n\r\ndeclare const GM: any;\r\n\r\n@Directive({ selector: 'canvas[weui-chart-g2]', exportAs: 'chart-g2' })\r\nexport class ChartG2Directive implements OnInit, OnDestroy, OnChanges {\r\n\r\n    _chart: any;\r\n\r\n    /**\r\n     * chart实例对象\r\n     */\r\n    get chart(): any {\r\n        return this._chart;\r\n    }\r\n\r\n    /**\r\n     * GM对象\r\n     */\r\n    get GM(): any {\r\n        return GM;\r\n    }\r\n\r\n    /**\r\n     * 画布内部的边距，可以是数组 [top, right, bottom, left] 也可以是一个数字。\r\n     */\r\n    @Input() margin: number[] | number;\r\n\r\n    private initFlag: boolean = false;\r\n    constructor(private el: ElementRef, private zone: NgZone) { }\r\n\r\n    ngOnInit() {\r\n        this.initFlag = true;\r\n        this.buildChart();\r\n    }\r\n\r\n    private buildChart() {\r\n        const object: any = {\r\n            el: this.el.nativeElement\r\n        };\r\n        if (this.margin) object.margin = this.margin;\r\n\r\n        this.zone.runOutsideAngular(() => {\r\n            this._chart = new GM.Chart(object);\r\n        });\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (this.initFlag) {\r\n            if ('margin' in changes && !changes['margin'].firstChange) {\r\n                this.buildChart();\r\n            }\r\n        }\r\n    }\r\n\r\n    ngOnDestroy(): void {\r\n        if (this._chart) {\r\n            this.zone.runOutsideAngular(() => {\r\n                // fixed: TypeError: Cannot read property 'stop' of null\r\n                try {\r\n                    this._chart.destroy();\r\n                } catch (e) {\r\n                    console.warn(e);\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\n\r\nimport { ChartG2Directive } from './chart-g2.directive';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ ChartG2Directive ],\r\n    exports: [ ChartG2Directive ]\r\n})\r\nexport class ChartG2Module {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: ChartG2Module, providers: [  ] };\r\n    }\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/platform-browser';\r\nimport { Subject } from 'rxjs/Subject';\r\n\r\n@Injectable()\r\nexport class LoaderService {\r\n\r\n    private list: any = {};\r\n\r\n    constructor(@Inject(DOCUMENT) private doc: any) {}\r\n\r\n    load(paths: string | string[]): Promise<boolean> {\r\n        return new Promise((resolve, reject) => {\r\n            const promises: Promise<any>[] = [];\r\n\r\n            if (!Array.isArray(paths)) paths = [ paths ];\r\n\r\n            (<string[]>paths).forEach(path => {\r\n                if (path.endsWith('.css')) {\r\n                    promises.push(this.loadCss(path));\r\n                } else {\r\n                    promises.push(this.loadScript(path));\r\n                }\r\n            });\r\n\r\n            Promise.all(promises).then(res => {\r\n                resolve(true);\r\n            }).catch(err => {\r\n                resolve(false);\r\n            });\r\n        });\r\n    }\r\n\r\n    loadScript(path: string): Promise<any> {\r\n        return new Promise((resolve, reject) => {\r\n            if (this.list[path] === true) {\r\n                resolve(<any>{\r\n                    path: path,\r\n                    loaded: true,\r\n                    status: 'Loaded'\r\n                });\r\n                return;\r\n            }\r\n\r\n            this.list[path] = true;\r\n\r\n            const node = this.doc.createElement('script');\r\n            node.type = 'text/javascript';\r\n            node.src = path;\r\n            node.charset = 'utf-8';\r\n            node.defer = true;\r\n            node.onload = () => {\r\n                resolve(<any>{\r\n                    path: path,\r\n                    loaded: true,\r\n                    status: 'Loaded'\r\n                });\r\n            };\r\n            node.onerror = (error: any) => resolve(<any>{\r\n                path: path,\r\n                loaded: false,\r\n                status: 'Loaded'\r\n            });\r\n            this.doc.getElementsByTagName('head')[0].appendChild(node);\r\n        });\r\n    }\r\n\r\n    loadCss(path: string): Promise<any> {\r\n        return new Promise((resolve, reject) => {\r\n            if (this.list[path] === true) {\r\n                resolve(<any>{\r\n                    path: path,\r\n                    loaded: true,\r\n                    status: 'Loaded'\r\n                });\r\n                return;\r\n            }\r\n\r\n            this.list[path] = true;\r\n\r\n            const node = this.doc.createElement('link');\r\n            node.rel = 'stylesheet';\r\n            node.type = 'text/css';\r\n            node.href = path;\r\n            this.doc.getElementsByTagName('head')[0].appendChild(node);\r\n            resolve(<any>{\r\n                path: path,\r\n                loaded: true,\r\n                status: 'Loaded'\r\n            });\r\n        });\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { LoaderService } from './../utils/loader.service';\r\n\r\n@Injectable()\r\nexport class JWeiXinService {\r\n\r\n    constructor(private load: LoaderService) {}\r\n\r\n    /**\r\n     * 懒加载jweixin.js\r\n     *\r\n     * @param jweixinUrl 默认：//res.wx.qq.com/open/js/jweixin-1.2.0.js\r\n     */\r\n    get(jweixinUrl?: string): Promise<boolean> {\r\n        return new Promise((resolve, reject) => {\r\n            this.load.loadScript(jweixinUrl || '//res.wx.qq.com/open/js/jweixin-1.2.0.js').then((res) => {\r\n                resolve(res.loaded === true);\r\n            }).catch(() => {\r\n                resolve(false);\r\n            });\r\n        });\r\n    }\r\n\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { JWeiXinService } from './jweixin.service';\r\nimport { LoaderService } from '../utils/loader.service';\r\n\r\n@NgModule({\r\n    providers: [ JWeiXinService, LoaderService ]\r\n})\r\nexport class JWeiXinModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: JWeiXinModule, providers: [  ] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { AnimateType } from '../utils/types';\r\n\r\n@Injectable()\r\nexport class AccordionConfig {\r\n    /**\r\n     * 是否可折叠，`false` 表示保持只有一个可折叠，`true` 表示所有都允许，默认：`false`\r\n     */\r\n    collapsible: boolean = false;\r\n    /**\r\n     * 自动展开第一次，默认：`true`\r\n     */\r\n    activeFirst: boolean = true;\r\n    /**\r\n     * 动画类型，`none` 无动画，`slide` 滑动，默认：`slide`\r\n     */\r\n    animate: AnimateType = 'slide';\r\n}\r\n","import { Component, Input, Output, EventEmitter } from '@angular/core';\r\nimport { AccordionPanelComponent } from './accordion-panel.component';\r\nimport { AccordionConfig } from './accordion.config';\r\nimport { AnimateType } from '../utils/types';\r\n\r\n@Component({\r\n    selector: 'weui-accordion',\r\n    template: `<ng-content></ng-content>`,\r\n    host: {\r\n        '[attr.aria-multiselectable]': 'closeOthers'\r\n    }\r\n})\r\nexport class AccordionComponent {\r\n    /**\r\n     * 是否可折叠，`true` 表示同时所有都允许展开，`false` 表示同时只允许一个展开，默认：`false`\r\n     */\r\n    @Input() collapsible: boolean = false;\r\n    /**\r\n     * 自动展开第一次，默认：`true`\r\n     */\r\n    @Input() activeFirst: boolean = true;\r\n    /**\r\n     * 动画类型，`none` 无动画，`slide` 滑动，默认：`slide`\r\n     */\r\n    @Input() _animate: AnimateType = 'slide';\r\n\r\n    /**\r\n     * 展开时回调，参数为面板下标。\r\n     */\r\n    @Output() select = new EventEmitter<number>();\r\n\r\n    private panels: AccordionPanelComponent[] = [];\r\n\r\n    constructor(config: AccordionConfig) {\r\n        Object.assign(this, config);\r\n    }\r\n\r\n    _add(item: AccordionPanelComponent) {\r\n        this.panels.push(item);\r\n        if (this.panels.length === 1 && this.activeFirst)\r\n            item.active = true;\r\n    }\r\n\r\n    _remove(item: AccordionPanelComponent) {\r\n        this.panels.splice(this.panels.indexOf(item), 1);\r\n    }\r\n\r\n    _index(item: AccordionPanelComponent) {\r\n        return this.panels.indexOf(item);\r\n    }\r\n\r\n    _closeOthers(cur: AccordionPanelComponent) {\r\n        if (this.collapsible) return;\r\n\r\n        this.panels.forEach(panel => {\r\n            if (!panel.disabled && panel !== cur) panel.active = false;\r\n        });\r\n    }\r\n}\r\n","import { Component, Input, Inject, HostBinding, OnDestroy, OnInit } from '@angular/core';\r\nimport { AccordionComponent } from './accordion.component';\r\n\r\n@Component({\r\n    selector: 'weui-accordion-panel',\r\n    template: `\r\n    <div role=\"tab\" (click)=\"_toggle($event)\"><ng-content select=\"[heading]\"></ng-content></div>\r\n    <div role=\"tabpanel\" class=\"weui-accordion-content\"><ng-content></ng-content></div>\r\n    `,\r\n    host: {\r\n        '[class.weui-accordion-panel-disabled]': 'disabled',\r\n        '[class.weui-accordion-active]': 'active'\r\n    }\r\n})\r\nexport class AccordionPanelComponent implements OnInit, OnDestroy {\r\n    /**\r\n     * 是否禁止\r\n     */\r\n    @Input() disabled: boolean = false;\r\n\r\n    private _active: boolean = false;\r\n\r\n    /**\r\n     * 是否展开\r\n     */\r\n    @Input()\r\n    get active(): boolean {\r\n        return this._active;\r\n    }\r\n\r\n    set active(value: boolean) {\r\n        this._active = value;\r\n        if (value) this.accordion._closeOthers(this);\r\n    }\r\n\r\n    constructor( @Inject(AccordionComponent) protected accordion: AccordionComponent) { }\r\n\r\n    ngOnInit() {\r\n        this.accordion._add(this);\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.accordion._remove(this);\r\n    }\r\n\r\n    _toggle(event: Event) {\r\n        if (!this.disabled) {\r\n            this.active = !this.active;\r\n            this.accordion.select.emit(this.accordion._index(this));\r\n        }\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders  } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AccordionPanelComponent } from './accordion-panel.component';\r\nimport { AccordionComponent } from './accordion.component';\r\nimport { AccordionConfig } from './accordion.config';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ AccordionPanelComponent, AccordionComponent ],\r\n    exports: [ AccordionPanelComponent, AccordionComponent ],\r\n    providers: [  ]\r\n})\r\nexport class AccordionModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: AccordionModule, providers: [ AccordionConfig ] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class RatingConfig {\r\n    /**\r\n     * 图标数量（默认：5个）\r\n     */\r\n    max?: number = 5;\r\n\r\n    /**\r\n     * 样式名\r\n     */\r\n    cls?: string = '';\r\n\r\n    /**\r\n     * 未选中图标，默认：`weui-icon-circle`\r\n     */\r\n    stateOff?: string = 'weui-icon-circle';\r\n\r\n    /**\r\n     * 选中图标，默认：`weui-icon-success`\r\n     */\r\n    stateOn?: string = 'weui-icon-success';\r\n\r\n    /**\r\n     * 自定义图标，当存在时 `max`、`stateOff`、`stateOn` 失效\r\n     */\r\n    states?: { on: string, off: string }[] = [];\r\n\r\n    /**\r\n     * 图标 `title` 属性值，默认以 `1` 开始的索引值\r\n     */\r\n    titles?: string[] = [];\r\n}\r\n","import { Component, EventEmitter, HostListener, Input, OnInit, Output, forwardRef, SimpleChanges, OnChanges } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { RatingConfig } from './rating.config';\r\n\r\n@Component({\r\n    selector: 'weui-rating',\r\n    template: `\r\n        <span class=\"weui-rating__container{{_class ? ' ' + _class : ''}}\" tabindex=\"0\"\r\n            role=\"slider\" aria-valuemin=\"0\" [attr.aria-valuemax]=\"_range.length\" [attr.aria-valuenow]=\"_value\">\r\n            <ng-template ngFor let-r [ngForOf]=\"_range\" let-index=\"index\">\r\n                <span class=\"sr-only\">({{ index < _value ? '*' : ' ' }})</span>\r\n                <i (click)=\"_rate(index + 1)\" [ngClass]=\"index < _value ? r.on : r.off\" [title]=\"r.title\" ></i>\r\n            </ng-template>\r\n        </span>\r\n    `,\r\n    providers: [{\r\n        provide: NG_VALUE_ACCESSOR,\r\n        useExisting: forwardRef(() => RatingComponent),\r\n        multi: true\r\n    }]\r\n})\r\nexport class RatingComponent implements ControlValueAccessor, OnChanges {\r\n    /** 配置项 */\r\n    @Input() config: RatingConfig;\r\n    /** 是否只读模式，默认：`false` */\r\n    @Input() readonly: boolean = false;\r\n    /** 选中后回调，参数：选中值 */\r\n    @Output() selected = new EventEmitter<number>();\r\n\r\n    _range: any[];\r\n    _value: number;\r\n    _preValue: number;\r\n    _class: string = '';\r\n\r\n    constructor(private DEF: RatingConfig) { }\r\n\r\n    _setConfig(cog: RatingConfig) {\r\n        const _c = Object.assign({\r\n            states: []\r\n        }, this.DEF, cog);\r\n        this._class = _c.cls || '';\r\n        const count = _c.states.length || _c.max;\r\n        this._range = Array(count).fill(0).map((v, i) => {\r\n            return Object.assign({\r\n                index: i,\r\n                on: _c.stateOn,\r\n                off: _c.stateOff,\r\n                title: _c.titles[i] || i + 1\r\n            }, _c.states[i] || {});\r\n        });\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.config) {\r\n            this._setConfig(changes.config.currentValue);\r\n        }\r\n    }\r\n\r\n    _rate(value: number): void {\r\n        if (!this.readonly && value >= 0 && value <= this._range.length) {\r\n            this.writeValue(value);\r\n            this.onChange(value);\r\n        }\r\n    }\r\n\r\n    writeValue(_value: any): void {\r\n        if (_value % 1 !== _value) {\r\n            this._value = Math.round(_value);\r\n            this._preValue = _value;\r\n            return;\r\n        }\r\n\r\n        this._preValue = _value;\r\n        this._value = _value;\r\n    }\r\n\r\n    private onChange: any = Function.prototype;\r\n    private onTouched: any = Function.prototype;\r\n\r\n    public registerOnChange(fn: (_: any) => {}): void { this.onChange = fn; }\r\n    public registerOnTouched(fn: () => {}): void { this.onTouched = fn; }\r\n\r\n    setDisabledState(isDisabled: boolean): void {\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders  } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RatingComponent } from './rating.component';\r\nimport { RatingConfig } from './rating.config';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule ],\r\n    declarations: [ RatingComponent ],\r\n    exports: [ RatingComponent ],\r\n    entryComponents: [ RatingComponent ]\r\n})\r\nexport class RatingModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: RatingModule, providers: [ RatingConfig ] };\r\n    }\r\n}\r\n","import { Component, Input, forwardRef, Output, EventEmitter, HostBinding, ViewChild, ElementRef } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\n/**\n * Stepper 步进器，支持 `[(ngModel)]`\n */\n@Component({\n    selector: 'weui-stepper',\n    template: `\n    <span class=\"minus\" [ngClass]=\"{'disabled':_disabledMinus}\" (click)=\"_minus()\"><em>-</em></span>\n    <div class=\"input\">\n        <input type=\"tel\" #inputNumber [(ngModel)]=\"value\" (blur)=\"_blur()\"\n            [disabled]=\"disabled\"\n            [attr.min]=\"min\"\n            [attr.max]=\"max\"\n            [attr.step]=\"_step\"\n            autocomplete=\"off\">\n    </div>\n    <span class=\"plus\" [ngClass]=\"{'disabled':_disabledPlus}\" (click)=\"_plus()\"><em>+</em></span>\n    `,\n    providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => StepperComponent),\n        multi: true\n    }]\n})\nexport class StepperComponent implements ControlValueAccessor {\n    /** 最小值 */\n    @Input() min: number = -Infinity;\n    /** 最大值 */\n    @Input() max: number = Infinity;\n    /** 禁用 */\n    @Input() @HostBinding('class.disabled') disabled: boolean = false;\n    /** 变更时回调 */\n    @Output() change = new EventEmitter<number>();\n\n    _step: number = 1;\n    _precisionStep = 0;\n    _precisionFactor = 1;\n\n    @ViewChild('inputNumber') _inputNumber: ElementRef;\n\n    /** 步长，可以为小数 */\n    @Input()\n    get step() { return this._step; }\n    set step(value: number) {\n        this._step = value;\n\n        const stepString = value.toString();\n        if (stepString.indexOf('e-') >= 0) {\n            this._precisionStep = parseInt(stepString.slice(stepString.indexOf('e-')), 10);\n        }\n        if (stepString.indexOf('.') >= 0) {\n            this._precisionStep = stepString.length - stepString.indexOf('.') - 1;\n        }\n        this._precisionFactor = Math.pow(10, this._precisionStep);\n    }\n\n    private _value: number;\n\n    get value() { return this._value; }\n    set value(value: number) {\n        if (isNaN(value) || value === this.value) return;\n\n        value = +value;\n\n        if (value > this.max) {\n            this._value = this.max;\n            this.onChange(this.max);\n        } else if (value < this.min) {\n            this._value = this.min;\n            this.onChange(this.min);\n        } else {\n            this._value = value;\n            this._checkDisabled();\n        }\n    }\n\n    _disabledMinus: boolean = false;\n    _disabledPlus: boolean = false;\n    _checkDisabled(): this {\n        this._disabledPlus = this.disabled || !((this.value + this.step) <= this.max);\n        this._disabledMinus = this.disabled || !((this.value - this.step) >= this.min);\n        return this;\n    }\n\n    _notify() {\n        this.change.emit(this.value);\n        this.onChange(this.value);\n    }\n\n    _plus() {\n        if (this.value === undefined) this.value = this.max || 0;\n        this._checkDisabled();\n\n        if (this._disabledPlus) return;\n        this.value = this._toPrecisionAsStep((this._precisionFactor * this.value + this._precisionFactor * this.step) / this._precisionFactor);\n        this._checkDisabled()._notify();\n    }\n\n    _minus() {\n        if (this.value === undefined) this.value = this.min || 0;\n        this._checkDisabled();\n\n        if (this._disabledMinus) return;\n        this.value = this._toPrecisionAsStep((this._precisionFactor * this.value - this._precisionFactor * this.step) / this._precisionFactor);\n        this._checkDisabled()._notify();\n    }\n\n    _blur() {\n        const el = this._inputNumber.nativeElement;\n        this.value = +el.value;\n        el.value = this.value;\n        this._checkDisabled()._notify();\n    }\n\n    _toPrecisionAsStep(num: any) {\n        if (isNaN(num) || num === '') {\n            return num;\n        }\n        return Number(Number(num).toFixed(this._precisionStep));\n    }\n\n    writeValue(value: any): void {\n        this.value = value;\n        this._checkDisabled();\n    }\n\n    private onChange: any = Function.prototype;\n    private onTouched: any = Function.prototype;\n\n    public registerOnChange(fn: (_: any) => {}): void { this.onChange = fn; }\n    public registerOnTouched(fn: () => {}): void { this.onTouched = fn; }\n\n    setDisabledState(isDisabled: boolean): void {\n    }\n}\n","import { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { StepperComponent } from './stepper.component';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule, FormsModule ],\r\n    declarations: [\r\n        StepperComponent\r\n    ],\r\n    exports: [\r\n        StepperComponent\r\n    ]\r\n})\r\nexport class StepperModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: StepperModule, providers: [] };\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { PaginationMode } from './pagination.type';\r\n\r\n@Injectable()\r\nexport class PaginationConfig {\r\n    /**\r\n     * 形态，可选 `button`,`pointer`，默认：`button`\r\n     */\r\n    mode: PaginationMode = 'button';\r\n    /**\r\n     * 是否隐藏数值，默认：`false`\r\n     */\r\n    simple: boolean = false;\r\n\r\n    /**\r\n     * 小号按钮，默认：`true`\r\n     */\r\n    mini: boolean = true;\r\n\r\n    /**\r\n     * 上一页文本（支持HTML），默认：`上一页`\r\n     */\r\n    prevText: string = '上一页';\r\n    /**\r\n     * 下一页文本（支持HTML），默认：`下一步`\r\n     */\r\n    nextText: string = '下一步';\r\n}\r\n","import { Component, Input, Output, EventEmitter, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { PaginationMode } from './pagination.type';\r\nimport { PaginationConfig } from './pagination.config';\r\n\r\n@Component({\r\n    selector: 'weui-pagination',\r\n    template: `\r\n    <ng-template [ngIf]=\"mode==='button'\">\r\n        <div class=\"weui-pagination__item weui-pagination__prev\">\r\n            <a weui-button (click)=\"_goto(-1)\" weui-plain [weui-mini]=\"mini\" weui-type=\"default\" [disabled]=\"_prevDisabled\" [innerHTML]=\"prevText\"></a>\r\n        </div>\r\n        <div class=\"weui-pagination__item weui-pagination__num\" *ngIf=\"!simple\">{{current}}/{{total}}</div>\r\n        <div class=\"weui-pagination__item weui-pagination__next\">\r\n            <a weui-button (click)=\"_goto(1)\" weui-plain [weui-mini]=\"mini\" weui-type=\"default\" [disabled]=\"_nextDisabled\" [innerHTML]=\"nextText\"></a>\r\n        </div>\r\n    </ng-template>\r\n    <div class=\"weui-pagination__item weui-pagination__num\" *ngIf=\"mode==='pointer'\">\r\n        <div *ngFor=\"let i of _ptArr\" class=\"weui-pagination__dot\" [class.weui-pagination__dot-active]=\"current === i\"><span></span></div>\r\n    </div>\r\n    `,\r\n    host: {\r\n        'class': 'weui-pagination'\r\n    }\r\n})\r\nexport class PaginationComponent implements OnChanges {\r\n    _ptArr: number[] = [];\r\n    /**\r\n     * 形态，可选 `button`,`pointer`，默认：`button`\r\n     */\r\n    @Input() mode: PaginationMode;\r\n    /** 当前索引 */\r\n    @Input() current: number = 0;\r\n    /** 数据总数 */\r\n    @Input() total: number = 0;\r\n    /**\r\n     * 是否隐藏数值，默认：`false`\r\n     */\r\n    @Input() simple: boolean;\r\n    /**\r\n     * 小号按钮，默认：`true`\r\n     */\r\n    @Input() mini: boolean = true;\r\n    /**\r\n     * 上一页文本（支持HTML），默认：`上一页`\r\n     */\r\n    @Input() prevText: string;\r\n    /**\r\n     * 下一页文本（支持HTML），默认：`下一步`\r\n     */\r\n    @Input() nextText: string;\r\n    /** 分页触发的回调函数 */\r\n    @Output() change = new EventEmitter<number>();\r\n\r\n    constructor(cog: PaginationConfig) {\r\n        Object.assign(this, cog);\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (this.mode === 'pointer')\r\n            this._ptArr = Array(this.total).fill(1).map((v, i) => v + i);\r\n        this._checkDisabled();\r\n    }\r\n\r\n    _prevDisabled = false;\r\n    _nextDisabled = false;\r\n    _checkDisabled() {\r\n        if (this.mode === 'pointer') return;\r\n        this._prevDisabled = this.current <= 1;\r\n        this._nextDisabled = this.current >= this.total;\r\n    }\r\n\r\n    _goto(value: number) {\r\n        if (value === -1 && this._prevDisabled) return false;\r\n        if (value === 1 && this._nextDisabled) return false;\r\n\r\n        this.current += value;\r\n        this._checkDisabled();\r\n        this.change.emit(this.current);\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\nimport { ButtonModule } from './../button/button.module';\r\nimport { PaginationComponent } from './pagination.component';\r\nimport { PaginationConfig } from './pagination.config';\r\n\r\n@NgModule({\r\n    imports: [ CommonModule, ButtonModule.forRoot() ],\r\n    declarations: [\r\n        PaginationComponent\r\n    ],\r\n    exports: [\r\n        PaginationComponent\r\n    ]\r\n})\r\nexport class PaginationModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: PaginationModule, providers: [ PaginationConfig ] };\r\n    }\r\n}\r\n","import { NgModule, ModuleWithProviders } from '@angular/core';\r\n\r\nimport { CellModule } from './cell/cell.module';\r\nimport { ButtonModule } from './button/button.module';\r\nimport { FormModule } from './form/form.module';\r\nimport { SliderModule } from './slider/slider.module';\r\nimport { UploaderModule } from './uploader/uploader.module';\r\nimport { ActionSheetModule } from './actionsheet/actionsheet.module';\r\nimport { DialogModule } from './dialog/dialog.module';\r\nimport { LoadmoreModule } from './loadmore/loadmore.module';\r\nimport { ProgressModule } from './progress/progress.module';\r\nimport { GalleryModule } from './gallery/gallery.module';\r\nimport { PickerModule } from './picker/picker.module';\r\nimport { SearchBarModule } from './searchbar/searchbar.module';\r\nimport { TabModule } from './tab/tab.module';\r\nimport { ToastModule } from './toast/toast.module';\r\nimport { ToptipsModule } from './toptips/toptips.module';\r\nimport { PopupModule } from './popup/popup.module';\r\nimport { PTRModule } from './ptr/ptr.module';\r\nimport { InfiniteLoaderModule } from './infiniteloader/infiniteloader.module';\r\nimport { SidebarModule } from './sidebar/sidebar.module';\r\nimport { SwiperModule } from './swiper/swiper.module';\r\nimport { ChartG2Module } from './chart-g2/chart-g2.module';\r\nimport { JWeiXinModule } from './jweixin/jweixin.module';\r\nimport { AccordionModule } from './accordion/accordion.module';\r\nimport { MaskModule } from './mask/mask.module';\r\nimport { RatingModule } from './rating/rating.module';\r\nimport { StepperModule } from './stepper/stepper.module';\r\nimport { PaginationModule } from './pagination/pagination.module';\r\n\r\nexport * from './utils/types';\r\n\r\nexport * from './cell';\r\nexport * from './button';\r\nexport * from './form';\r\nexport * from './slider';\r\nexport * from './uploader';\r\nexport * from './actionsheet';\r\nexport * from './dialog';\r\nexport * from './loadmore';\r\nexport * from './progress';\r\nexport * from './gallery';\r\nexport * from './picker';\r\nexport * from './searchbar';\r\nexport * from './tab';\r\nexport * from './toast';\r\nexport * from './toptips';\r\nexport * from './popup';\r\nexport * from './ptr';\r\nexport * from './infiniteloader';\r\nexport * from './sidebar';\r\nexport * from './swiper';\r\nexport * from './chart-g2';\r\nexport * from './jweixin';\r\nexport * from './accordion';\r\nexport * from './mask';\r\nexport * from './rating';\r\nexport * from './stepper';\r\nexport * from './pagination';\r\n\r\nconst MODULES = [\r\n    CellModule, ButtonModule, FormModule, SliderModule, UploaderModule, ActionSheetModule,\r\n    DialogModule, LoadmoreModule, ProgressModule, GalleryModule, PickerModule, SearchBarModule,\r\n    TabModule, ToastModule, ToptipsModule, PopupModule, PTRModule, InfiniteLoaderModule,\r\n    SidebarModule, SwiperModule, ChartG2Module, JWeiXinModule, AccordionModule, MaskModule,\r\n    RatingModule, StepperModule, PaginationModule\r\n];\r\n\r\n@NgModule({\r\n    imports: [\r\n        CellModule.forRoot(), ButtonModule.forRoot(),  FormModule.forRoot(), SliderModule.forRoot(), UploaderModule.forRoot(), ActionSheetModule.forRoot(),\r\n        DialogModule.forRoot(), LoadmoreModule.forRoot(), ProgressModule.forRoot(), GalleryModule.forRoot(), PickerModule.forRoot(), SearchBarModule.forRoot(),\r\n        TabModule.forRoot(), ToastModule.forRoot(), ToptipsModule.forRoot(), PopupModule.forRoot(), PTRModule.forRoot(), InfiniteLoaderModule.forRoot(),\r\n        SidebarModule.forRoot(), SwiperModule.forRoot(), ChartG2Module.forRoot(), JWeiXinModule.forRoot(), AccordionModule.forRoot(), MaskModule.forRoot(),\r\n        RatingModule.forRoot(), StepperModule.forRoot(), PaginationModule.forRoot()\r\n    ],\r\n    exports: MODULES\r\n})\r\nexport class WeUiRootModule {\r\n}\r\n\r\n@NgModule({ exports: MODULES })\r\nexport class WeUiModule {\r\n    public static forRoot(): ModuleWithProviders {\r\n        return { ngModule: WeUiRootModule };\r\n    }\r\n}\r\n"],"names":["extendStatics","Object","setPrototypeOf","__proto__","Array","d","b","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","el","SwipeDirective","nativeElement","swipeEl","querySelector","setPos","style","transition","width","x","transform","$event","curX","touches","changedTouches","pageX","touch","newX","opend","Math","abs","Directive","selector","ElementRef","Input","HostListener","CellModule","ngModule","providers","NgModule","imports","CommonModule","declarations","exports","Injectable","value","_config","assign","ButtonComponent","_loading","toBoolean","_mini","_plain","_disabled","Component","host","class","[class.weui-btn_primary]","[class.weui-btn_default]","[class.weui-btn_warn]","[class.weui-btn_plain-primary]","[class.weui-btn_plain-default]","[class.weui-btn_plain-warn]","[class.weui-btn_disabled]","[class.weui-btn_plain-disabled]","[attr.disabled]","exportAs","template","ButtonConfig","HostBinding","ButtonModule","tagName","className","cssText","ret","document","createElement","appendChild","removeChild","InputDirective","parentEl","retEl","matches","parentElement","findParent","Error","ftEl","add","changes","_createValidator","_onChange","regex","inputRegex","RegExp","inputType","cleaner","_validator","control","length","undefined","_this","required","icon","type","actualValue","includes","replace","setValue","test","fn","c","classList","remove","provide","NG_VALIDATORS","useExisting","forwardRef","multi","VCodeDirective","onSend","_cur","innerHTML","subscribe","res","tick","err","error","count","seconds","setText","_t","setInterval","destroy","num","tpl","toString","clearInterval","(click)","[disabled]","TextareaDirective","init","_value","clsName","pel","maxlength","_count","cn","(ngModelChange)","ChecklistDirective","val","checked","targetArray","indexOf","target","push","splice","(change)","[checked]","FormModule","FormsModule","EventEmitter","Function","SliderDirective","isInit","trackEl","handlerEl","onTouchStart","startHandle","bind","onTouchMove","moveHandle","addEventListener","removeEventListener","_state","enabled","left","getBoundingClientRect","size","offsetWidth","percentage","max","min","step","layout","refresh","xDiff","getPercentage","calculateValue","round","rawValue","onChange","onTouched","change","emit","isDisabled","NG_VALUE_ACCESSOR","Output","SliderModule","FileLikeObject","fileOrInput","node","fakePathOrObject","nodeName","prop","attr","find","path","lastModifiedDate","slice","lastIndexOf","toLowerCase","name","object","FileItem","uploader","file","options","setOptions","id","random","substring","_file","uploadItem","e","_onCompleteItem","_onErrorItem","cancelItem","removeFromQueue","index","_getNextIndex","isReady","isUploading","isUploaded","isSuccess","isCancel","isError","progress","onUploadStart","onUploadProgress","response","status","headers","onUploadSuccess","onUploadError","removeAfterUpload","onUploadComplete","onUploadCancel","FileType","mimeClass","mime_psd","match","mime_compress","mime_doc","mime_xsl","mime_ppt","fileTypeDetection","inputFilename","types","jpg","jpeg","tif","psd","bmp","png","nef","tiff","cr2","dwg","cdr","ai","indd","pin","cdp","skp","stp","3dm","mp3","wav","wma","mod","m4a","compress","rar","7z","lz","z01","pdf","xls","xlsx","ods","mp4","avi","wmv","mpg","mts","flv","3gp","vob","m4v","mpeg","m2ts","mov","doc","docx","eps","txt","odt","rtf","ppt","pptx","pps","ppsx","odp","chunks","split","extension","globalConfig","Uploader","_options","_queue","_progress","_isUploading","getNotUploadedItems","filter","item","_nextIndex","includeOldQueue","filters","disableMultipart","method","alias","withCredentials","auto","limit","unshift","_queueLimitFilter","_fileSizeFilter","_fileTypeFilter","mimes","_mimeTypeFilter","i","getMimeClass","_failFilterIndex","every","call","isArray","names_1","sort","item1","item2","files","list","files_1","_i","arrayOfFilters","_getFilters","addedFileItems","map","some","temp","_isValidFile","fileItem","onFileQueued","onError","queue","_getTotalProgress","uploadAll","_getIndexOfItem","cancel","onFileDequeued","_prepareToUploading","_xhrTransport","abortTransport","_onCancelItem","_xhr","abort","items","onStart","upload","onCancel","_onBeforeUpload","uploadTransport","apply","_onSuccessItem","sendable","xhr","XMLHttpRequest","TypeError","FormData","append","params","keys","forEach","key","onprogress","event","lengthComputable","loaded","total","_onProgressItem","onload","_parseHeaders","getAllResponseHeaders","_transformResponse","gist","_isSuccessCode","onerror","onabort","open","url","_a","header","setRequestHeader","send","notUploaded","uploaded","ratio","current","parsed","line","trim","_onProgress","_onError","_onSuccess","_onCancel","_onComplete","nextItem","getReadyItems","onFinished","UploaderConfig","Inject","Optional","element","UploaderFileDirective","attributes","multiple","addToQueue","_isEmptyAfterSelection","getDOM","getUserAgent","window","File","isImage","URL","createObjectURL","FileThumbDirective","genImageUrl","backgroundImage","render","UploaderModule","DEF","ActionSheetComponent","_shownAnt","config","backdrop","skin","isAndroid","_shown","setTimeout","Observable","observer","is_backdrop","close","menu","next","complete","hide","Subscription","unsubscribe","animations","trigger","state","opacity","animate","[hidden]","[class.weui-skin_android]","ActionSheetConfig","BaseService","resolver","applicationRef","injector","component","pop","componentRef","resolveComponentFactory","componentRootNode","rootNodes","attachView","hostView","onDestroy","detachView","body","_super","tslib_1.__extends","ActionSheetService","menus","build","instance","show","ComponentFactoryResolver","ApplicationRef","Injector","ActionSheetModule","entryComponents","MaskComponent","MaskModule","DialogComponent","btns","text","cancelType","confirm","confirmType","input","inputError","inputOptions","inputAttributes","defaultValue","inputValue","_promptData","promptCheck","setFocus","inputRequired","_prompError","containerEl","container","firstFormEl","focus","keyCode","_onSelect","w","result","DialogConfig","ViewChild","DialogService","data","DialogModule","LoadmoreConfig","LoadmoreModule","LoadmoreComponent","ProgressComponent","canCancel","ProgressModule","GalleryComponent","_showd","canDelete","delete","_onHide","showChange","parseImgs","imgs","imgUrl","_imgs","GalleryModule","PickerComponent","_selected","v","label","_groups","fill","parseOptions","fh","_showP","disabled","gruopCount","separator","idx","getSelecteItem","_text","join","findIndex","groupIndex","groupChange","_setText","lastItem","_setDefault","blur","PickerConfig","offset","rowHeight","bodyHeight","inertiaTime","slideDuration","PickerGroupComponent","defaultIndex","_distance","defaults","startY","pageY","startTime","Date","endTime","endY","speed","_animating","preventDefault","_speed","windowY","innerHeight","stop","diff","dist","_getMax","_getMin","[class.weui-picker__group]","FORMAT","format","yu","Mu","du","hu","mu","datePipe","DatePickerComponent","_format","genDateGroups","genDateTimeGroups","year","getFullYear","month","getMonth","day","getDate","startYear","endYear","_v","cy","startMonth","endMonth","cm","startDay_1","endDay","hours","getHours","minutes","getMinutes","now","obj","y","M","h","m","s","date","f","genValueBySelected","retVal","getTime","formatValue","getFormatDate","_pickerInstance","genGroups","initFlag","_onShow","DatePipe","CityPickerComponent","_tmpData","parseData","dataMap","subKey","selected","group","newselected","_selectedClone","shift","_group","JSON","parse","stringify","g","groups","dept","newSelected","code","substr","valueToSelect","PickerService","defaultSelect","writeValue","_triggerShow","ngOnChanges","PickerModule","Subject","SearchBarComponent","_q","_sub","_subject","pipe","debounceTime","distinctUntilChanged","q","search","_term","_focus","_onBlur","_doFocus","clear","stopPropagation","submit","SearchBarConfig","SearchBarModule","BarComponent","tab","tabs","active","isDestroyed","hasAvailableTabs","newActiveIndex","getClosestTabIndex","removed","tabsLength","prevIndex","nextIndex","_tabComp","TabDirective","_active","deselect","select","NavbarComponent","[class.weui-tab]","TabbarComponent","TabModule","time","ToastComponent","timer","onHide","clearTimeout","ToastConfig","ToastService","onShow","ToastModule","ToptipsComponent","_type","setClassMap","_classMap","ToptipsService","ToptipsModule","PopupComponent","parseConfig","shown","PopupConfig","PopupModule","PTRComponent","_lastLabel","lastUpdatedLabel","_pullPercent","loading","touching","setLastUpdatedLabel","touchId","targetTouches","identifier","ogY","initScrollTop","contentEl","scrollTop","diffY","scroll","treshold","loaderEl","iconEl","[class.weui-ptr]","PTRConfig","PTRModule","zone","InfiniteLoaderComponent","_finished","scrollEvent","floor","clientHeight","scrollHeight","percent","loadmore","scrollTime","didScroll","_onScroll","throttle","disposeScroller","FromEventObservable","[class.weui-infiniteloader]","[style.height]","NgZone","InfiniteLoaderConfig","InfiniteLoaderModule","SidebarService","_openObserver","_closeObserver","_sidebarService","_clickEvent","_onClickOutside","_openSub","onOpen","_closeSub","onClose","SidebarComponent","_anting","currentValue","firstChange","modeChange","positionChange","_initCloseListeners","_destroyCloseListeners","statusChange","openStart","closeAnt","closeStart","_rerender","transformStyle","isSlideMode","mode","position","webkitTransform","opened","closed","_onClickOutsideAttached","_elSidebar","contains","offsetHeight","changeDetection","ChangeDetectionStrategy","OnPush","SidebarConfig","_ref","_el","SidebarContainerComponent","_onToggle","_subscribe","_sidebars","_unsubscribe","_showBackdropChange","$body","orgOverflowX","overflowX","sidebar","isLeftOrTop","isLeftOrRight","_width","_height","margin","_markForCheck","markForCheck","hasOpen","toArray","_showBackdrop","ChangeDetectorRef","ContentChildren","CloseSidebarDirective","SidebarModule","loop","pagination","SwiperComponent","runOutsideAngular","swiper","Swiper","initOptions","SwiperConfig","SwiperModule","ChartG2Directive","_chart","GM","buildChart","Chart","console","warn","ChartG2Module","LoaderService","paths","Promise","resolve","reject","promises","endsWith","loadCss","loadScript","all","then","catch","src","charset","defer","getElementsByTagName","rel","href","DOCUMENT","load","JWeiXinService","jweixinUrl","JWeiXinModule","AccordionComponent","panels","activeFirst","cur","collapsible","panel","[attr.aria-multiselectable]","AccordionConfig","accordion","AccordionPanelComponent","_closeOthers","_add","_remove","_index","[class.weui-accordion-panel-disabled]","[class.weui-accordion-active]","AccordionModule","RatingComponent","cog","_c","states","_class","cls","_range","on","stateOn","off","stateOff","title","titles","_setConfig","readonly","_preValue","RatingConfig","RatingModule","Infinity","StepperComponent","_step","stepString","_precisionStep","parseInt","_precisionFactor","pow","isNaN","_checkDisabled","_disabledPlus","_disabledMinus","_toPrecisionAsStep","_notify","_inputNumber","Number","toFixed","StepperModule","PaginationComponent","_ptArr","_prevDisabled","_nextDisabled","PaginationConfig","PaginationModule","forRoot","MODULES","WeUiModule","WeUiRootModule"],"mappings":"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"}