
# elastos 钱包 C++ & JS 调用接口文档



#### > 统一错误码


```
{
    参数错误
    密码错误
    权限错误
    网络错误
    ...
}


```

## 一、钱包模块


#### 1. 创建钱包（生成主 助记词&&私钥）


##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     walletName   |      |   char   |      | 钱包名称    |
|     securityPassWord  |      |   char   |      | 导入导出密码？    |
|     payPassWord   |      |   char   |    *  | 支付密码    |
|     singleAddress   |      |   boolean   |      | 是否为单地址钱包    |



##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     mnemonic   |  一  而  我    |   char   |    *  |  助记词（明文）    |
|     mnemonicEncrypted   |xxxx   |   char   |      |  助记词（密文）    |
|     pubKeyEncrypted   |xxxx   |   char   |    *  |  主公钥 （密文）   |
|     address   |   |   address   |   *   |  地址   |


---



#### 2. 查询钱包余额

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     pubKeyEncrypted   |      |   char   |  *    | 公钥    |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     amount   |  123    |   double   |    *  |  余额   |


---



#### 3. 导入钱包（通过私钥文件）

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     keystore   |      |   json   |  *    |  私钥文件json   |
|     securityPassWord   |      |   char   |      |  导入密码   |
|     payPassWord   |      |   char   |    *  | 支付密码    |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     pubKeyEncrypted   |xxxx   |   char   |    *  |  主公钥   |
|     amount   |  123    |   double   |    *  |  余额   |


---



#### 4. 导入钱包（通过助记词）

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     mnemonic   |      |   char   |   *   |  助记词   |
|     securityPassWord   |      |   char   |      |  导入密码   |
|     payPassWord   |      |   char   |    *  | 支付密码    |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     pubKeyEncrypted   |xxxx   |   char   |    *  |  主公钥   |
|     amount   |  123    |   double   |    *  |  余额   |

---
#### 5. 导出钱包（助记词）

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     securityPassWord   |      |   char   |      |  导出密码   |
|     payPassWord   |      |   char   |    *  | 支付密码    |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     mnemonic   |   |   char   |   *   |  助记词   |

---
#### 6. 导出钱包（私钥文件）

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     securityPassWord   |      |   char   |      |  导出密码   |
|     payPassWord   |      |   char   |    *  | 支付密码    |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     keystore   |   |   json   |   *   |  私钥文件json   |


---


## 二、地址模块


#### 1. 创建新地址

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     pubKeyEncrypted   |xxxx   |   char   |    *  |  主公钥   |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     address   |   |   address   |   *   |  地址   |


---



#### 2. 获取最新地址

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     pubKeyEncrypted   |xxxx   |   char   |    *  |  主公钥   |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     address   |   |   address   |   *   |  地址   |


---

#### 3. 获取所有地址

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     pubKeyEncrypted   |xxxx   |   char   |    *  |  主公钥   |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     addressList   |   |   list   |   *   |  地址列表   |


---

#### 4. 查询地址余额

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     address   |      |   address   |  *    | 地址    |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     amount   |  123    |   double   |    *  |  余额   |


---



#### 5. 注册地址回调 ？？？

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     pubKeyEncrypted   |xxxx   |   char   |    *  |  主公钥   |
|     address   |   |   address   |   *   |  地址   |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|        |   |      |      |     |


---

## 三、交易模块


#### 1. 创建转账交易

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     pubKeyEncrypted   |xxxx   |   char   |      |  主公钥   |
|     addressFrom   |xxxx   |   address   |    *  |  发起人地址   |
|     addressTo   |xxxx   |   address   |    *  |  接收方地址   |
|     amount   |xxxx   |   double   |    *  |  金额   |
|     free   |xxxx   |   double   |    *  |  手续费   |
|     payPassWord   |      |   char   |    *  | 支付密码    |
|     remark   |xxxx   |   char   |      |  备注   |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     txId   |   |  char   |   *   |  交易id   |
|     amount   |   |  double   |   *   |  金额   |
|     free   |xxxx   |   double   |    *  |  手续费   |
|     statue   |   |  emun   |   *   |  发送 、接收、确认中、打包中、失败  |
|     remark   |   |  char   |     |  备注  |
|     addressFrom   |xxxx   |   address   |    *  |  发起人地址   |
|     addressTo   |xxxx   |   address   |    *  |  接收方地址   |
|     time   |xxxx   |   time   |    *  |  交易的时间   |
|     confirmations   |xxxx   |   int   |    *  |  确认数   |

---

#### 2. 查询所有交易记录（通过公钥）

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     pubKeyEncrypted   |xxxx   |   char   |  *    |  主公钥   |


##### 响应数据（列表）：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     txId   |   |  char   |   *   |  交易id   |
|     amount   |   |  double   |   *   |  金额   |
|     free   |xxxx   |   double   |    *  |  手续费   |
|     statue   |   |  emun   |   *   |  发送 、接收、确认中、打包中、失败  |
|     remark   |   |  char   |     |  备注  |
|     addressFrom   |xxxx   |   address   |    *  |  发起人地址   |
|     addressTo   |xxxx   |   address   |    *  |  接收方地址   |
|     time   |xxxx   |   time   |    *  |  交易的时间   |
|     confirmations   |xxxx   |   int   |    *  |  确认数   |
---

#### 3. 查询所有交易记录（通过地址）

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     address   |xxxx   |   address   |  *    |  地址   |


##### 响应数据（列表）：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     txId   |   |  char   |   *   |  交易id   |
|     amount   |   |  double   |   *   |  金额   |
|     free   |xxxx   |   double   |    *  |  手续费   |
|     statue   |   |  emun   |   *   |  发送 、接收、确认中、打包中、失败  |
|     remark   |   |  char   |     |  备注  |
|     addressFrom   |xxxx   |   address   |    *  |  发起人地址   |
|     addressTo   |xxxx   |   address   |    *  |  接收方地址   |
|     time   |xxxx   |   time   |    *  |  交易的时间   |
|     confirmations   |xxxx   |   int   |    *  |  确认数   |
---

#### 4. 查询一条交易记录（通过交易id）

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     txId   |   |   int   |  *    |  交易id   |


##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     txId   |   |  char   |   *   |  交易id   |
|     amount   |   |  double   |   *   |  金额   |
|     free   |xxxx   |   double   |    *  |  手续费   |
|     statue   |   |  emun   |   *   |  发送 、接收、确认中、打包中、失败  |
|     remark   |   |  char   |     |  备注  |
|     addressFrom   |xxxx   |   address   |    *  |  发起人地址   |
|     addressTo   |xxxx   |   address   |    *  |  接收方地址   |
|     time   |xxxx   |   time   |    *  |  交易的时间   |
|     confirmations   |xxxx   |   int   |    *  |  确认数   |
---

#### 5. 注册交易回调 ？？？

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|        |   |      |      |     |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|        |   |      |      |     |

---

## 四、多签  下一版实现


#### 1. 创建多签地址 ???

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     pubKeyEncrypted   |xxxx   |   char   |    *  |  主公钥   |
|     m   |      |   int   |  *    | 签名的总人数    |
|     n  |      |   int   |   *   | 签名验证所需要的人数   |


##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     address   |   |   address   |   *   |  地址   |


---



#### 2. 查询所有多签地址

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     pubKeyEncrypted   |xxxx   |   char   |    *  |  主公钥   |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     addressList   |   |   List   |   *   |  地址列表   |

---

#### 3. 查询多签地址余额

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     address   |xxxx   |   address   |    *  |  地址   |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     amount   |   |   double   |   *   |  地址余额   |

---

#### 4. 多签转账交易

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     signature   |xxxx   |   char   |      |  包括n各所有者的联合签名   |
|     addressFrom   |xxxx   |   address   |    *  |  发起人地址   |
|     addressTo   |xxxx   |   address   |    *  |  接收方地址   |
|     amount   |xxxx   |   double   |    *  |  金额   |
|     free   |xxxx   |   double   |    *  |  手续费   |
|     payPassWord   |      |   char   |    *  | 支付密码    |
|     remark   |xxxx   |   char   |      |  备注   |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     txId   |   |  char   |   *   |  交易id   |
|     amount   |   |  double   |   *   |  金额   |
|     free   |xxxx   |   double   |    *  |  手续费   |
|     statue   |   |  emun   |   *   |  发送 、接收、确认中、打包中、失败  |
|     remark   |   |  char   |     |  备注  |
|     addressFrom   |xxxx   |   address   |    *  |  发起人地址   |
|     addressTo   |xxxx   |   address   |    *  |  接收方地址   |
|     time   |xxxx   |   time   |    *  |  交易的时间   |
|     confirmations   |xxxx   |   int   |    *  |  确认数   |

---


#### 5. 对交易签名

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     pubKeyEncrypted   |xxxx   |   char   |    *  |  公钥   |
|     signature   |xxxx   |   char   |    *  |  签名的内容   |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     signature   |   |   char   |   *   |  签名后的内容   |

---

#### 6. 验证交易签名

##### 请求数据：

| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     pubKeyEncrypted   |xxxx   |   char   |    *  |  公钥   |
|     signature   |xxxx   |   char   |    *  |  签名的内容   |

##### 响应数据：
| 字段名 | 内容 | 类型 | 非空 | 备注 |
| ------ | ---- | ---- | ---- |---- |
|     m   |   |   int   |   *   |  完成交易需要的签名数   |
|     n   |   |   int   |   *   |  当前已经签名人数   |

---

---

## 其他问题

 - 回调的细节
 - 多币种扩展的考虑


